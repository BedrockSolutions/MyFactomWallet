{"version":3,"sources":["vote/shared/SectionHeader.js","header/CustomNodeForm.js","header/HelpModal.js","header/Header.js","withRootTheme.js","context/FactomCliContext.js","context/WalletController.js","context/SeedContext.js","context/SeedController.js","context/FactomCliController.js","TestnetDisclaimer.js","context/NetworkController.js","context/VoteContext.js","context/VoteController.js","Disclaimer.js","TestnetWarningBar.js","addWallet/ImportTypeForm.js","addWallet/ImportFctForm.js","addWallet/ImportEcForm.js","addWallet/NewSeedForm.js","walletManager/shared/BalanceFormatter.js","addWallet/GenerateAddressTable.js","addWallet/LedgerForm.js","addWallet/SeedForm.js","addWallet/ImportSeedForm.js","addWallet/AddWalletStepContent.js","addWallet/AddWalletStepper.js","addWallet/AddWalletModal.js","walletManager/Sidebar.js","walletManager/shared/AddressInfoHeader.js","walletManager/SendTransactionPreview.js","walletManager/SendFactoidForm.js","walletManager/ConvertTransactionPreview.js","walletManager/ConvertECForm.js","walletManager/ViewPrivateKeyForm.js","walletManager/AddressInfoForm.js","walletManager/TransactionList.js","walletManager/AddressInfoTab.js","walletManager/WalletTabContent.js","walletManager/WalletManager.js","addWallet/AddInitialWallet.js","vote/listing/VoteTable.js","vote/listing/VoteListing.js","component/form/FormTextField.js","vote/shared/EligibleVotersList.js","vote/create/VOTE_CONSTANTS.js","vote/create/EligibleVotersForm.js","vote/create/VOTE_EXAMPLE_DATA.js","vote/create/SubmitVoteForm.js","vote/shared/VoteSummary.js","vote/create/PreviewVote.js","vote/create/FinalStep.js","vote/create/VoteConfiguration.js","component/form/FormSelectField.js","vote/create/CreateVoteForm.js","vote/create/CreateVoteStepper.js","AppRouter.js","App.js","registerServiceWorker.js","index.js","context/NetworkContext.js","context/WalletContext.js","headerLogo.png","context/LedgerController.js","context/LedgerContext.js"],"names":["SectionHeader","_ref","disableGutterBottom","text","color","textColor","react_default","a","createElement","Typography_default","gutterBottom","variant","style","CustomNodeForm","event","target","type","which","preventDefault","_Yup$object$shape","_this","this","classes","props","formik_esm","initialValues","host","port","onSubmit","values","actions","console","log","handleCustomNode","validationSchema","Yup","shape","Object","defineProperty","required","render","isSubmitting","errors","touched","onKeyPress","handleKeyPress","shared_SectionHeader","id","CustomNodeForm_FormTextField","error","name","label","msg","className","errorText","Button_default","disabled","React","Component","FormTextField","_ref2","field","TextField_default","assign","inputProps","spellCheck","maxLength","autoComplete","margin","fullWidth","multiline","withStyles","theme","fontSize","AddWalletModal","state","open","handleOpen","setState","handleClose","menuText","onClick","Modal_default","aria-labelledby","onClose","Paper_default","modalContent","rel","href","position","boxShadow","shadows","top","left","transform","minHeight","padding","maxWidth","ButtonAppBar","voteAnchorEl","networkAnchorEl","openCustomNodeForm","handleOpenCustomNodeForm","handleCloseCustomNodeForm","handleVoteClick","currentTarget","handleVoteClose","handleNetworkClick","handleNetworkClose","handleTestnet","walletController","handleNetworkChange","handleMainnet","handleWallet","readyToManageWallet","isWalletEmpty","setReadyToManageWallet","_this$props","networkProps","networkController","_this$state","testnetActive","network","AppBar_default","root","Toolbar_default","toolbar","IconButton_default","menuButton","aria-label","Link","to","logo","src","alt","flex","testnetHeader","Fragment","aria-owns","aria-haspopup","ExpandMore_default","Menu_default","anchorEl","Boolean","MenuItem_default","component","HelpModal","CloudDoneOutlined_default","titleAccess","aria-describedby","header_CustomNodeForm","enhancer","_flowRight","withNetwork","withWalletContext","flexGrow","marginBottom","width","marginTop","marginRight","borderStyle","borderWidth","subMenuText","spacing","unit","backgroundColor","palette","background","paper","createMuiTheme","withRootTheme","styles","CssBaseline_default","FactomCliContext","createContext","withFactomCli","BaseComponent","Consumer","factomCliController","FACTOSHI_MULTIPLIER","LOCAL_STORAGE_KEY","LOCAL_STORAGE_PROPERTY_WHITELIST","WalletController","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","smartSetState","newState","afterSetState","arguments","length","undefined","_noop","Promise","resolve","_flow","saveStateToLocalStorage","filterArray","addressArray","filter","address","saveLocally","map","_pick","_this$state$addresses","objectSpread","addresses","mainnet","testnet","storageAddresses","fct","ec","localStorage","setItem","JSON","stringify","hydrateStateWithLocalStorage","asyncToGenerator","regenerator_default","mark","_callee","localStorageAddresses","prepareArray","wrap","_context","prev","next","parse","getItem","_isNil","addr_o","balance","transactions","prevState","setDefaultIndex","updateBalances","force","isStateHydrated","stop","value","_callee2","_context2","changeNetwork","connectToServer","_x","apply","deleteAddress","_ref3","_callee3","activeAddressIndex_o","addressList","_context3","toConsumableArray","splice","index","_x2","addAddressTransaction","transactionID","push","updateAddress","_ref4","_callee4","nickname","_context4","_x3","_x4","_x5","_isEmpty","getFactoidAddresses","getEntryCreditAddresses","selectAddress","verifyKey","privateKey","_ref5","getPublicAddress","valueOf","err","addAddress","address_o","addAddresses","getNextIndex","_ref6","_callee5","_context5","concat","_x6","_x7","getActiveAddress","getAddresses","updateWalletBalance","_ref7","_callee6","wallet","_context6","factomCli","getBalance","sent","abrupt","_x8","_callee7","_ref9","_ref9$force","_ref10","_ref11","factoidAddresses","ecAddresses","_args7","_context7","all","slicedToArray","getEntryCreditRate","_callee8","_context8","getFactoshiFee","_callee9","ecRate","exampleAddress","fee","_context9","Transaction","builder","input","Number","MAX_SAFE_INTEGER","output","build","computeRequiredFees","rcdType","getFactoidFee","_callee10","factoshiFee","_context10","newStandardAddress","importType","newSeedAddress","newLedgerAddress","WalletContext","Provider","children","SeedContext","withSeed","seedController","keyToFctAddress","key","keyToPrivateFctAddress","keyToECAddress","keyToPrivateEcAddress","SeedController","getSeedAddresses","mnemonic","startIndex","amount","result","bip32Account","factombip44","FactomBIP44","generateFactoidPrivateKey","generateEntryCreditPrivateKey","signWithSeed","toAddr","signedTX","createFactoidTransaction","createEntryCreditPurchaseTransaction","verifySeed","getPrivateKey","getRandomMnemonic","randomMnemonic","FactomCliController","defaultConnectionParams","apiPort","path","debugPath","protocol","rejectUnauthorized","retry","retries","factor","minTimeout","maxTimeout","getDefaultConnectionParams","newFactomCli","connectionParams","FactomCli","defaultsDeep","_args","ConfirmationDialogRaw","handleAgree","handleChange","nextProps","other","objectWithoutProperties","Dialog_default","disableBackdropClick","disableEscapeKeyDown","DialogTitle_default","align","Warning_default","DialogContent_default","lessPad","DialogActions_default","ConfirmationDialog","_this2","TestnetDisclaimer_ConfirmationDialogRaw","NetworkController","paddingBottom","factoidAbbreviation","factoidAbbreviationFull","ecAbbreviation","ecAbbreviationFull","explorerURL","explorerApiURL","voteRegistrationChainID","NetworkContext","VoteContext","client","ApolloClient","uri","PUBLIC_KEYS_RESOLVER","gql","_templateObject","VoteController","publicKeysResolver","identityChainId","blockHeight","data","query","variables","chain","_get","newFactomVoteManager","FactomVoteManager","privateKeysResolver","submitVote","voteData","ecPrivateAddress","factomVoteManager","createVote","react_apollo_browser_umd","Disclaimer_ConfirmationDialogRaw","appBar","bottom","paddingTop","marginLeft","warningIcon","toolbarSpace","height","ImportTypeForm","handleNext","FormControl_default","FormLabel_default","RadioGroup_default","onChange","e","updateImportType","getImportTypes","option","FormControlLabel_default","control","Radio_default","fctAddrPath","ImportFctForm","_this$props$walletCon","factoidAddress","fctAddress_o","get","trim","test","isValidFctPublicAddress","findIndex","ImportFctForm_FormTextField","handleBack","ImportEcForm","entryCreditAddress","ecAddress_o","isValidEcPublicAddress","ImportEcForm_FormTextField","helperText","NewSeedForm","step","nextStep","setMnemonic","oneOf","fontWeight","warningText","NewSeedForm_FormTextField","autoFocus","FormatFCTBalance","factoshiBalance","parseInt","toLocaleString","maximumFractionDigits","FormatECBalance","entryCreditBalance","GenerateAddressTable","loading","addGeneratedAddress","arrayHelpers","newAddress","replace","validateNickname","userAddressNicknames","userAddressList","indexOf","getNext","getNextFive","generatedAddressList","setFieldValue","userAddresses","title","Table_default","TableHead_default","TableRow_default","CustomCell","TableBody_default","checkboxPath","nicknamePath","duplicate","Tooltip_default","Checkbox_default","checked","labelPlacement","form","BalanceFormatter","find","validate","errorTextSmall","TableFooter_default","CircularProgress_default","thickness","head","paddingLeft","paddingRight","body","TableCell","overflowX","maxHeight","common","black","white","LedgerForm","retryConnection","ledgerStatus","ledgerController","getLedgerAddresses","ledgerConnected","t0","hasAddressSelected","formValues","keys","startsWith","some","enableReinitialize","validAddresses","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","addWallet_GenerateAddressTable","getTitle","withLedger","SeedForm","ImportSeedForm","validMnemonic","ImportSeedForm_FormTextField","placeholder","AddWalletStepContent","activeStep","addWallet_ImportTypeForm","addWallet_ImportFctForm","addWallet_ImportEcForm","addWallet_NewSeedForm","addWallet_ImportSeedForm","addWallet_LedgerForm","addWallet_SeedForm","getStandardSteps","getSeedAddressSteps","stepMap","importSeed","new","ledger","AddWalletStepper","initialState","getSteps","handleReset","handleCloseText","steps","sectionHeaderText","Stepper_default","stepper","Step_default","StepLabel_default","AddWalletStepper_TestnetFinalStep","AddWalletStepper_MainnetFinalStep","addWallet_AddWalletStepContent","MainnetFinalStep","TestnetFinalStep","testnetWarning","OpenInNew_default","minWidth","borderColor","display","center","button","addWallet_AddWalletStepper","Sidebar","listfactoidAddresses","expanded","nicknameStyle","ExpansionPanel_default","ExpansionPanelSummary_default","Grid_default","container","justify","item","break","listecAddresses","xs","noPadding","List_default","ListItem_default","walletListHeader","addressHeading","disableGutters","walletList","listAddrRoot","addWallet_AddWalletModal","wordWrap","overflow","borderRadius","textAlign","pointer","cursor","_props$walletControll","checkAddress","activeAddress_o","elevation","react_copy_to_clipboard_lib","SvgIcon_default","d","VerifiedUser_default","transferFactoidAmountText","transferFactoidUnitText","factoidAmountSmallText","detail","divider","opacity","border","factoidAmount","sendFactoidFee","totalFactoidAmount","totalFactoidAmountText","feeFactoidAmountText","recipientAddressPath","myFctWalletAnchorElPath","SendFactoidForm","seed","maxFactoids","signWithLedger","maxAmount","getMaxFCT","sendFactoidAmount","recipientAddress","myFctWalletAnchorEl","transaction","seedTrans_o","fromAddr","_toAddr","_amount","_index","ledgerTrans_o","txId","Math","round","isLedgerConnected","resetForm","sendTransaction","positive","max","when","is","then","otherwise","notRequired","shared_AddressInfoHeader","FactoidAddressMenu","walletManager_SendTransactionPreview","transactionError","transactionErrorText","CheckCircleOutlined_default","nativeColor","successIcon","sendButton","convertECAmountText","ecUnitText","factoidCostSmallText","ecAmount","totalFactoidCostText","ConvertECForm","sendFactoshiFee","maxEntryCredits","getMaxEC","entryCreditAmount","ECAddressMenu","walletManager_ConvertTransactionPreview","ViewPrivateKeyForm","ViewPrivateKeyForm_FormTextField","errorClass","Visibility_default","enableSpellCheck","AddressInfoForm","window","setTimeout","AddressInfoForm_FormTextField","size","deleteButton","deleteConfirmationText","TransactionList","overflowWrap","walletManager_AddressInfoForm","walletManager_TransactionList","WalletTabContent","tabValue","activeAddress","Tabs_default","indicatorColor","centered","Tab_default","TabContainer","walletManager_AddressInfoTab","walletManager_SendFactoidForm","walletManager_ConvertECForm","walletManager_ViewPrivateKeyForm","tabContainer","WalletManager","walletManager_Sidebar","walletManager_WalletTabContent","AddInitialWallet","withRouter","VoteTable","allProposals","voteList","tableRows","voteList_o","voteID","adminID","status","commitPhase","revealPhase","row","voteChainId","admin","voteInitiator","proposal","vote","phasesBlockHeights","commitStart","commitStop","revealStart","reavealStop","tableWrapper","expandColumn","ExpandLess_default","toggleExpand","expandIcon","TableCell_default","titleColumn","columnHeader","statusColumn","defaultValue","dateColumn","pollChainIDColumn","shortPollChainIDColumn","adminIDColumn","shortAdminIDColumn","hover","TablePagination_default","Grid","onChangePage","count","rowsPerPage","page","table","textOverflow","footerPagination","GET_LISTING","VoteListing_templateObject","VoteListing","handleExpand","limit","VoteListing_PreLoadHeader","message","direction","topFilters","index_es","Switch_default","defaultChecked","FilterList_default","listing_VoteTable","PreLoadHeader","accept","_ref$autoComplete","_ref$disabled","_ref$displayError","displayError","_ref$error","_ref$fullWidth","isNotFast","_ref$shrink","shrink","_ref$spellCheck","_ref$type","FieldType","Field","FastField","InputLabelProps","EligibleVotersList","eligibleVoters","errorMessage","listContainer","list","dense","voter","Person_default","ListItemText_default","primary","voterId","secondary","weight","remove","Clear_default","BINARY_CONFIG","numOptions","SINGLE_OPTION_CONFIG","APPROVAL_CONFIG","INSTANT_RUNOFF_CONFIG","ALL_ELIGIBLE_VOTERS","PARTICIPANTS_ONLY","VOTE_TYPES","0","1","2","HASH_ALGO_VALUES","REGEX_CHAIN_ID","GET_VOTERS","EligibleVotersForm_templateObject","selectedListPath","workingIdentityChainIdPath","workingWeightPath","workingEligibleChainIdPath","loadErrorMessagePath","loadSuccessMessagePath","workingFileNamePath","workingFilePath","formatVoter","SelectParticipants","isValidVoter","voter_o","_isFinite","handleFile","file","reader","readAsText","onloadend","voterList","split","newVoterList","invalidData","attributes","forEach","handleVoter","handleVoterChainId","voterData","apolloClient","voterIndex","findVoter","currentEligibleVoters","resetAddVoterFields","fileVoters","FileReader","scrollTo","eligibleVotersForm","updateParticipants","useEligibleVoterTestData","formFields","workingWeight","currentValue","originalValue","moreThan","workingIdentityChainId","matches","excludeEmptyString","workingEligibleChainId","submitCount","workingAddVoter_o","pad","borders","form_FormTextField","padLoadVoters","files","verticalAlign","successText","shared_EligibleVotersList","stepperButtons","borderRightStyle","borderRightColor","borderRightWidth","borderLeftStyle","borderLeftColor","borderLeftWidth","IDENTITY","VOTE_EXAMPLE_CONFIG","pollForm","pollJSON","externalRef","hash","algo","commitEnd","revealEnd","eligibleVotersChainId","config","options","allowAbstention","computeResultsAgainst","minOptions","maxOptions","winnerCriteria","minSupport","*","weighted","unweighted","acceptanceCriteria","minTurnout","commitStartDate","commitEndDate","revealStartDate","revealEndDate","voteTypeText","questionSource","workingText","workingHref","workingHashValue","workingHashAlgo","workingOption","checkedTurnout","workingWeightMinTurnout","workingUnweightMinTurnout","workingWeightMinSupport","workingUnweightMinSupport","workingMinSupportOption","selectedList","loadingVoters","loadErrorMessage","loadSuccessMessage","workingFileName","workingFile","EXAMPLE_IDENTITY","chainId","SubmitVoteForm","voteCreationCost","componentDidMount","definition","poll","registrationChainId","identity","computeVoteCreationCost","validateEcPrivateKey","isValidEcPrivateAddress","updateCreatePollResult","identityChainID","identityKey","ecPrivateKey","processing","voteController","digital","isValidSecretIdentityKey","commitEndPath","revealEndPath","hrefPath","optionsPath","minSupportPath","weightedMinTurnoutPath","unweightedMinTurnoutPath","VoteSummary","currentHeight","tfaURL","fetch","response","json","minSupportOption","weightedMinSupportPath","unweightedMinSupportPath","voteTypeValue","hasMinTurnoutCritiera","calculateWriteTime","smallGridColumn","LabelImportant_default","disableRipple","writeHeight","minutes","Date","setTime","getTime","toLocaleTimeString","year","month","day","hour","minute","flexBasis","optionList","submitVoteForm","shared_VoteSummary","create_SubmitVoteForm","ExplorerLink","URL","ID","createPollResult","entryHashURL","FinalStep_ExplorerLink","entryHash","registration","VoteConfiguration","updatePoll","usePollTestData","InputLabel_default","htmlFor","Select_default","VOTE_TYPE_VALUES","COMPUTE_AGAINST_VALUES","ABSTENTION_VALUES","commitStartPath","revealStartPath","minOptionsPath","maxOptionsPath","voteTypeTextPath","workingOptionPath","workingHrefPath","workingTextPath","checkedTurnoutPath","workingMinSupportOptionPath","CreateVoteForm","validateWriteHeight","isNaN","validateWorkingOption","hasOption","handleTime","writeTime","currentDate","diffBlocks","calculateWriteHeight","handleBlock","newDate","date","getTimezoneOffset","offset","hours","getHours","setHours","convertUTCToLocal","setSeconds","toISOString","removeOption","optionsLength","getMinimumOptions","optionsList","minOptionsList","ii","getMaximumOptions","maxOptionsList","_this3","validateOnChange","cv","min","requiredSupport","_this$parent","parent","url","_this$parent2","winnerCriteriaOption","_omit","setFieldTouched","setFieldError","alignItems","form_FormSelectField","newValue","blockFields","raiseRadio","optionListItem","CreateVoteStepper","stepIndex","createVoteSnapshot","EligibleVotersForm","create_CreateVoteForm","create_PreviewVote","VoteConfiguration_VoteConfiguration","create_FinalStep","getStepContent","AppRouter","HashRouter","Route","exact","walletManager_WalletManager","addWallet_AddInitialWallet","App","context_NetworkController","context_FactomCliController","context_WalletController","context_VoteController","Header","context_SeedController","LedgerController","src_AppRouter","src_TestnetWarningBar","location","hostname","match","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","unregister","__webpack_require__","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","p","BIP_32_COIN_TYPES","C_Users_David_Factom_Bedrock_Solutions_MyFactomWallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_David_Factom_Bedrock_Solutions_MyFactomWallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_David_Factom_Bedrock_Solutions_MyFactomWallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","C_Users_David_Factom_Bedrock_Solutions_MyFactomWallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_David_Factom_Bedrock_Solutions_MyFactomWallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","coinType","transport","TransportU2F","create","Fct","getAddress","close","unsignedTX","t1","t2","t3","t4","t5","t6","signTransaction","marshalBinarySig","toString","rcdSignature","Buffer","from","activeFctWallet","getAppConfiguration","react__WEBPACK_IMPORTED_MODULE_7___default","_LedgerContext__WEBPACK_IMPORTED_MODULE_9__","LedgerContext"],"mappings":"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","file":"static/js/main.86319bf4.chunk.js","sourcesContent":["import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nfunction SectionHeader({ disableGutterBottom, text, color }) {\r\n\tconst textColor = {\r\n\t\tcolor: color ? color : null,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Typography\r\n\t\t\tgutterBottom={!disableGutterBottom}\r\n\t\t\tvariant=\"h6\"\r\n\t\t\tstyle={textColor}\r\n\t\t>\r\n\t\t\t{text}\r\n\t\t</Typography>\r\n\t);\r\n}\r\n\r\nexport default SectionHeader;\r\n","import React from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SectionHeader from '../vote/shared/SectionHeader.js';\r\n\r\nconst hostPath = 'host';\r\nconst portPath = 'port';\r\n\r\nclass CustomNodeForm extends React.Component {\r\n\thandleKeyPress(event) {\r\n\t\tif (event.target.type !== 'textarea' && event.which === 13 /* Enter */) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{ host: '', port: '' }}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\tconsole.log('Submitted');\r\n\t\t\t\t\tthis.props.handleCustomNode(values[hostPath], values[portPath]);\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[hostPath]: Yup.string().required('Required'),\r\n\t\t\t\t\t[portPath]: Yup.string().required('Required'),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({ isSubmitting, errors, touched }) => (\r\n\t\t\t\t\t<Form onKeyPress={this.handleKeyPress}>\r\n\t\t\t\t\t\t<SectionHeader text=\"Custom Node Form\" id=\"modal-title\" />\r\n\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\terror={errors[hostPath] && touched[hostPath] ? true : false}\r\n\t\t\t\t\t\t\tname={hostPath}\r\n\t\t\t\t\t\t\tlabel=\"Host\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\tname={hostPath}\r\n\t\t\t\t\t\t\trender={(msg) => <span className={classes.errorText}>{msg}</span>}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\terror={errors[portPath] && touched[portPath] ? true : false}\r\n\t\t\t\t\t\t\tname={portPath}\r\n\t\t\t\t\t\t\tlabel=\"Port\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\tname={portPath}\r\n\t\t\t\t\t\t\trender={(msg) => <span className={classes.errorText}>{msg}</span>}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst FormTextField = (props) => {\r\n\treturn (\r\n\t\t<Field name={props.name}>\r\n\t\t\t{({ field }) => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tspellCheck: false,\r\n\t\t\t\t\t\tmaxLength: props.maxLength,\r\n\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...field}\r\n\t\t\t\t\tlabel={props.label + ' ' + (props.error ? '*' : '')}\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\terror={props.error}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Field>\r\n\t);\r\n};\r\n\r\nCustomNodeForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({ errorText: { color: 'red', fontSize: '12px' } });\r\nexport default withStyles(styles)(CustomNodeForm);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SectionHeader from '../vote/shared/SectionHeader.js';\r\n\r\nclass AddWalletModal extends React.Component {\r\n\tstate = {\r\n\t\topen: false,\r\n\t};\r\n\r\n\thandleOpen = () => {\r\n\t\tthis.setState({ open: true });\r\n\t};\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Button className={classes.menuText} onClick={this.handleOpen}>\r\n\t\t\t\t\tHelp\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\taria-labelledby=\"modal-title\"\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Paper className={classes.modalContent}>\r\n\t\t\t\t\t\t<SectionHeader text=\"Help\" id=\"modal-title\" />\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\tPlease go to the #myfactomwallet channel on The Factoid\r\n\t\t\t\t\t\t\tAuthority's{' '}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\thref={'https://discord.gg/79kH2pp'}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDiscord server\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t&nbsp;for support.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\tLedger Nano S documentation can be found{' '}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\thref={'http://help.myfactomwallet.com/'}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\there\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\tMyFactomWallet's Github repositories are{' '}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\thref={'https://github.com/MyFactomWallet'}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\there\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nAddWalletModal.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tmodalContent: {\r\n\t\tposition: 'absolute',\r\n\t\tboxShadow: theme.shadows[5],\r\n\t\ttop: `50%`,\r\n\t\tleft: `50%`,\r\n\t\ttransform: `translate(-50%, -50%)`,\r\n\t\tminHeight: '138px',\r\n\t\tpadding: '30px',\r\n\t\tmaxWidth: '425px',\r\n\t},\r\n\tmenuText: {\r\n\t\tcolor: 'white',\r\n\t},\r\n});\r\n\r\nexport default withStyles(styles)(AddWalletModal);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport logo from '../headerLogo.png';\r\nimport { Link } from 'react-router-dom';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport CloudDone from '@material-ui/icons/CloudDoneOutlined';\r\nimport CustomNodeForm from './CustomNodeForm';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport HelpModal from './HelpModal';\r\n\r\n//import CloudOff from '@material-ui/icons/CloudOff';\r\n\r\nclass ButtonAppBar extends React.Component {\r\n\tstate = {\r\n\t\tvoteAnchorEl: null,\r\n\t\tnetworkAnchorEl: null,\r\n\t\topenCustomNodeForm: false,\r\n\t};\r\n\r\n\thandleOpenCustomNodeForm = () => {\r\n\t\tthis.setState({ openCustomNodeForm: true });\r\n\t};\r\n\r\n\thandleCloseCustomNodeForm = () => {\r\n\t\tthis.setState({ openCustomNodeForm: false });\r\n\t};\r\n\r\n\thandleVoteClick = (event) => {\r\n\t\tthis.setState({ voteAnchorEl: event.currentTarget });\r\n\t};\r\n\r\n\thandleVoteClose = () => {\r\n\t\tthis.setState({ voteAnchorEl: null });\r\n\t};\r\n\r\n\thandleNetworkClick = (event) => {\r\n\t\tthis.setState({ networkAnchorEl: event.currentTarget });\r\n\t};\r\n\r\n\thandleNetworkClose = () => {\r\n\t\tthis.setState({ networkAnchorEl: null });\r\n\t};\r\n\r\n\thandleTestnet = () => {\r\n\t\tthis.setState({\r\n\t\t\tnetworkAnchorEl: null,\r\n\t\t});\r\n\t\tthis.props.walletController.handleNetworkChange('testnet');\r\n\t};\r\n\r\n\thandleMainnet = () => {\r\n\t\tthis.setState({\r\n\t\t\tnetworkAnchorEl: null,\r\n\t\t});\r\n\t\tthis.props.walletController.handleNetworkChange('mainnet');\r\n\t};\r\n\r\n\thandleWallet = () => {\r\n\t\tif (\r\n\t\t\t!this.props.walletController.readyToManageWallet &&\r\n\t\t\t!this.props.walletController.isWalletEmpty()\r\n\t\t) {\r\n\t\t\tthis.props.walletController.setReadyToManageWallet(true);\r\n\t\t}\r\n\t};\r\n\r\n\thandleCustomNode = (host, port) => {\r\n\t\t/* this.setState({\r\n\t\t\tnetwork: host + ':' + port,\r\n\t\t}); */\r\n\t\tthis.handleCloseCustomNodeForm();\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\t\tconst { voteAnchorEl, networkAnchorEl } = this.state;\r\n\r\n\t\tconst testnetActive = networkProps.network === 'testnet';\r\n\r\n\t\treturn (\r\n\t\t\t<AppBar position=\"static\" className={classes.root}>\r\n\t\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\taria-label=\"Menu\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t<img className={classes.logo} src={logo} alt=\"logo\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t<Typography variant=\"h6\" className={classes.flex}>\r\n\t\t\t\t\t\t<Link className={classes.menuText} to=\"/\">\r\n\t\t\t\t\t\t\tMyFactomWallet\r\n\t\t\t\t\t\t\t{testnetActive && (\r\n\t\t\t\t\t\t\t\t<span className={classes.testnetHeader}>\r\n\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;TESTNET\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\taria-owns={voteAnchorEl ? 'simple-vote-menu' : null}\r\n\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\tonClick={this.handleVoteClick}\r\n\t\t\t\t\t\t\tclassName={classes.menuText}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVote\r\n\t\t\t\t\t\t\t<ExpandMore />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tid=\"simple-vote-menu\"\r\n\t\t\t\t\t\t\tanchorEl={voteAnchorEl}\r\n\t\t\t\t\t\t\topen={Boolean(voteAnchorEl)}\r\n\t\t\t\t\t\t\tonClose={this.handleVoteClose}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/* <MenuItem\r\n\t\t\t\t\t\t\t\tonClick={this.handleVoteClose}\r\n\t\t\t\t\t\t\t\tcomponent={Link}\r\n\t\t\t\t\t\t\t\tto={'/vote'}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tView Polls\r\n\t\t\t\t\t\t\t</MenuItem> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tcomponent={Link}\r\n\t\t\t\t\t\t\t\tto={'/createVote'}\r\n\t\t\t\t\t\t\t\tonClick={this.handleVoteClose}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCreate Poll\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thref=\"#/\"\r\n\t\t\t\t\t\tonClick={this.handleWallet}\r\n\t\t\t\t\t\tclassName={classes.menuText}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tWallet\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<HelpModal />\r\n\t\t\t\t\t<div className={classes.network}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\taria-owns={voteAnchorEl ? 'simple-vote-menu' : null}\r\n\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\tonClick={this.handleNetworkClick}\r\n\t\t\t\t\t\t\tclassName={classes.menuText}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tNode: {networkProps.network}\r\n\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t<CloudDone\r\n\t\t\t\t\t\t\t\ttitleAccess=\"Network Operational\"\r\n\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ExpandMore />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tid=\"simple-vote-menu\"\r\n\t\t\t\t\t\t\tanchorEl={networkAnchorEl}\r\n\t\t\t\t\t\t\t//open={Boolean(networkAnchorEl)}\r\n\t\t\t\t\t\t\tonClose={this.handleNetworkClose}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MenuItem onClick={this.handleMainnet} disabled={!testnetActive}>\r\n\t\t\t\t\t\t\t\tMainnet&nbsp;&nbsp; <CloudDone style={{ color: 'green' }} />\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem onClick={this.handleTestnet} disabled={testnetActive}>\r\n\t\t\t\t\t\t\t\tTestnet&nbsp;&nbsp; <CloudDone style={{ color: 'green' }} />\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuItem\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tthis.handleNetworkClose();\r\n\t\t\t\t\t\t\t\t\tthis.handleOpenCustomNodeForm();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCustom Node\r\n\t\t\t\t\t\t\t</MenuItem> */}\r\n\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t<Modal\r\n\t\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\r\n\t\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\r\n\t\t\t\t\t\t\topen={this.state.openCustomNodeForm}\r\n\t\t\t\t\t\t\tonClose={this.handleCloseCustomNodeForm}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className={classes.modalContent}>\r\n\t\t\t\t\t\t\t\t<CustomNodeForm handleCustomNode={this.handleCustomNode} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t);\r\n\t}\r\n}\r\nButtonAppBar.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\tmarginBottom: '15px',\r\n\t},\r\n\ttoolbar: {\r\n\t\twidth: '90%',\r\n\t\tmargin: '0 auto',\r\n\t},\r\n\tflex: {\r\n\t\tflex: 1,\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginTop: 3,\r\n\t\tmarginRight: 10,\r\n\t},\r\n\tlogo: {\r\n\t\twidth: '39px',\r\n\t},\r\n\tmenuText: {\r\n\t\tcolor: 'white',\r\n\t},\r\n\tnetwork: {\r\n\t\tborderStyle: 'solid',\r\n\t\tborderWidth: '1px',\r\n\t\tcolor: 'green',\r\n\t},\r\n\tsubMenuText: {\r\n\t\tcolor: 'black',\r\n\t},\r\n\tmodalContent: {\r\n\t\tposition: 'absolute',\r\n\t\twidth: theme.spacing.unit * 50,\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tboxShadow: theme.shadows[5],\r\n\t\tpadding: theme.spacing.unit * 4,\r\n\t\ttop: `50%`,\r\n\t\tleft: `50%`,\r\n\t\ttransform: `translate(-50%, -50%)`,\r\n\t},\r\n\ttestnetHeader: { color: '#ffa000' },\r\n});\r\n\r\nconst enhancer = _flowRight(withNetwork, withWalletContext, withStyles(styles));\r\nexport default enhancer(ButtonAppBar);\r\n","import React from 'react';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: {},\r\n});\r\n\r\nfunction withRootTheme(Component) {\r\n\tfunction WithRoot(props) {\r\n\t\t// MuiThemeProvider makes the theme available down the React tree\r\n\t\t// thanks to React context.\r\n\t\treturn (\r\n\t\t\t<MuiThemeProvider theme={theme}>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<Component {...props} />\r\n\t\t\t</MuiThemeProvider>\r\n\t\t);\r\n\t}\r\n\r\n\treturn WithRoot;\r\n}\r\n\r\nexport default withRootTheme;\r\n","import React from 'react';\r\n\r\nconst FactomCliContext = React.createContext();\r\n\r\nconst withFactomCli = (BaseComponent) => (props) => (\r\n\t<FactomCliContext.Consumer>\r\n\t\t{(factomCliController) => (\r\n\t\t\t<BaseComponent {...props} factomCliController={factomCliController} />\r\n\t\t)}\r\n\t</FactomCliContext.Consumer>\r\n);\r\n\r\nexport { FactomCliContext, withFactomCli };\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _flow from 'lodash/flow';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _noop from 'lodash/noop';\r\nimport _isNil from 'lodash/isNil';\r\nimport _pick from 'lodash/pick';\r\nimport { WalletContext } from './WalletContext';\r\nimport { withFactomCli } from './FactomCliContext';\r\nimport { withNetwork } from './NetworkContext';\r\nimport { Transaction, getPublicAddress } from 'factom/dist/factom';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst FACTOSHI_MULTIPLIER = 0.00000001;\r\nconst LOCAL_STORAGE_KEY = 'storageAddresses';\r\nconst LOCAL_STORAGE_PROPERTY_WHITELIST = [\r\n\t'importType',\r\n\t'address',\r\n\t'nickname',\r\n\t'index',\r\n\t'saveLocally',\r\n];\r\n\r\nclass WalletController extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\taddresses: {\r\n\t\t\t\tmainnet: {\r\n\t\t\t\t\tfct: [],\r\n\t\t\t\t\tec: [],\r\n\t\t\t\t},\r\n\t\t\t\ttestnet: {\r\n\t\t\t\t\tfct: [],\r\n\t\t\t\t\tec: [],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t//===================================================\r\n\t\t\tactiveAddressIndex_o: null,\r\n\t\t\tisStateHydrated: false,\r\n\t\t\treadyToManageWallet: false,\r\n\t\t\tsetReadyToManageWallet: this.setReadyToManageWallet,\r\n\t\t\tisWalletEmpty: this.isWalletEmpty,\r\n\t\t\thandleNetworkChange: this.handleNetworkChange,\r\n\t\t\tverifyKey: this.verifyKey,\r\n\t\t\tupdateAddress: this.updateAddress,\r\n\t\t\taddAddressTransaction: this.addAddressTransaction,\r\n\t\t\tdeleteAddress: this.deleteAddress,\r\n\t\t\tgetAddresses: this.getAddresses,\r\n\t\t\tgetFactoidAddresses: this.getFactoidAddresses,\r\n\t\t\tgetEntryCreditAddresses: this.getEntryCreditAddresses,\r\n\t\t\taddAddresses: this.addAddresses,\r\n\t\t\taddAddress: this.addAddress,\r\n\t\t\tselectAddress: this.selectAddress,\r\n\t\t\tgetActiveAddress: this.getActiveAddress,\r\n\t\t\tupdateWalletBalance: this.updateWalletBalance,\r\n\t\t\tupdateBalances: this.updateBalances,\r\n\t\t\tgetEntryCreditRate: this.getEntryCreditRate,\r\n\t\t\tgetFactoshiFee: this.getFactoshiFee,\r\n\t\t\tgetFactoidFee: this.getFactoidFee,\r\n\t\t\tnewStandardAddress: this.newStandardAddress,\r\n\t\t\tnewSeedAddress: this.newSeedAddress,\r\n\t\t\tnewLedgerAddress: this.newLedgerAddress,\r\n\t\t};\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\t//get from storage\r\n\t\tthis.hydrateStateWithLocalStorage();\r\n\t}\r\n\r\n\tsmartSetState = (newState, afterSetState = _noop) =>\r\n\t\tnew Promise((resolve) =>\r\n\t\t\tthis.setState(newState, _flow([afterSetState, resolve]))\r\n\t\t);\r\n\r\n\tsaveStateToLocalStorage = () => {\r\n\t\tconst filterArray = (addressArray) =>\r\n\t\t\taddressArray\r\n\t\t\t\t.filter((address) => address.saveLocally)\r\n\t\t\t\t.map((address) => _pick(address, LOCAL_STORAGE_PROPERTY_WHITELIST));\r\n\r\n\t\tconst { mainnet, testnet } = { ...this.state.addresses };\r\n\r\n\t\tconst storageAddresses = {\r\n\t\t\tmainnet: { fct: filterArray(mainnet.fct), ec: filterArray(mainnet.ec) },\r\n\t\t\ttestnet: { fct: filterArray(testnet.fct), ec: filterArray(testnet.ec) },\r\n\t\t};\r\n\r\n\t\tlocalStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(storageAddresses));\r\n\t};\r\n\r\n\thydrateStateWithLocalStorage = async () => {\r\n\t\t// get local\r\n\t\tconst localStorageAddresses = JSON.parse(\r\n\t\t\tlocalStorage.getItem(LOCAL_STORAGE_KEY)\r\n\t\t);\r\n\r\n\t\tif (!_isNil(localStorageAddresses)) {\r\n\t\t\tconst prepareArray = (addressArray) =>\r\n\t\t\t\taddressArray.map((addr_o) => ({\r\n\t\t\t\t\t...addr_o,\r\n\t\t\t\t\tbalance: null,\r\n\t\t\t\t\ttransactions: [],\r\n\t\t\t\t}));\r\n\r\n\t\t\tconst { mainnet, testnet } = localStorageAddresses;\r\n\r\n\t\t\tconst storageAddresses = {\r\n\t\t\t\tmainnet: {\r\n\t\t\t\t\tfct: prepareArray(mainnet.fct),\r\n\t\t\t\t\tec: prepareArray(mainnet.ec),\r\n\t\t\t\t},\r\n\t\t\t\ttestnet: {\r\n\t\t\t\t\tfct: prepareArray(testnet.fct),\r\n\t\t\t\t\tec: prepareArray(testnet.ec),\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tawait this.smartSetState((prevState) => ({\r\n\t\t\t\taddresses: storageAddresses,\r\n\t\t\t}));\r\n\r\n\t\t\tawait this.setDefaultIndex();\r\n\t\t\tawait this.updateBalances({ force: true });\r\n\t\t}\r\n\t\tawait this.smartSetState({ readyToManageWallet: !this.isWalletEmpty() });\r\n\t\tawait this.smartSetState({ isStateHydrated: true });\r\n\t};\r\n\r\n\tsetReadyToManageWallet = (value) => {\r\n\t\tthis.smartSetState({\r\n\t\t\treadyToManageWallet: value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleNetworkChange = async (network) => {\r\n\t\tawait this.smartSetState({ isStateHydrated: false });\r\n\t\tawait this.props.networkController.changeNetwork(network);\r\n\t\tawait this.props.factomCliController.connectToServer();\r\n\t\t// set new FactomVoteManager cli\r\n\t\tthis.hydrateStateWithLocalStorage();\r\n\t};\r\n\r\n\tdeleteAddress = async (activeAddressIndex_o) => {\r\n\t\tconst type = activeAddressIndex_o.type;\r\n\t\tconst { network } = this.props.networkController.networkProps;\r\n\r\n\t\t// create copy of current addressList\r\n\t\tconst addressList = [...this.state.addresses[network][type]];\r\n\r\n\t\t//remove address\r\n\t\taddressList.splice(activeAddressIndex_o.index, 1);\r\n\r\n\t\t// overwrite addresses\r\n\t\tawait this.smartSetState((prevState) => ({\r\n\t\t\taddresses: {\r\n\t\t\t\t...prevState.addresses,\r\n\t\t\t\t[network]: {\r\n\t\t\t\t\t...prevState.addresses[network],\r\n\t\t\t\t\t[type]: [...addressList],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}));\r\n\r\n\t\tawait this.setDefaultIndex();\r\n\r\n\t\tthis.saveStateToLocalStorage();\r\n\t};\r\n\r\n\taddAddressTransaction = (activeAddressIndex_o, transactionID) => {\r\n\t\tconst type = activeAddressIndex_o.type;\r\n\t\tconst index = activeAddressIndex_o.index;\r\n\t\tconst { network } = this.props.networkController.networkProps;\r\n\r\n\t\t// get address transaction list to update\r\n\t\tconst addressList = [...this.state.addresses[network][type]];\r\n\t\tconst addr_o = addressList[index];\r\n\r\n\t\t// add transaction\r\n\t\taddr_o.transactions.push(transactionID);\r\n\r\n\t\t// replace address\r\n\t\taddressList[activeAddressIndex_o.index] = addr_o;\r\n\r\n\t\t// overwrite addresses\r\n\t\treturn this.smartSetState((prevState) => ({\r\n\t\t\taddresses: {\r\n\t\t\t\t...prevState.addresses,\r\n\t\t\t\t[network]: {\r\n\t\t\t\t\t...prevState.addresses[network],\r\n\t\t\t\t\t[type]: [...addressList],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}));\r\n\t};\r\n\r\n\tupdateAddress = async (activeAddressIndex_o, nickname, saveLocally) => {\r\n\t\tconst type = activeAddressIndex_o.type;\r\n\t\tconst { network } = this.props.networkController.networkProps;\r\n\r\n\t\t// create copy of current addressList\r\n\t\tconst addressList = [...this.state.addresses[network][type]];\r\n\r\n\t\t// create and update copy of current address\r\n\t\tconst addr_o = { ...addressList[activeAddressIndex_o.index] };\r\n\t\taddr_o.nickname = nickname;\r\n\t\taddr_o.saveLocally = saveLocally;\r\n\r\n\t\t// replace address\r\n\t\taddressList[activeAddressIndex_o.index] = addr_o;\r\n\r\n\t\t// overwrite addresses\r\n\t\tawait this.smartSetState((prevState) => ({\r\n\t\t\taddresses: {\r\n\t\t\t\t...prevState.addresses,\r\n\t\t\t\t[network]: {\r\n\t\t\t\t\t...prevState.addresses[network],\r\n\t\t\t\t\t[type]: [...addressList],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}));\r\n\r\n\t\tthis.saveStateToLocalStorage();\r\n\t};\r\n\r\n\tisWalletEmpty = () => {\r\n\t\tconst { network } = this.props.networkController.networkProps;\r\n\r\n\t\treturn (\r\n\t\t\t_isEmpty(this.state.addresses[network].fct) &&\r\n\t\t\t_isEmpty(this.state.addresses[network].ec)\r\n\t\t);\r\n\t};\r\n\r\n\tsetDefaultIndex = () => {\r\n\t\tif (!_isEmpty(this.getFactoidAddresses())) {\r\n\t\t\treturn this.selectAddress(0, 'fct');\r\n\t\t} else if (!_isEmpty(this.getEntryCreditAddresses())) {\r\n\t\t\treturn this.selectAddress(0, 'ec');\r\n\t\t} else {\r\n\t\t\treturn this.smartSetState({\r\n\t\t\t\tactiveAddressIndex_o: null,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tverifyKey = (privateKey, { address }) => {\r\n\t\ttry {\r\n\t\t\t// for factom addresses\r\n\t\t\treturn getPublicAddress(privateKey).valueOf() === address.valueOf();\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\taddAddress = (address_o, type) => {\r\n\t\tthis.addAddresses([address_o], type);\r\n\r\n\t\tthis.selectAddress(this.getNextIndex(type), type);\r\n\t};\r\n\r\n\taddAddresses = async (addressList, type) => {\r\n\t\tconst { network } = this.props.networkController.networkProps;\r\n\r\n\t\tawait this.smartSetState((prevState) => ({\r\n\t\t\taddresses: {\r\n\t\t\t\t...prevState.addresses,\r\n\t\t\t\t[network]: {\r\n\t\t\t\t\t...prevState.addresses[network],\r\n\t\t\t\t\t[type]: [...prevState.addresses[network][type], ...addressList],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}));\r\n\t\tawait this.setDefaultIndex();\r\n\t\tawait this.updateBalances();\r\n\t};\r\n\r\n\tgetNextIndex = (type) => {\r\n\t\tlet index = 0;\r\n\t\tif (type === 'fct') {\r\n\t\t\tindex = this.getFactoidAddresses().length - 1;\r\n\t\t} else if (type === 'ec') {\r\n\t\t\tindex = this.getEntryCreditAddresses().length - 1;\r\n\t\t}\r\n\t\treturn index;\r\n\t};\r\n\r\n\tselectAddress = (index, type) => {\r\n\t\treturn this.smartSetState({\r\n\t\t\tactiveAddressIndex_o: { index, type },\r\n\t\t});\r\n\t};\r\n\r\n\tgetActiveAddress = () => {\r\n\t\tif (this.state.activeAddressIndex_o !== null) {\r\n\t\t\tconst { network } = this.props.networkController.networkProps;\r\n\r\n\t\t\treturn this.state.addresses[network][\r\n\t\t\t\tthis.state.activeAddressIndex_o.type\r\n\t\t\t][this.state.activeAddressIndex_o.index];\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tgetFactoidAddresses = () => {\r\n\t\treturn this.getAddresses('fct');\r\n\t};\r\n\r\n\tgetEntryCreditAddresses = () => {\r\n\t\treturn this.getAddresses('ec');\r\n\t};\r\n\r\n\tgetAddresses = (type) => {\r\n\t\tconst { network } = this.props.networkController.networkProps;\r\n\r\n\t\treturn this.state.addresses[network][type];\r\n\t};\r\n\r\n\tupdateWalletBalance = async (wallet) => {\r\n\t\tconst balance = await this.props.factomCliController.factomCli.getBalance(\r\n\t\t\twallet.address\r\n\t\t);\r\n\r\n\t\treturn { ...wallet, balance };\r\n\t};\r\n\r\n\tupdateBalances = async ({ force = false } = {}) => {\r\n\t\tif (this.state.isStateHydrated || force) {\r\n\t\t\tconst { network } = this.props.networkController.networkProps;\r\n\r\n\t\t\tconst [factoidAddresses, ecAddresses] = await Promise.all([\r\n\t\t\t\tPromise.all(\r\n\t\t\t\t\tthis.state.addresses[network].fct.map(this.updateWalletBalance)\r\n\t\t\t\t),\r\n\t\t\t\tPromise.all(\r\n\t\t\t\t\tthis.state.addresses[network].ec.map(this.updateWalletBalance)\r\n\t\t\t\t),\r\n\t\t\t]);\r\n\r\n\t\t\treturn this.smartSetState((prevState) => ({\r\n\t\t\t\taddresses: {\r\n\t\t\t\t\t...prevState.addresses,\r\n\t\t\t\t\t[network]: {\r\n\t\t\t\t\t\t...prevState.addresses[network],\r\n\t\t\t\t\t\tec: ecAddresses,\r\n\t\t\t\t\t\tfct: factoidAddresses,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\tgetEntryCreditRate = async () => {\r\n\t\treturn await this.props.factomCliController.factomCli.getEntryCreditRate();\r\n\t};\r\n\r\n\tgetFactoshiFee = async () => {\r\n\t\tconst ecRate = await this.getEntryCreditRate();\r\n\r\n\t\tconst exampleAddress =\r\n\t\t\t'FA3E6enA33y9f5K9q9nrWfcDNrVR4zAp4xpniizNjQbV4RAmPjat';\r\n\r\n\t\tconst fee = Transaction.builder()\r\n\t\t\t.input(exampleAddress, Number.MAX_SAFE_INTEGER)\r\n\t\t\t.output(exampleAddress, Number.MAX_SAFE_INTEGER)\r\n\t\t\t.build()\r\n\t\t\t.computeRequiredFees(ecRate, { rcdType: 1 });\r\n\r\n\t\treturn fee;\r\n\t};\r\n\r\n\tgetFactoidFee = async () => {\r\n\t\tconst factoshiFee = await this.getFactoshiFee();\r\n\r\n\t\t//fix floating point decimal\r\n\t\treturn factoshiFee * FACTOSHI_MULTIPLIER;\r\n\t};\r\n\r\n\tnewStandardAddress = (address, nickname) => ({\r\n\t\timportType: 'standard',\r\n\t\taddress,\r\n\t\tnickname,\r\n\t\tbalance: null,\r\n\t\ttransactions: [],\r\n\t\tsaveLocally: false,\r\n\t});\r\n\r\n\tnewSeedAddress = (address, nickname, index) => ({\r\n\t\timportType: 'seed',\r\n\t\taddress,\r\n\t\tnickname,\r\n\t\tbalance: null,\r\n\t\ttransactions: [],\r\n\t\tindex,\r\n\t\tsaveLocally: false,\r\n\t});\r\n\r\n\tnewLedgerAddress = (address, nickname, index) => ({\r\n\t\timportType: 'ledger',\r\n\t\taddress,\r\n\t\tnickname,\r\n\t\tbalance: null,\r\n\t\ttransactions: [],\r\n\t\tindex,\r\n\t\tsaveLocally: false,\r\n\t});\r\n\r\n\trender() {\r\n\t\tif (this.state.isStateHydrated) {\r\n\t\t\treturn (\r\n\t\t\t\t<WalletContext.Provider value={this.state}>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</WalletContext.Provider>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst enhancer = _flowRight(withNetwork, withFactomCli);\r\n\r\nexport default enhancer(WalletController);\r\n","import React from 'react';\r\n\r\nconst SeedContext = React.createContext();\r\n\r\nconst withSeed = (BaseComponent) => (props) => (\r\n\t<SeedContext.Consumer>\r\n\t\t{(seedController) => (\r\n\t\t\t<BaseComponent {...props} seedController={seedController} />\r\n\t\t)}\r\n\t</SeedContext.Consumer>\r\n);\r\n\r\nexport { SeedContext, withSeed };\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport { SeedContext } from './SeedContext';\r\nimport { withFactomCli } from './FactomCliContext';\r\nimport { withNetwork } from './NetworkContext';\r\nimport { withWalletContext } from './WalletContext';\r\nimport {\r\n\tkeyToPrivateFctAddress,\r\n\tkeyToPrivateEcAddress,\r\n\tgetPublicAddress,\r\n} from 'factom/dist/factom';\r\nimport factombip44 from 'factombip44/dist/factombip44';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst keyToFctAddress = (key) => getPublicAddress(keyToPrivateFctAddress(key));\r\nconst keyToECAddress = (key) => getPublicAddress(keyToPrivateEcAddress(key));\r\n\r\nclass SeedController extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tgetSeedAddresses: this.getSeedAddresses,\r\n\t\t\tsignWithSeed: this.signWithSeed,\r\n\t\t\tverifySeed: this.verifySeed,\r\n\t\t\tgetRandomMnemonic: this.getRandomMnemonic,\r\n\t\t\tgetPrivateKey: this.getPrivateKey,\r\n\t\t};\r\n\t}\r\n\r\n\tgetSeedAddresses = async (mnemonic, startIndex, amount, type) => {\r\n\t\tlet result = [];\r\n\r\n\t\tconst bip32Account = this.props.networkController.networkProps.bip32Account;\r\n\r\n\t\tconst wallet = new factombip44.FactomBIP44(mnemonic);\r\n\r\n\t\tfor (let index = startIndex; index < startIndex + amount; index++) {\r\n\t\t\tlet key = null;\r\n\t\t\tlet address = null;\r\n\r\n\t\t\tif (type === 'fct') {\r\n\t\t\t\tkey = wallet.generateFactoidPrivateKey(bip32Account, 0, index);\r\n\t\t\t\taddress = keyToFctAddress(key);\r\n\t\t\t} else if (type === 'ec') {\r\n\t\t\t\tkey = wallet.generateEntryCreditPrivateKey(bip32Account, 0, index);\r\n\t\t\t\taddress = keyToECAddress(key);\r\n\t\t\t}\r\n\r\n\t\t\tresult.push({ address, index });\r\n\t\t}\r\n\r\n\t\tconst addressList = await Promise.all(\r\n\t\t\tresult.map(this.props.walletController.updateWalletBalance)\r\n\t\t);\r\n\r\n\t\treturn addressList;\r\n\t};\r\n\r\n\tsignWithSeed = async ({ mnemonic, index, toAddr, amount, type }) => {\r\n\t\tlet signedTX = {};\r\n\r\n\t\tconst bip32Account = this.props.networkController.networkProps.bip32Account;\r\n\r\n\t\tconst wallet = new factombip44.FactomBIP44(mnemonic);\r\n\r\n\t\tconst privateKey = keyToPrivateFctAddress(\r\n\t\t\twallet.generateFactoidPrivateKey(bip32Account, 0, index)\r\n\t\t);\r\n\r\n\t\tif (type === 'sendFCT') {\r\n\t\t\tsignedTX = await this.props.factomCliController.factomCli.createFactoidTransaction(\r\n\t\t\t\tprivateKey,\r\n\t\t\t\ttoAddr,\r\n\t\t\t\tamount\r\n\t\t\t);\r\n\t\t} else if (type === 'convertFCT') {\r\n\t\t\tsignedTX = await this.props.factomCliController.factomCli.createEntryCreditPurchaseTransaction(\r\n\t\t\t\tprivateKey,\r\n\t\t\t\ttoAddr,\r\n\t\t\t\tamount\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn signedTX;\r\n\t};\r\n\r\n\tverifySeed = (mnemonic, { address, index }) => {\r\n\t\ttry {\r\n\t\t\t// for factom addresses\r\n\t\t\tconst wallet = new factombip44.FactomBIP44(mnemonic);\r\n\t\t\tconst bip32Account = this.props.networkController.networkProps\r\n\t\t\t\t.bip32Account;\r\n\r\n\t\t\tconst derivedAddress = keyToFctAddress(\r\n\t\t\t\twallet.generateFactoidPrivateKey(bip32Account, 0, index)\r\n\t\t\t);\r\n\r\n\t\t\treturn derivedAddress.valueOf() === address.valueOf(); // memoize\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tgetRandomMnemonic() {\r\n\t\treturn factombip44.randomMnemonic();\r\n\t}\r\n\r\n\tgetPrivateKey = (mnemonic, index) => {\r\n\t\tconst bip32Account = this.props.networkController.networkProps.bip32Account;\r\n\t\tconst wallet = new factombip44.FactomBIP44(mnemonic);\r\n\t\tconst key = wallet.generateFactoidPrivateKey(bip32Account, 0, index);\r\n\t\tconst privateKey = keyToPrivateFctAddress(key);\r\n\r\n\t\treturn privateKey;\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<SeedContext.Provider value={this.state}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</SeedContext.Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst enhancer = _flowRight(withWalletContext, withNetwork, withFactomCli);\r\n\r\nexport default enhancer(SeedController);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FactomCliContext } from './FactomCliContext';\r\nimport { FactomCli } from 'factom/dist/factom';\r\nimport { withNetwork } from './NetworkContext';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport defaultsDeep from 'lodash/fp/defaultsDeep';\r\nimport _flow from 'lodash/flow';\r\nimport _noop from 'lodash/noop';\r\n\r\nclass FactomCliController extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tfactomCli: this.newFactomCli(),\r\n\t\t\tconnectToServer: this.connectToServer,\r\n\t\t\tgetDefaultConnectionParams: this.getDefaultConnectionParams,\r\n\t\t};\r\n\t}\r\n\r\n\tdefaultConnectionParams = {\r\n\t\thost: 'api.myfactomwallet.com',\r\n\t\tport: this.props.networkController.networkProps.apiPort,\r\n\t\tpath: '/v2',\r\n\t\tdebugPath: '/debug',\r\n\t\tprotocol: 'https',\r\n\t\trejectUnauthorized: true,\r\n\t\tretry: {\r\n\t\t\tretries: 4,\r\n\t\t\tfactor: 2,\r\n\t\t\tminTimeout: 500,\r\n\t\t\tmaxTimeout: 2000,\r\n\t\t},\r\n\t};\r\n\r\n\tgetDefaultConnectionParams = () => {\r\n\t\treturn this.defaultConnectionParams;\r\n\t};\r\n\r\n\tnewFactomCli = (connectionParams = {}) =>\r\n\t\tnew FactomCli(defaultsDeep(this.defaultConnectionParams, connectionParams));\r\n\r\n\tconnectToServer = async (\r\n\t\tconnectionParams = {\r\n\t\t\tport: this.props.networkController.networkProps.apiPort,\r\n\t\t}\r\n\t) => {\r\n\t\tawait this.smartSetState({\r\n\t\t\tfactomCli: this.newFactomCli(connectionParams),\r\n\t\t});\r\n\t};\r\n\r\n\tsmartSetState = (newState, afterSetState = _noop) =>\r\n\t\tnew Promise((resolve) =>\r\n\t\t\tthis.setState(newState, _flow([afterSetState, resolve]))\r\n\t\t);\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<FactomCliContext.Provider value={this.state}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</FactomCliContext.Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nFactomCliController.propTypes = {\r\n\tchildren: PropTypes.element.isRequired,\r\n};\r\n\r\nconst enhancer = _flowRight(withNetwork);\r\n\r\nexport default enhancer(FactomCliController);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Warning from '@material-ui/icons/Warning';\r\n\r\nclass ConfirmationDialogRaw extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tvalue: props.value,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (nextProps.value !== this.props.value) {\r\n\t\t\tthis.setState({ value: nextProps.value });\r\n\t\t}\r\n\t}\r\n\r\n\thandleAgree = () => {\r\n\t\tthis.props.onClose(this.state.value);\r\n\t};\r\n\r\n\thandleChange = (event, value) => {\r\n\t\tthis.setState({ value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes, value, ...other } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\tdisableBackdropClick\r\n\t\t\t\tdisableEscapeKeyDown\r\n\t\t\t\taria-labelledby=\"confirmation-dialog-title\"\r\n\t\t\t\t{...other}\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle align=\"center\" style={{ backgroundColor: '#f50057' }}>\r\n\t\t\t\t\t<Warning fontSize=\"large\" />\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent className={classes.lessPad}>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\r\n\t\t\t\t\t\tTestnet Warning\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\tBy using MyFactomWallet.com and/or by clicking 'accept' at the\r\n\t\t\t\t\t\tbottom, you agree to the following notices:\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\r\n\t\t\t\t\t\tNotices\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tNever send funds from a mainnet address to a testnet address and\r\n\t\t\t\t\t\t\t\tvice versa. Sending Factoids to the testnet will likely result\r\n\t\t\t\t\t\t\t\tin a loss of factoids. You acknowledge that testnet Testoids and\r\n\t\t\t\t\t\t\t\tTest Credits have no value. All other MyFactomWallet.com notices\r\n\t\t\t\t\t\t\t\tand tips apply.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleAgree} color=\"primary\">\r\n\t\t\t\t\t\tAccept\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n\tonClose: PropTypes.func,\r\n\tvalue: PropTypes.string,\r\n};\r\n\r\nclass ConfirmationDialog extends React.Component {\r\n\tstate = {\r\n\t\topen: true,\r\n\t\tvalue: 'Done',\r\n\t};\r\n\r\n\thandleClose = (value) => {\r\n\t\tthis.setState({ value, open: false });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ConfirmationDialogRaw\r\n\t\t\t\tclasses={this.props.classes}\r\n\t\t\t\topen={this.state.open}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\tvalue={this.state.value}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nConfirmationDialog.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\nconst styles = (theme) => ({\r\n\tlessPad: { paddingBottom: '0px' },\r\n});\r\n\r\nexport default withStyles(styles)(ConfirmationDialog);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NetworkContext } from './NetworkContext';\r\nimport TestnetDisclaimer from '../TestnetDisclaimer';\r\nimport _flow from 'lodash/flow';\r\nimport _noop from 'lodash/noop';\r\n\r\nclass NetworkController extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tnetworkProps: this.networkProps['testnet'],\r\n\t\t\tchangeNetwork: this.changeNetwork,\r\n\t\t};\r\n\t}\r\n\r\n\tnetworkProps = {\r\n\t\tmainnet: {\r\n\t\t\tnetwork: 'mainnet',\r\n\t\t\tbip32Account: 0,\r\n\t\t\tfactoidAbbreviation: 'FCT',\r\n\t\t\tfactoidAbbreviationFull: 'Factoid',\r\n\t\t\tecAbbreviation: 'EC',\r\n\t\t\tecAbbreviationFull: 'Entry Credit',\r\n\t\t\tapiPort: 8188,\r\n\t\t\texplorerURL: 'https://explorer.factoid.org',\r\n\t\t\texplorerApiURL: 'https://explorer.factoid.org/api/v1',\r\n\t\t\tvoteRegistrationChainID: '',\r\n\t\t},\r\n\t\ttestnet: {\r\n\t\t\tnetwork: 'testnet',\r\n\t\t\tbip32Account: 2147483647,\r\n\t\t\tfactoidAbbreviation: 'TTS',\r\n\t\t\tfactoidAbbreviationFull: 'Testoid',\r\n\t\t\tecAbbreviation: 'TC',\r\n\t\t\tecAbbreviationFull: 'Test Credit',\r\n\t\t\tapiPort: 8288,\r\n\t\t\texplorerURL: 'https://testnet.factoid.org',\r\n\t\t\texplorerApiURL: 'https://testnet.factoid.org/api/v1',\r\n\t\t\tvoteRegistrationChainID:\r\n\t\t\t\t'a968e880ee3a7002f25ade15ae36a77c15f4dbc9d8c11fdd5fe86ba6af73a475',\r\n\t\t},\r\n\t};\r\n\r\n\tchangeNetwork = async (network) => {\r\n\t\tawait this.smartSetState({ networkProps: this.networkProps[network] });\r\n\t};\r\n\r\n\tsmartSetState = (newState, afterSetState = _noop) =>\r\n\t\tnew Promise((resolve) =>\r\n\t\t\tthis.setState(newState, _flow([afterSetState, resolve]))\r\n\t\t);\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<NetworkContext.Provider value={this.state}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t\t{/* {this.state.networkProps.network === 'testnet' && <TestnetDisclaimer />} */}\r\n\t\t\t</NetworkContext.Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nNetworkController.propTypes = {\r\n\tchildren: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default NetworkController;\r\n","import React from 'react';\r\n\r\nconst VoteContext = React.createContext();\r\n\r\nconst withVote = (BaseComponent) => (props) => (\r\n\t<VoteContext.Consumer>\r\n\t\t{(voteController) => (\r\n\t\t\t<BaseComponent {...props} voteController={voteController} />\r\n\t\t)}\r\n\t</VoteContext.Consumer>\r\n);\r\n\r\nexport { VoteContext, withVote };\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _get from 'lodash/get';\r\nimport _isNil from 'lodash/isNil';\r\nimport { VoteContext } from './VoteContext';\r\nimport { withFactomCli } from './FactomCliContext';\r\nimport { FactomVoteManager } from 'factom-vote/dist/factom-vote';\r\nimport ApolloClient from 'apollo-boost';\r\nimport { ApolloProvider } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\n\r\nconst client = new ApolloClient({\r\n\turi: 'https://vote.factoid.org/graphql',\r\n});\r\n\r\n/**\r\n * Queries\r\n */\r\nconst PUBLIC_KEYS_RESOLVER = gql`\r\n\tquery PubKeyResolver($chain: String!) {\r\n\t\tidentityKeysAtHeight(chain: $chain)\r\n\t}\r\n`;\r\n\r\nclass VoteController extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tfactomVoteManager: this.newFactomVoteManager(),\r\n\t\t\tsubmitVote: this.submitVote,\r\n\t\t};\r\n\t}\r\n\r\n\tpublicKeysResolver = async (identityChainId, blockHeight) => {\r\n\t\tconst { data } = await client.query({\r\n\t\t\tquery: PUBLIC_KEYS_RESOLVER,\r\n\t\t\tvariables: {\r\n\t\t\t\tchain: identityChainId,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tif (!_isNil(_get(data, 'identityKeysAtHeight'))) {\r\n\t\t\treturn _get(data, 'identityKeysAtHeight');\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t};\r\n\r\n\tnewFactomVoteManager = () =>\r\n\t\tnew FactomVoteManager(\r\n\t\t\tthis.props.factomCliController.getDefaultConnectionParams(),\r\n\t\t\t{\r\n\t\t\t\tpublicKeysResolver: this.publicKeysResolver,\r\n\t\t\t\tprivateKeysResolver: null,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\tsubmitVote = async (voteData, ecPrivateAddress) => {\r\n\t\tconst skipValidation = true;\r\n\r\n\t\tconst result = await this.state.factomVoteManager.createVote(\r\n\t\t\tvoteData,\r\n\t\t\tecPrivateAddress,\r\n\t\t\tskipValidation\r\n\t\t);\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ApolloProvider client={client}>\r\n\t\t\t\t<VoteContext.Provider value={this.state}>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</VoteContext.Provider>\r\n\t\t\t</ApolloProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst enhancer = _flowRight(withFactomCli);\r\n\r\nexport default enhancer(VoteController);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Warning from '@material-ui/icons/Warning';\r\n\r\nclass ConfirmationDialogRaw extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tvalue: props.value,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (nextProps.value !== this.props.value) {\r\n\t\t\tthis.setState({ value: nextProps.value });\r\n\t\t}\r\n\t}\r\n\r\n\thandleAgree = () => {\r\n\t\tthis.props.onClose(this.state.value);\r\n\t};\r\n\r\n\thandleChange = (event, value) => {\r\n\t\tthis.setState({ value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes, value, ...other } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\tdisableBackdropClick\r\n\t\t\t\tdisableEscapeKeyDown\r\n\t\t\t\taria-labelledby=\"confirmation-dialog-title\"\r\n\t\t\t\t{...other}\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle align=\"center\" style={{ backgroundColor: '#f50057' }}>\r\n\t\t\t\t\t<Warning fontSize=\"large\" />\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\r\n\t\t\t\t\t\tImportant\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\tMyFactomWallet.com is a client-side interface wallet. We provide the\r\n\t\t\t\t\t\tuser with access to the Factom blockchain, but we do not store,\r\n\t\t\t\t\t\tcontrol or have access to ANY user wallet or blockchain information\r\n\t\t\t\t\t\tincluding keys or transaction data. Therefore,&nbsp;\r\n\t\t\t\t\t\t<b>we cannot reverse transactions or recover funds.</b>\r\n\t\t\t\t\t\t&nbsp; MyFactomWallet.com is not a bank or a custodian. Your assets\r\n\t\t\t\t\t\tand your security are entirely your own responsibility. By using\r\n\t\t\t\t\t\tMyFactomWallet.com and/or by clicking 'accept' at the bottom, you\r\n\t\t\t\t\t\tagree to the following notices:\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\r\n\t\t\t\t\t\tNotices\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tThis project is under active development; there is always the\r\n\t\t\t\t\t\t\t\tpossibility something unexpected happens that causes your funds\r\n\t\t\t\t\t\t\t\tto be lost, including but not limited to third party domain\r\n\t\t\t\t\t\t\t\tattacks. <b>We are not responsible for any loss.</b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tNever send funds from a mainnet address to a testnet address and\r\n\t\t\t\t\t\t\t\tvice versa. Sending Factoids to the testnet will likely result\r\n\t\t\t\t\t\t\t\tin a loss of factoids. You acknowledge that testnet Testoids and\r\n\t\t\t\t\t\t\t\tTest Credits have no value.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tWhen you create new Factoid or Entry Credit addresses on\r\n\t\t\t\t\t\t\t\tMyFactomWallet.com, a random 12-word cryptographic seed phrase\r\n\t\t\t\t\t\t\t\tis generated in the browser, and is used to generate new\r\n\t\t\t\t\t\t\t\taddresses and sign transactions.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tThe handling of your private keys or seed phrase is solely your\r\n\t\t\t\t\t\t\t\tresponsibility. It happens entirely on your computer, inside\r\n\t\t\t\t\t\t\t\tyour browser.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tWe never transmit, receive or store your private keys or seeds.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tWe do not charge a transaction fee (blockchain fees still\r\n\t\t\t\t\t\t\t\tapply).\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tWe are not a custodian and have no information about or control\r\n\t\t\t\t\t\t\t\tover your Factoids or Entry Credits.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tYou are simply using our interface to interact directly with the\r\n\t\t\t\t\t\t\t\tblockchain.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tIf you provide your public key (address) to someone, they can\r\n\t\t\t\t\t\t\t\ttransfer Factoids to you.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tIf you provide your private key or seed phrase to a person or\r\n\t\t\t\t\t\t\t\tentity, then that person or entity has full control of your\r\n\t\t\t\t\t\t\t\taccount, and may withdraw your funds.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tWe are not a custodian. Your funds are stored on the blockchain\r\n\t\t\t\t\t\t\t\tand protected by your private key and/or seed phrase. As\r\n\t\t\t\t\t\t\t\texplained above, your private key is solely your responsibility\r\n\t\t\t\t\t\t\t\tand MyFactomWallet.com does not store or have access to any of\r\n\t\t\t\t\t\t\t\tyour keys.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tOffered under MIT License Copyright  2015-2018: THE SOFTWARE IS\r\n\t\t\t\t\t\t\t\tPROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n\t\t\t\t\t\t\t\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n\t\t\t\t\t\t\t\tMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n\t\t\t\t\t\t\t\tNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n\t\t\t\t\t\t\t\tHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n\t\t\t\t\t\t\t\tWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n\t\t\t\t\t\t\t\tFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n\t\t\t\t\t\t\t\tOTHER DEALINGS IN THE SOFTWARE. The above copyright notice and\r\n\t\t\t\t\t\t\t\tthis permission notice shall be included in all copies or\r\n\t\t\t\t\t\t\t\tsubstantial portions of the Software.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<Typography variant=\"h5\" align=\"center\">\r\n\t\t\t\t\t\tImportant Tips\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tNever hand-type your public or private address.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tAlways send a small amount of Factoids first to ensure that the\r\n\t\t\t\t\t\t\t\ttransaction is processed correctly and the Factoids end up in\r\n\t\t\t\t\t\t\t\tthe correct address. After verifying this, you may send the full\r\n\t\t\t\t\t\t\t\tamount of Factoids.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tIf you generated a new Factoid or Entry Credit address in\r\n\t\t\t\t\t\t\t\tMyFactomWallet.com; save and back up the associated seed BEFORE\r\n\t\t\t\t\t\t\t\tyou send any funds to it.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tDo not post your private key or seed on any social media,\r\n\t\t\t\t\t\t\t\tchat-platforms, email/sms it, or store it in any cloud storage\r\n\t\t\t\t\t\t\t\tservice (Google Drive, Dropbox etc).\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tUse a hardware wallet for added protection (Ledger Nano S\r\n\t\t\t\t\t\t\t\tsupported at this time).\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tRegularly monitor the security of your computer operating system\r\n\t\t\t\t\t\t\t\tto ensure that it is not compromised by malicious software\r\n\t\t\t\t\t\t\t\twhereby unauthorized third parties may obtain your private key\r\n\t\t\t\t\t\t\t\tor seed.\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tEnsure that you are not on a phishing site, but have landed on\r\n\t\t\t\t\t\t\t\tthe correct page (verify that you are on\r\n\t\t\t\t\t\t\t\thttps://www.myfactomwallet.com in the browser, and also check\r\n\t\t\t\t\t\t\t\tthat the lock symbol is displayed in the Chrome address bar).\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\tThe user must understand that MyFactomWallet.com CANNOT:\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\tAccess your wallet or send your funds for you\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\tRecover or change your private key or seed\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\tReverse, cancel, or refund any transactions\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Typography>Freeze FCT or Entry Credit addresses</Typography>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleAgree} color=\"primary\">\r\n\t\t\t\t\t\tAccept\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n\tonClose: PropTypes.func,\r\n\tvalue: PropTypes.string,\r\n};\r\n\r\nconst styles = (theme) => ({});\r\n\r\nclass ConfirmationDialog extends React.Component {\r\n\tstate = {\r\n\t\topen: true,\r\n\t\tvalue: 'Done',\r\n\t};\r\n\r\n\thandleClose = (value) => {\r\n\t\tthis.setState({ value, open: false });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ConfirmationDialogRaw\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\tvalue={this.state.value}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nConfirmationDialog.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ConfirmationDialog);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport { withNetwork } from './context/NetworkContext';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nfunction TestnetWarningBar(props) {\r\n\tconst {\r\n\t\tclasses,\r\n\t\tnetworkController: { networkProps },\r\n\t} = props;\r\n\r\n\tif (networkProps.network === 'testnet') {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<div className={classes.toolbarSpace} />\r\n\t\t\t\t<AppBar position=\"fixed\" className={classes.appBar}>\r\n\t\t\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t\t\t<WarningIcon className={classes.warningIcon} />\r\n\t\t\t\t\t\t<Typography variant=\"h3\">\r\n\t\t\t\t\t\t\tYou are connected to the Factom <b>Testnet</b>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<WarningIcon className={classes.warningIcon} />\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t} else {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nTestnetWarningBar.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tappBar: {\r\n\t\ttop: 'auto',\r\n\t\tbottom: 0,\r\n\t\tminHeight: 78,\r\n\t\tpaddingTop: 9,\r\n\t\tbackgroundColor: '#ffa000',\r\n\t},\r\n\ttoolbar: {\r\n\t\tmarginLeft: 'auto',\r\n\t\tmarginRight: 'auto',\r\n\t},\r\n\twarningIcon: {\r\n\t\tfontSize: 52,\r\n\t},\r\n\ttoolbarSpace: {\r\n\t\theight: 85,\r\n\t},\r\n});\r\n\r\nconst enhancer = _flowRight(withNetwork, withStyles(styles));\r\nexport default enhancer(TestnetWarningBar);\r\n","import React from 'react';\r\nimport _get from 'lodash/get';\r\nimport { Formik, Form, ErrorMessage } from 'formik';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst getImportTypes = (networkProps) => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tvalue: 'fct',\r\n\t\t\tlabel: 'Import ' + networkProps.factoidAbbreviationFull + ' Address',\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'ec',\r\n\t\t\tlabel: 'Import ' + networkProps.ecAbbreviationFull + ' Address',\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'new',\r\n\t\t\tlabel: 'Generate new 12-word seed',\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'importSeed',\r\n\t\t\tlabel: 'Import addresses from mnemonic seed phrase',\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'ledger',\r\n\t\t\tlabel: 'Import addresses from Ledger Nano S',\r\n\t\t},\r\n\t];\r\n};\r\n\r\n/**\r\n * Constants\r\n */\r\nconst importTypePath = 'importType';\r\n\r\nclass ImportTypeForm extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\timportType,\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{ [importTypePath]: importType }}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[importTypePath]: Yup.string().required('Required'),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({ values, handleChange, isSubmitting, errors, touched }) => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t_get(errors, importTypePath) && _get(touched, importTypePath)\r\n\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcomponent=\"fieldset\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormLabel component=\"legend\">\r\n\t\t\t\t\t\t\t\tHow would you like to add a new address?\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={importTypePath}\r\n\t\t\t\t\t\t\t\t\trender={() => (\r\n\t\t\t\t\t\t\t\t\t\t<span className={classes.errorText}>&nbsp;*</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormLabel>\r\n\r\n\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\taria-label=\"Import Type\"\r\n\t\t\t\t\t\t\t\tname={importTypePath}\r\n\t\t\t\t\t\t\t\tvalue={_get(values, importTypePath)}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\tthis.props.updateImportType(e.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{getImportTypes(networkProps).map((option, index) => (\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\tlabel={option.label}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={option.disabled}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button disabled={true}>Back</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nImportTypeForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\terrorText: { color: 'red' },\r\n});\r\n\r\nconst enhancer = _flowRight(withNetwork, withStyles(styles));\r\nexport default enhancer(ImportTypeForm);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { isValidFctPublicAddress } from 'factom/dist/factom';\r\nimport get from 'lodash/get';\r\nimport findIndex from 'lodash/findIndex';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst FCT_ADDRESS_LENGTH = 52;\r\nconst NICKNAME_MAX_LENGTH = 25;\r\nconst fctAddrPath = 'factoidAddress';\r\nconst nicknamePath = 'nickname';\r\n\r\nclass ImportFctForm extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\twalletController: { getFactoidAddresses, newStandardAddress, addAddress },\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\tconst factoidAddresses = getFactoidAddresses();\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{ factoidAddress: '', nickname: '' }}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\tconst fctAddress_o = newStandardAddress(\r\n\t\t\t\t\t\tget(values, fctAddrPath),\r\n\t\t\t\t\t\tget(values, nicknamePath).trim()\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\taddAddress(fctAddress_o, 'fct');\r\n\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[fctAddrPath]: Yup.string()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(fctAddrPath, 'Invalid Address', isValidFctPublicAddress)\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\tfctAddrPath,\r\n\t\t\t\t\t\t\t'Enter unique address',\r\n\t\t\t\t\t\t\t(value) => findIndex(factoidAddresses, ['address', value]) === -1\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t[nicknamePath]: Yup.string()\r\n\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\tnicknamePath,\r\n\t\t\t\t\t\t\t'Enter unique nickname',\r\n\t\t\t\t\t\t\t(value) =>\r\n\t\t\t\t\t\t\t\tfindIndex(factoidAddresses, [nicknamePath, value]) === -1\r\n\t\t\t\t\t\t),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({ isSubmitting, errors, touched }) => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\terrors.factoidAddress && touched.factoidAddress ? true : false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tname={fctAddrPath}\r\n\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t'Public ' + networkProps.factoidAbbreviationFull + ' Address'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmaxLength={FCT_ADDRESS_LENGTH}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\tname={fctAddrPath}\r\n\t\t\t\t\t\t\trender={(msg) => <span className={classes.errorText}>{msg}</span>}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\terrors[nicknamePath] && touched[nicknamePath] ? true : false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tname={nicknamePath}\r\n\t\t\t\t\t\t\tlabel=\"Nickname\"\r\n\t\t\t\t\t\t\tmaxLength={NICKNAME_MAX_LENGTH}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\tname={nicknamePath}\r\n\t\t\t\t\t\t\trender={(msg) => <span className={classes.errorText}>{msg}</span>}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button onClick={this.props.handleBack}>Back</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst FormTextField = (props) => {\r\n\treturn (\r\n\t\t<Field name={props.name}>\r\n\t\t\t{({ field }) => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tspellCheck: false,\r\n\t\t\t\t\t\tmaxLength: props.maxLength,\r\n\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...field}\r\n\t\t\t\t\tlabel={props.label + ' ' + (props.error ? '*' : '')}\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\terror={props.error}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Field>\r\n\t);\r\n};\r\n\r\nImportFctForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\terrorText: { color: 'red', fontSize: '12px' },\r\n});\r\n\r\nconst enhancer = _flowRight(withNetwork, withWalletContext, withStyles(styles));\r\n\r\nexport default enhancer(ImportFctForm);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { isValidEcPublicAddress } from 'factom/dist/factom';\r\nimport _get from 'lodash/get';\r\nimport findIndex from 'lodash/findIndex';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst EC_ADDRESS_LENGTH = 52;\r\nconst NICKNAME_MAX_LENGTH = 25;\r\nconst ecAddrNamePath = 'entryCreditAddress';\r\nconst nicknamePath = 'nickname';\r\n\r\nclass ImportEcForm extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\twalletController: {\r\n\t\t\t\tgetEntryCreditAddresses,\r\n\t\t\t\tnewStandardAddress,\r\n\t\t\t\taddAddress,\r\n\t\t\t},\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\tconst ecAddresses = getEntryCreditAddresses();\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{ entryCreditAddress: '', nickname: '' }}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\tconst ecAddress_o = newStandardAddress(\r\n\t\t\t\t\t\t_get(values, ecAddrNamePath),\r\n\t\t\t\t\t\t_get(values, nicknamePath).trim()\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\taddAddress(ecAddress_o, 'ec');\r\n\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[ecAddrNamePath]: Yup.string()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(ecAddrNamePath, 'Invalid Address', isValidEcPublicAddress)\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\tecAddrNamePath,\r\n\t\t\t\t\t\t\t'Enter unique address',\r\n\t\t\t\t\t\t\t(value) => findIndex(ecAddresses, ['address', value]) === -1\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t[nicknamePath]: Yup.string()\r\n\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\tnicknamePath,\r\n\t\t\t\t\t\t\t'Enter unique nickname',\r\n\t\t\t\t\t\t\t(value) => findIndex(ecAddresses, [nicknamePath, value]) === -1\r\n\t\t\t\t\t\t),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({ isSubmitting, errors, touched }) => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\terrors.entryCreditAddress && touched.entryCreditAddress\r\n\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tname={ecAddrNamePath}\r\n\t\t\t\t\t\t\tlabel={'Public ' + networkProps.ecAbbreviationFull + ' Address'}\r\n\t\t\t\t\t\t\thelperText=\"test\"\r\n\t\t\t\t\t\t\tmaxLength={EC_ADDRESS_LENGTH}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\tname={ecAddrNamePath}\r\n\t\t\t\t\t\t\trender={(msg) => <span className={classes.errorText}>{msg}</span>}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\terrors[nicknamePath] && touched[nicknamePath] ? true : false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tname={nicknamePath}\r\n\t\t\t\t\t\t\tlabel=\"Nickname\"\r\n\t\t\t\t\t\t\tmaxLength={NICKNAME_MAX_LENGTH}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\tname={nicknamePath}\r\n\t\t\t\t\t\t\trender={(msg) => <span className={classes.errorText}>{msg}</span>}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button onClick={this.props.handleBack}>Back</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst FormTextField = (props) => {\r\n\treturn (\r\n\t\t<Field name={props.name}>\r\n\t\t\t{({ field }) => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tspellCheck: false,\r\n\t\t\t\t\t\tmaxLength: props.maxLength,\r\n\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...field}\r\n\t\t\t\t\tlabel={props.label + ' ' + (props.error ? '*' : '')}\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\terror={props.error}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Field>\r\n\t);\r\n};\r\n\r\nImportEcForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\terrorText: { color: 'red', fontSize: '12px' },\r\n});\r\n\r\nconst enhancer = _flowRight(withNetwork, withWalletContext, withStyles(styles));\r\n\r\nexport default enhancer(ImportEcForm);\r\n","import React from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withSeed } from '../context/SeedContext';\r\nimport _get from 'lodash/get';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst mnemonicPath = 'mnemonic';\r\n\r\nclass NewSeedForm extends React.Component {\r\n\tstate = {\r\n\t\tstep: 1,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.setMnemonic(this.props.seedController.getRandomMnemonic());\r\n\t}\r\n\r\n\tnextStep = () => {\r\n\t\tthis.setState({ step: 2 });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\t[mnemonicPath]: '',\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[mnemonicPath]: Yup.string()\r\n\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.oneOf([this.props.mnemonic], 'Seed does not match'),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({ isSubmitting, errors, touched }) => (\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tstyle={{ width: '500px' }}\r\n\t\t\t\t\t\tautoComplete=\"nope\"\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.state.step === 1 && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontWeight: 500 }}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.warningText}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tWrite down your seed carefully on a piece of paper. This seed\r\n\t\t\t\t\t\t\t\t\tprovides access to all the derived addresses. If you lose this\r\n\t\t\t\t\t\t\t\t\tseed, you will lose access to your addresses forever!\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Typography style={{ fontWeight: 500 }}>\r\n\t\t\t\t\t\t\t\t\tSeed Phrase:\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography>{this.props.mnemonic}</Typography>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{this.state.step === 2 && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t_get(errors, mnemonicPath) && _get(touched, mnemonicPath)\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tname={mnemonicPath}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Verify Seed Phrase\"\r\n\t\t\t\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={mnemonicPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<span className={classes.errorText}>{msg}</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tthis.props.setMnemonic(null);\r\n\t\t\t\t\t\t\t\t\tthis.props.handleBack();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{this.state.step === 1 && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.nextStep}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tVerify Seed\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{this.state.step === 2 && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst FormTextField = (props) => {\r\n\treturn (\r\n\t\t<Field name={props.name}>\r\n\t\t\t{({ field }) => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...field}\r\n\t\t\t\t\tlabel={props.label + ' ' + (props.error ? '*' : '')}\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\terror={props.error}\r\n\t\t\t\t\tautoFocus={props.autoFocus}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Field>\r\n\t);\r\n};\r\n\r\nNewSeedForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\twarningText: { color: 'red', fontSize: '15px' },\r\n\terrorText: { color: 'red' },\r\n});\r\n\r\nconst enhancer = _flowRight(withSeed, withStyles(styles));\r\n\r\nexport default enhancer(NewSeedForm);\r\n","import React from 'react';\r\nimport { withNetwork } from '../../context/NetworkContext';\r\nimport _flowRight from 'lodash/flowRight';\r\n/**\r\n * Constants\r\n */\r\nconst FACTOSHI_MULTIPLIER = 0.00000001;\r\n\r\nconst FormatBalance = (props) => {\r\n\tconst {\r\n\t\tbalance,\r\n\t\ttype,\r\n\t\tnetworkController: { networkProps },\r\n\t} = props;\r\n\r\n\tif (type === 'fct') {\r\n\t\treturn <FormatFCTBalance balance={balance} networkProps={networkProps} />;\r\n\t} else if (type === 'ec') {\r\n\t\treturn <FormatECBalance balance={balance} networkProps={networkProps} />;\r\n\t}\r\n};\r\n\r\nconst FormatFCTBalance = (props) => {\r\n\tlet result = '';\r\n\tconst factoshiBalance = props.balance;\r\n\r\n\tconst factoidBalance = parseInt(factoshiBalance, 10) * FACTOSHI_MULTIPLIER;\r\n\r\n\tresult =\r\n\t\tfactoidBalance.toLocaleString(undefined, {\r\n\t\t\tmaximumFractionDigits: 8,\r\n\t\t}) +\r\n\t\t' ' +\r\n\t\tprops.networkProps.factoidAbbreviation;\r\n\r\n\treturn result;\r\n};\r\n\r\nconst FormatECBalance = (props) => {\r\n\tlet result = '';\r\n\tconst entryCreditBalance = props.balance;\r\n\r\n\tresult =\r\n\t\tparseInt(entryCreditBalance, 10) + ' ' + props.networkProps.ecAbbreviation;\r\n\r\n\treturn result;\r\n};\r\n\r\nconst enhancer = _flowRight(withNetwork);\r\nexport default enhancer(FormatBalance);\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Field, ErrorMessage, FieldArray } from 'formik';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _get from 'lodash/get';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormatBalance from '../walletManager/shared/BalanceFormatter.js';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst addressesPath = 'addresses';\r\nconst NICKNAME_MAX_LENGTH = 25;\r\n\r\nclass GenerateAddressTable extends React.Component {\r\n\tstate = { loading: false };\r\n\r\n\taddGeneratedAddress = (nickname, address_o, arrayHelpers) => {\r\n\t\tif (nickname) {\r\n\t\t\tconst addr_o = this.props.newAddress(\r\n\t\t\t\taddress_o.address,\r\n\t\t\t\tnickname.trim(),\r\n\t\t\t\taddress_o.index\r\n\t\t\t);\r\n\t\t\tarrayHelpers.replace(address_o.index, addr_o);\r\n\t\t} else {\r\n\t\t\tarrayHelpers.replace(address_o.index, null);\r\n\t\t}\r\n\t};\r\n\r\n\tvalidateNickname = (value) => {\r\n\t\tconst { userAddressList } = this.props;\r\n\t\tconst userAddressNicknames = userAddressList.map(\r\n\t\t\t(addr_o) => addr_o.nickname\r\n\t\t);\r\n\r\n\t\tlet error;\r\n\t\tif (!value) {\r\n\t\t\terror = 'Required';\r\n\t\t} else if (userAddressNicknames.indexOf(value.trim()) !== -1) {\r\n\t\t\terror = 'Enter unique nickname';\r\n\t\t}\r\n\t\treturn error;\r\n\t};\r\n\r\n\tgetNext = async () => {\r\n\t\tthis.setState({ loading: true });\r\n\t\tawait this.props.getNextFive();\r\n\t\tthis.setState({ loading: false });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tgeneratedAddressList,\r\n\t\t\tuserAddressList, // existing addresses\r\n\t\t\tvalues,\r\n\t\t\terrors,\r\n\t\t\ttouched,\r\n\t\t\tsetFieldValue,\r\n\t\t\thandleChange,\r\n\t\t} = this.props;\r\n\r\n\t\tconst userAddresses = userAddressList.map((addr_o) => addr_o.address);\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Typography variant=\"h6\">{this.props.title}</Typography>\r\n\t\t\t\t<ErrorMessage\r\n\t\t\t\t\tname={addressesPath}\r\n\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t<span className={classes.errorText}>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t{msg}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Paper className={classes.root}>\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<CustomCell />\r\n\t\t\t\t\t\t\t\t<CustomCell>Address</CustomCell>\r\n\t\t\t\t\t\t\t\t<CustomCell>Balance</CustomCell>\r\n\t\t\t\t\t\t\t\t<CustomCell>Nickname</CustomCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{!_isEmpty(generatedAddressList) &&\r\n\t\t\t\t\t\t\t\tgeneratedAddressList.map((address_o) => {\r\n\t\t\t\t\t\t\t\t\tconst checkboxPath = 'checkbox_' + address_o.index;\r\n\t\t\t\t\t\t\t\t\tconst nicknamePath = 'nickname_' + address_o.index;\r\n\t\t\t\t\t\t\t\t\tconst duplicate =\r\n\t\t\t\t\t\t\t\t\t\tuserAddresses.indexOf(address_o.address) === -1\r\n\t\t\t\t\t\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t\t\t\t\t\t: true;\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={address_o.index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FieldArray\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={addressesPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\trender={(arrayHelpers) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{duplicate ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Address already added\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={checkboxPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={address_o.index + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={checkboxPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={checkboxPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarrayHelpers.replace(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddress_o.index,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(nicknamePath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={address_o.index + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CustomCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomCell>{address_o.address}</CustomCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormatBalance\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbalance={address_o.balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype={this.props.type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CustomCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{duplicate ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserAddressList.find((addr_o) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn addr_o.address === address_o.address;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).nickname\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, checkboxPath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={nicknamePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidate={this.validateNickname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{({ field }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addGeneratedAddress(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddress_o,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarrayHelpers\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terrors[nicknamePath] &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched[nicknamePath]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength: NICKNAME_MAX_LENGTH,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={nicknamePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.errorTextSmall}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{msg}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CustomCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t<TableFooter />\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={this.getNext}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tdisabled={this.state.loading}\r\n\t\t\t\t>\r\n\t\t\t\t\tLoad Five More\r\n\t\t\t\t\t{(this.state.loading || _isEmpty(generatedAddressList)) && (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t<CircularProgress thickness={7} />\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Button>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\nconst CustomCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tcolor: 'black',\r\n\t\tfontSize: '13px',\r\n\t\tpaddingLeft: 5,\r\n\t\tpaddingRight: 5,\r\n\t},\r\n\tbody: {\r\n\t\tpaddingLeft: 5,\r\n\t\tpaddingRight: 5,\r\n\t},\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '800px',\r\n\t\tmarginTop: 12,\r\n\t\toverflowX: 'auto',\r\n\t\tmaxHeight: 405,\r\n\t},\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t},\r\n\terrorText: {\r\n\t\tcolor: 'red',\r\n\t\tfontSize: '20px',\r\n\t},\r\n\terrorTextSmall: {\r\n\t\tcolor: 'red',\r\n\t\tfontSize: '12px',\r\n\t},\r\n});\r\n\r\nexport default withStyles(styles)(GenerateAddressTable);\r\n","import React from 'react';\r\nimport { Formik, Form } from 'formik';\r\nimport _isNil from 'lodash/isNil';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _get from 'lodash/get';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withLedger } from '../context/LedgerContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport GenerateAddressTable from './GenerateAddressTable';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst addressesPath = 'addresses';\r\n\r\nconst getTitle = (networkProps) => {\r\n\treturn {\r\n\t\tfct: 'Ledger Nano S ' + networkProps.factoidAbbreviationFull + ' Addresses',\r\n\t\tec: 'Ledger Nano S ' + networkProps.ecAbbreviationFull + ' Addresses',\r\n\t};\r\n};\r\n\r\nclass LedgerForm extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tgeneratedAddressList: [],\r\n\t\t\tledgerConnected: false,\r\n\t\t\tledgerStatus: null,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getNextFive(0);\r\n\t}\r\n\r\n\tretryConnection = () => {\r\n\t\tthis.setState({\r\n\t\t\tledgerStatus: null,\r\n\t\t});\r\n\t\tthis.getNextFive(0);\r\n\t};\r\n\r\n\tgetNextFive = async (startIndex) => {\r\n\t\ttry {\r\n\t\t\tconst generatedAddressList = await this.props.ledgerController.getLedgerAddresses(\r\n\t\t\t\tthis.state.generatedAddressList.length,\r\n\t\t\t\t5,\r\n\t\t\t\tthis.props.type\r\n\t\t\t);\r\n\r\n\t\t\tthis.setState((prevState) => ({\r\n\t\t\t\tgeneratedAddressList: [\r\n\t\t\t\t\t...prevState.generatedAddressList,\r\n\t\t\t\t\t...generatedAddressList,\r\n\t\t\t\t],\r\n\t\t\t\tledgerConnected: true,\r\n\t\t\t}));\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t\tthis.setState({\r\n\t\t\t\tledgerStatus: 'Ledger Nano S not found. Troubleshooting tips:',\r\n\t\t\t\tledgerConnected: false,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thasAddressSelected = (formValues) =>\r\n\t\tObject.keys(formValues)\r\n\t\t\t.filter((key) => key.startsWith('checkbox'))\r\n\t\t\t.some((key) => formValues[key]);\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\twalletController: { getAddresses, addAddresses, newLedgerAddress },\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\tlet userAddressList = getAddresses(type);\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\taddresses: [],\r\n\t\t\t\t\tledgerConnected: this.state.ledgerConnected,\r\n\t\t\t\t\tledgerStatus: this.state.ledgerStatus,\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={async (values, actions) => {\r\n\t\t\t\t\tlet validAddresses = [];\r\n\t\t\t\t\tfor (let value of _get(values, addressesPath)) {\r\n\t\t\t\t\t\tif (!_isNil(value)) {\r\n\t\t\t\t\t\t\tvalidAddresses.push(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// add addresses\r\n\t\t\t\t\taddAddresses(validAddresses, this.props.type);\r\n\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t/* \t[addressesPath]: Yup.array()\r\n\t\t\t\t\t\t.compact()\r\n\t\t\t\t\t\t.required('* You must add an Address'), */\r\n\t\t\t\t})}\r\n\t\t\t\trender={({\r\n\t\t\t\t\tisSubmitting,\r\n\t\t\t\t\terrors,\r\n\t\t\t\t\ttouched,\r\n\t\t\t\t\tvalues,\r\n\t\t\t\t\tsetFieldValue,\r\n\t\t\t\t\thandleChange,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t{values.ledgerConnected ? (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<GenerateAddressTable\r\n\t\t\t\t\t\t\t\t\ttitle={getTitle(networkProps)[type]}\r\n\t\t\t\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\t\t\t\tgeneratedAddressList={this.state.generatedAddressList}\r\n\t\t\t\t\t\t\t\t\tuserAddressList={userAddressList}\r\n\t\t\t\t\t\t\t\t\tgetNextFive={this.getNextFive}\r\n\t\t\t\t\t\t\t\t\tnewAddress={newLedgerAddress}\r\n\t\t\t\t\t\t\t\t\tvalues={values}\r\n\t\t\t\t\t\t\t\t\terrors={errors}\r\n\t\t\t\t\t\t\t\t\ttouched={touched}\r\n\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\r\n\t\t\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{!_isNil(values.ledgerStatus) ? (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<Typography>{values.ledgerStatus}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAre you using a Ledger Nano S device?\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIs the Factom app launched on your device?\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIs your device running the latest version?\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tHave you closed the Ledger Live Manager?\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAre you using&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={'https://www.google.com/chrome/'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChrome\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Are you running any adblockers?</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tHave you tried restarting your device?\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSupport is available in the #ledger-nano-s channel on\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tour&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={'https://discord.gg/79kH2pp'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDiscord server\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.retryConnection}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tRetry\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Connecting to Ledger Nano S</b>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress thickness={7} />\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t<b>Note:</b>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe Ledger Nano S hardware wallet can be ordered\r\n\t\t\t\t\t\t\t\t\t\t\t\tfrom&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={'https://www.ledger.com/?r=1b0be6fa98ba'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tLedger's website\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t(affiliate link).\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTo function properly, the Factom application needs to be\r\n\t\t\t\t\t\t\t\t\t\t\t\tlaunched on the Ledger Nano S. You can install the\r\n\t\t\t\t\t\t\t\t\t\t\t\tapplication from the Ledger Live Manager.\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button onClick={this.props.handleBack}>Back</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting || !this.state.ledgerConnected}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.hasAddressSelected(values) ? 'Add and Continue' : 'Skip'}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nLedgerForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\terrorText: { color: 'red', fontSize: '12px' },\r\n});\r\n\r\nconst enhancer = _flowRight(\r\n\twithNetwork,\r\n\twithLedger,\r\n\twithWalletContext,\r\n\twithStyles(styles)\r\n);\r\n\r\nexport default enhancer(LedgerForm);\r\n","import React from 'react';\r\nimport { Formik, Form } from 'formik';\r\nimport _isNil from 'lodash/isNil';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _get from 'lodash/get';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withSeed } from '../context/SeedContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport GenerateAddressTable from './GenerateAddressTable';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst addressesPath = 'addresses';\r\n\r\nconst getTitle = (networkProps) => {\r\n\treturn {\r\n\t\tfct: networkProps.factoidAbbreviationFull + ' Addresses',\r\n\t\tec: networkProps.ecAbbreviationFull + ' Addresses',\r\n\t};\r\n};\r\n\r\nclass SeedForm extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tgeneratedAddressList: [],\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getNextFive(0);\r\n\t}\r\n\r\n\tgetNextFive = async () => {\r\n\t\tconst generatedAddressList = await this.props.seedController.getSeedAddresses(\r\n\t\t\tthis.props.mnemonic,\r\n\t\t\tthis.state.generatedAddressList.length,\r\n\t\t\t5,\r\n\t\t\tthis.props.type\r\n\t\t);\r\n\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\tgeneratedAddressList: [\r\n\t\t\t\t...prevState.generatedAddressList,\r\n\t\t\t\t...generatedAddressList,\r\n\t\t\t],\r\n\t\t}));\r\n\t};\r\n\r\n\thasAddressSelected = (formValues) =>\r\n\t\tObject.keys(formValues)\r\n\t\t\t.filter((key) => key.startsWith('checkbox'))\r\n\t\t\t.some((key) => formValues[key]);\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\twalletController: { getAddresses, addAddresses, newSeedAddress },\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\tlet userAddressList = getAddresses(type);\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\t[addressesPath]: [],\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={async (values, actions) => {\r\n\t\t\t\t\tlet validAddresses = [];\r\n\t\t\t\t\tfor (let value of _get(values, addressesPath)) {\r\n\t\t\t\t\t\tif (!_isNil(value)) {\r\n\t\t\t\t\t\t\tvalidAddresses.push(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// add addresses\r\n\t\t\t\t\taddAddresses(validAddresses, this.props.type);\r\n\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({})}\r\n\t\t\t\trender={({\r\n\t\t\t\t\tisSubmitting,\r\n\t\t\t\t\terrors,\r\n\t\t\t\t\ttouched,\r\n\t\t\t\t\tvalues,\r\n\t\t\t\t\tsetFieldValue,\r\n\t\t\t\t\thandleChange,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<GenerateAddressTable\r\n\t\t\t\t\t\t\ttitle={getTitle(networkProps)[type]}\r\n\t\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\t\tgeneratedAddressList={this.state.generatedAddressList}\r\n\t\t\t\t\t\t\tuserAddressList={userAddressList}\r\n\t\t\t\t\t\t\tgetNextFive={this.getNextFive}\r\n\t\t\t\t\t\t\tnewAddress={newSeedAddress}\r\n\t\t\t\t\t\t\tvalues={values}\r\n\t\t\t\t\t\t\terrors={errors}\r\n\t\t\t\t\t\t\ttouched={touched}\r\n\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\r\n\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{this.props.handleBack && (\r\n\t\t\t\t\t\t\t\t<Button onClick={this.props.handleBack}>Back</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.hasAddressSelected(values) ? 'Add and Continue' : 'Skip'}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nSeedForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\terrorText: { color: 'red', fontSize: '12px' },\r\n});\r\n\r\nconst enhancer = _flowRight(\r\n\twithNetwork,\r\n\twithSeed,\r\n\twithWalletContext,\r\n\twithStyles(styles)\r\n);\r\n\r\nexport default enhancer(SeedForm);\r\n","import React from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport _get from 'lodash/get';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport factombip44 from 'factombip44/dist/factombip44';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst mnemonicPath = 'mnemonic';\r\n\r\nclass ImportSeedForm extends React.Component {\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\t[mnemonicPath]: '',\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\tthis.props.setMnemonic(_get(values, mnemonicPath).trim());\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[mnemonicPath]: Yup.string()\r\n\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\tmnemonicPath,\r\n\t\t\t\t\t\t\t'Invalid Seed Phrase',\r\n\t\t\t\t\t\t\tfactombip44.validMnemonic\r\n\t\t\t\t\t\t),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({ isSubmitting, errors, touched }) => (\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tstyle={{ width: '500px' }}\r\n\t\t\t\t\t\tautoComplete=\"nope\"\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t_get(errors, mnemonicPath) && _get(touched, mnemonicPath)\r\n\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tname={mnemonicPath}\r\n\t\t\t\t\t\t\t\tlabel=\"Seed Phrase\"\r\n\t\t\t\t\t\t\t\tplaceholder={'Enter Seed Phrase'}\r\n\t\t\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\tname={mnemonicPath}\r\n\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t<span className={classes.errorText}>{msg}</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tthis.props.setMnemonic(null);\r\n\t\t\t\t\t\t\t\t\tthis.props.handleBack();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst FormTextField = (props) => {\r\n\treturn (\r\n\t\t<Field name={props.name}>\r\n\t\t\t{({ field }) => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...field}\r\n\t\t\t\t\tlabel={props.label + ' ' + (props.error ? '*' : '')}\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\terror={props.error}\r\n\t\t\t\t\tautoFocus={props.autoFocus}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Field>\r\n\t);\r\n};\r\n\r\nImportSeedForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\twarningText: { color: 'red', fontSize: '15px' },\r\n\terrorText: { color: 'red' },\r\n});\r\n\r\nconst enhancer = _flowRight(withWalletContext, withStyles(styles));\r\n\r\nexport default enhancer(ImportSeedForm);\r\n","import React from 'react';\r\nimport ImportTypeForm from './ImportTypeForm';\r\nimport ImportFctForm from './ImportFctForm';\r\nimport ImportEcForm from './ImportEcForm';\r\nimport NewSeedForm from './NewSeedForm';\r\nimport LedgerForm from './LedgerForm';\r\nimport SeedForm from './SeedForm';\r\nimport ImportSeedForm from './ImportSeedForm';\r\n\r\nclass AddWalletStepContent extends React.Component {\r\n\tstate = { mnemonic: null };\r\n\r\n\tsetMnemonic = (mnemonic) => {\r\n\t\tthis.setState({ mnemonic });\r\n\t};\r\n\r\n\trender() {\r\n\t\tswitch (this.props.activeStep) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImportTypeForm\r\n\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\timportType={this.props.importType}\r\n\t\t\t\t\t\tupdateImportType={this.props.updateImportType}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase 1:\r\n\t\t\t\tif (this.props.importType === 'fct') {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ImportFctForm\r\n\t\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\t\thandleBack={this.props.handleBack}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if (this.props.importType === 'ec') {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ImportEcForm\r\n\t\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\t\thandleBack={this.props.handleBack}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if (this.props.importType === 'new') {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<NewSeedForm\r\n\t\t\t\t\t\t\tsetMnemonic={this.setMnemonic}\r\n\t\t\t\t\t\t\tmnemonic={this.state.mnemonic}\r\n\t\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\t\thandleBack={this.props.handleBack}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if (this.props.importType === 'importSeed') {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ImportSeedForm\r\n\t\t\t\t\t\t\tsetMnemonic={this.setMnemonic}\r\n\t\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\t\thandleBack={this.props.handleBack}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if (this.props.importType === 'ledger') {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<LedgerForm\r\n\t\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\t\thandleBack={this.props.handleBack}\r\n\t\t\t\t\t\t\ttype=\"fct\"\r\n\t\t\t\t\t\t\tkey=\"fctLedgerForm\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.props.importType === 'new' ||\r\n\t\t\t\t\tthis.props.importType === 'importSeed'\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<SeedForm\r\n\t\t\t\t\t\t\tmnemonic={this.state.mnemonic}\r\n\t\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\t\ttype=\"fct\"\r\n\t\t\t\t\t\t\tkey=\"fctSeedForm\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} /* else if (this.props.importType === 'ledger') {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<LedgerForm\r\n\t\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\t\thandleBack={this.props.handleBack}\r\n\t\t\t\t\t\t\ttype=\"ec\"\r\n\t\t\t\t\t\t\tkey=\"ecLedgerForm\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} */\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.props.importType === 'new' ||\r\n\t\t\t\t\tthis.props.importType === 'importSeed'\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<SeedForm\r\n\t\t\t\t\t\t\tmnemonic={this.state.mnemonic}\r\n\t\t\t\t\t\t\thandleNext={this.props.handleNext}\r\n\t\t\t\t\t\t\thandleBack={this.props.handleBack}\r\n\t\t\t\t\t\t\ttype=\"ec\"\r\n\t\t\t\t\t\t\tkey=\"ecSeedForm\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Unknown step';\r\n\t\t}\r\n\t}\r\n}\r\nexport default AddWalletStepContent;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AddWalletStepContent from './AddWalletStepContent';\r\nimport SectionHeader from '../vote/shared/SectionHeader.js';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport OpenInNew from '@material-ui/icons/OpenInNew';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { withWalletContext } from '../context/WalletContext';\r\n\r\nconst getStandardSteps = () => {\r\n\treturn ['Import Method', 'Address details'];\r\n};\r\n\r\nconst getLedgerAddressSteps = (networkProps) => {\r\n\treturn [\r\n\t\t'Import Method',\r\n\t\tnetworkProps.factoidAbbreviationFull,\r\n\t\t//\tnetworkProps.ecAbbreviationFull,\r\n\t];\r\n};\r\n//this.props.networkController.networkProps.factoidAbbreviation\r\nconst getSeedAddressSteps = (networkProps) => {\r\n\treturn [\r\n\t\t'Import Method',\r\n\t\t'Seed Value',\r\n\t\tnetworkProps.factoidAbbreviationFull,\r\n\t\tnetworkProps.ecAbbreviationFull,\r\n\t];\r\n};\r\n\r\nconst stepMap = {\r\n\timportSeed: getSeedAddressSteps,\r\n\tnew: getSeedAddressSteps,\r\n\tledger: getLedgerAddressSteps,\r\n\tfct: getStandardSteps,\r\n\tec: getStandardSteps,\r\n};\r\n\r\nclass AddWalletStepper extends React.Component {\r\n\tinitialState = {\r\n\t\tactiveStep: 0,\r\n\t\timportType: 'fct',\r\n\t\tgetSteps: getStandardSteps,\r\n\t};\r\n\r\n\tstate = this.initialState;\r\n\r\n\tupdateImportType = (importType) => {\r\n\t\tthis.setState({\r\n\t\t\timportType: importType,\r\n\t\t\tgetSteps: stepMap[importType],\r\n\t\t});\r\n\t};\r\n\r\n\thandleNext = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tactiveStep: state.activeStep + 1,\r\n\t\t}));\r\n\t};\r\n\r\n\thandleBack = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tactiveStep: state.activeStep - 1,\r\n\t\t}));\r\n\t};\r\n\r\n\thandleReset = () => {\r\n\t\tthis.setState(this.initialState);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\thandleCloseText,\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t\twalletController: { isWalletEmpty },\r\n\t\t} = this.props;\r\n\r\n\t\tconst { activeStep } = this.state;\r\n\r\n\t\tconst steps = this.state.getSteps(networkProps);\r\n\t\tconst sectionHeaderText =\r\n\t\t\tnetworkProps.network === 'testnet'\r\n\t\t\t\t? 'Add Testnet Address'\r\n\t\t\t\t: 'Add Address';\r\n\r\n\t\treturn (\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<SectionHeader text={sectionHeaderText} id=\"modal-title\" />\r\n\t\t\t\t<Stepper activeStep={activeStep} className={classes.stepper}>\r\n\t\t\t\t\t{steps.map((label, index) => {\r\n\t\t\t\t\t\tconst props = {};\r\n\t\t\t\t\t\tconst labelProps = {};\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Step key={label} {...props}>\r\n\t\t\t\t\t\t\t\t<StepLabel {...labelProps}>{label}</StepLabel>\r\n\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Stepper>\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{activeStep === steps.length ? (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t{networkProps.network === 'testnet' ? (\r\n\t\t\t\t\t\t\t\t<TestnetFinalStep\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tisWalletEmpty={isWalletEmpty()}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<MainnetFinalStep\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tisWalletEmpty={isWalletEmpty()}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{!isWalletEmpty() ? (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleReset}>Add Another</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.handleClose}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{handleCloseText}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button variant=\"outlined\" onClick={this.handleReset}>\r\n\t\t\t\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<AddWalletStepContent\r\n\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\tupdateImportType={this.updateImportType}\r\n\t\t\t\t\t\t\t\thandleNext={this.handleNext}\r\n\t\t\t\t\t\t\t\thandleBack={this.handleBack}\r\n\t\t\t\t\t\t\t\timportType={this.state.importType}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\nAddWalletStepper.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst MainnetFinalStep = ({ classes, isWalletEmpty }) => {\r\n\tif (isWalletEmpty) {\r\n\t\treturn (\r\n\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\tNo Addresses have been added.\r\n\t\t\t</Typography>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\tYou have finished adding an address.\r\n\t\t\t</Typography>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst TestnetFinalStep = ({ classes, isWalletEmpty }) => {\r\n\tif (isWalletEmpty) {\r\n\t\treturn (\r\n\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\tNo Addresses have been added.\r\n\t\t\t</Typography>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\tYou have finished adding a Testnet address.\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Paper className={classes.testnetWarning}>\r\n\t\t\t\t\t<Typography className={classes.warningText}>\r\n\t\t\t\t\t\t<WarningIcon className={classes.warningIcon} />\r\n\t\t\t\t\t\t&nbsp;&nbsp;Use these addresses for Testnet ONLY. Do not send real\r\n\t\t\t\t\t\tFactoids to these addresses, or you run the risk of losing them.\r\n\t\t\t\t\t\tPlease read all notices.\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\tYou can use the{' '}\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\thref={'https://faucet.factoid.org/'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tFactom Testnet Faucet{' '}\r\n\t\t\t\t\t\t\t<OpenInNew color=\"primary\" style={{ fontSize: 15 }} />\r\n\t\t\t\t\t\t</a>{' '}\r\n\t\t\t\t\t\tto receive Testoids.\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Paper>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tstepper: {\r\n\t\tbackgroundColor: '#eeeeee',\r\n\t},\r\n\tpaper: {\r\n\t\tminWidth: 565,\r\n\t\tpadding: theme.spacing.unit * 4,\r\n\t\tminHeight: 300,\r\n\t},\r\n\ttestnetWarning: {\r\n\t\tborderColor: '#ffa000',\r\n\t\tborderStyle: 'solid',\r\n\t\tpadding: 5,\r\n\t\twidth: 415,\r\n\t},\r\n\twarningIcon: {\r\n\t\tcolor: '#ffa000',\r\n\t\tdisplay: 'inline',\r\n\t\tposition: 'relative',\r\n\t\ttop: '6px',\r\n\t},\r\n\twarningText: {\r\n\t\tdisplay: 'inline',\r\n\t},\r\n});\r\n\r\nconst enhancer = _flowRight(withNetwork, withWalletContext, withStyles(styles));\r\n\r\nexport default enhancer(AddWalletStepper);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddWalletStepper from './AddWalletStepper';\r\n\r\nclass AddWalletModal extends React.Component {\r\n\tstate = {\r\n\t\topen: false,\r\n\t};\r\n\r\n\thandleOpen = () => {\r\n\t\tthis.setState({ open: true });\r\n\t};\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.center}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={this.handleOpen}\r\n\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t>\r\n\t\t\t\t\tAdd Address\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\taria-labelledby=\"modal-title\"\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={classes.modalContent}>\r\n\t\t\t\t\t\t<AddWalletStepper\r\n\t\t\t\t\t\t\thandleClose={this.handleClose}\r\n\t\t\t\t\t\t\thandleCloseText=\"Exit\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nAddWalletModal.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tmodalContent: {\r\n\t\tposition: 'absolute',\r\n\t\tboxShadow: theme.shadows[5],\r\n\t\ttop: `50%`,\r\n\t\tleft: `50%`,\r\n\t\ttransform: `translate(-50%, -50%)`,\r\n\t\tminWidth: '490px',\r\n\t},\r\n\tbutton: {\r\n\t\twidth: '275px;',\r\n\t\theight: '50px',\r\n\t\tmarginBottom: '15px',\r\n\t},\r\n\tcenter: {\r\n\t\tmargin: '0 auto',\r\n\t},\r\n});\r\n\r\nexport default withStyles(styles)(AddWalletModal);\r\n","import React, { Component } from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _isNil from 'lodash/isNil';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AddWalletModal from '../addWallet/AddWalletModal.js';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormatBalance from './shared/BalanceFormatter.js';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport _isEmpty from 'lodash/isEmpty';\r\n\r\nclass Sidebar extends Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\twalletController: {\r\n\t\t\t\tgetEntryCreditAddresses,\r\n\t\t\t\tgetFactoidAddresses,\r\n\t\t\t\tactiveAddressIndex_o,\r\n\t\t\t\tselectAddress,\r\n\t\t\t\tupdateBalances,\r\n\t\t\t},\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\tconst ecAddresses = getEntryCreditAddresses();\r\n\t\tconst factoidAddresses = getFactoidAddresses();\r\n\r\n\t\tconst listfactoidAddresses = factoidAddresses.map(function(wallet, index) {\r\n\t\t\tconst expanded =\r\n\t\t\t\tactiveAddressIndex_o.index === index &&\r\n\t\t\t\tactiveAddressIndex_o.type === 'fct';\r\n\t\t\tconst nicknameStyle = expanded ? { fontWeight: 500 } : {};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\tawait selectAddress(index, 'fct');\r\n\t\t\t\t\t\tupdateBalances();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={expanded ? classes.expanded : ''}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary>\r\n\t\t\t\t\t\t<Grid container justify=\"space-between\">\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.break} style={nicknameStyle}>\r\n\t\t\t\t\t\t\t\t\t{wallet.nickname}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{!_isNil(wallet.balance) && (\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.break}>\r\n\t\t\t\t\t\t\t\t\t\t<FormatBalance balance={wallet.balance} type=\"fct\" />\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst listecAddresses = ecAddresses.map(function(wallet, index) {\r\n\t\t\tconst expanded =\r\n\t\t\t\tactiveAddressIndex_o.index === index &&\r\n\t\t\t\tactiveAddressIndex_o.type === 'ec';\r\n\r\n\t\t\tconst nicknameStyle = expanded ? { fontWeight: 500 } : {};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\tawait selectAddress(index, 'ec');\r\n\t\t\t\t\t\tupdateBalances();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={expanded ? classes.expanded : ''}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary>\r\n\t\t\t\t\t\t<Grid container item xs={12} justify=\"space-between\">\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.break} style={nicknameStyle}>\r\n\t\t\t\t\t\t\t\t\t{wallet.nickname}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{!_isNil(wallet.balance) && (\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.break}>\r\n\t\t\t\t\t\t\t\t\t\t<FormatBalance balance={wallet.balance} type=\"ec\" />\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{!_isEmpty(factoidAddresses) && (\r\n\t\t\t\t\t<Paper className={classes.noPadding}>\r\n\t\t\t\t\t\t<List className={classes.addressList}>\r\n\t\t\t\t\t\t\t<ListItem className={classes.walletListHeader}>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tclassName={classes.addressHeading}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{networkProps.factoidAbbreviationFull + ' Addresses'}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t<ListItem disableGutters className={classes.walletList}>\r\n\t\t\t\t\t\t\t\t<div className={classes.listAddrRoot}>\r\n\t\t\t\t\t\t\t\t\t{listfactoidAddresses}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t{!_isEmpty(ecAddresses) && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t{!_isEmpty(factoidAddresses) && <br />}\r\n\t\t\t\t\t\t<Paper className={classes.noPadding}>\r\n\t\t\t\t\t\t\t<List className={classes.addressList}>\r\n\t\t\t\t\t\t\t\t<ListItem className={classes.walletListHeader}>\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.addressHeading}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{networkProps.ecAbbreviationFull + ' Addresses'}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<ListItem disableGutters className={classes.walletList}>\r\n\t\t\t\t\t\t\t\t\t<div className={classes.listAddrRoot}>{listecAddresses}</div>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className={classes.flex}>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<AddWalletModal />\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\nSidebar.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tnoPadding: {\r\n\t\tpadding: '0px',\r\n\t},\r\n\r\n\tbreak: {\r\n\t\twordWrap: 'break-word',\r\n\t},\r\n\texpanded: {\r\n\t\tbackgroundColor: 'aliceblue',\r\n\t},\r\n\tlistAddrRoot: {\r\n\t\twidth: '100%',\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: 270,\r\n\t},\r\n\r\n\taddressHeading: {\r\n\t\tfontWeight: 500,\r\n\t},\r\n\tflex: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\twalletList: {\r\n\t\tpadding: '6px',\r\n\t},\r\n\twalletListHeader: {\r\n\t\tpaddingTop: '5px',\r\n\t\tpaddingBottom: '5px',\r\n\t},\r\n\taddressList: {\r\n\t\tpaddingBottom: '0px',\r\n\t\tbackgroundColor: '#ddd',\r\n\t\tborderRadius: '4px',\r\n\t},\r\n});\r\n\r\nconst enhancer = _flowRight(withNetwork, withWalletContext, withStyles(styles));\r\n\r\nexport default enhancer(Sidebar);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _isNil from 'lodash/isNil';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport VerifiedUser from '@material-ui/icons/VerifiedUser';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\nimport FormatBalance from './BalanceFormatter.js';\r\nimport { withWalletContext } from '../../context/WalletContext';\r\nimport { withLedger } from '../../context/LedgerContext';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\n\r\nconst AddressInfoHeader = (props) => {\r\n\tconst {\r\n\t\tclasses,\r\n\t\twalletController: { getActiveAddress, activeAddressIndex_o },\r\n\t\tledgerController: { checkAddress },\r\n\t} = props;\r\n\r\n\tconst activeAddress_o = getActiveAddress();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Paper elevation={2} className={classes.paper}>\r\n\t\t\t\t<Grid container justify=\"space-between\">\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t<i>Nickname:</i>\r\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t{activeAddress_o.nickname}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t<i>Address:</i>\r\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t{activeAddress_o.address}\r\n\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t<CopyToClipboard text={activeAddress_o.address}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Copy\" className={classes.pointer}>\r\n\t\t\t\t\t\t\t\t\t<SvgIcon fontSize=\"inherit\" color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t\t<path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\" />\r\n\t\t\t\t\t\t\t\t\t</SvgIcon>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</CopyToClipboard>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{activeAddress_o.importType === 'ledger' && (\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<i>Import Type:</i>\r\n\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;Ledger Nano S\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{activeAddress_o.importType === 'seed' && (\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<i>Import Type:</i>\r\n\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;Seed Phrase\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{activeAddress_o.importType === 'standard' && (\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<i>Import Type:</i>\r\n\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;Public Address\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{!_isNil(activeAddress_o.balance) && (\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<i>Balance:</i>\r\n\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t<FormatBalance\r\n\t\t\t\t\t\t\t\t\tbalance={activeAddress_o.balance}\r\n\t\t\t\t\t\t\t\t\ttype={activeAddressIndex_o.type}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t{activeAddress_o.importType === 'ledger' && (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\ttitle=\"Verify Ledger Nano S Address\"\r\n\t\t\t\t\t\t\t\tclassName={classes.pointer}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<VerifiedUser\r\n\t\t\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\t\t\tawait checkAddress(\r\n\t\t\t\t\t\t\t\t\t\t\tactiveAddress_o,\r\n\t\t\t\t\t\t\t\t\t\t\tactiveAddressIndex_o.type\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t);\r\n};\r\nconst styles = (theme) => ({\r\n\troot: { textAlign: 'left' },\r\n\tpaper: { backgroundColor: 'aliceblue', padding: '16px', marginBottom: '3px' },\r\n\tpointer: {\r\n\t\tcursor: 'pointer',\r\n\t},\r\n});\r\n\r\nconst enhancer = _flowRight(withWalletContext, withLedger, withStyles(styles));\r\n\r\nexport default enhancer(AddressInfoHeader);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SendTransactionPreview = (props) => {\r\n\tconst { factoidAmount, classes, networkProps, sendFactoidFee } = props;\r\n\r\n\t// total send amount\r\n\tconst totalFactoidAmount = factoidAmount + sendFactoidFee;\r\n\r\n\t// format output\r\n\tconst transferFactoidAmountText = factoidAmount.toLocaleString(undefined, {\r\n\t\tmaximumFractionDigits: 8,\r\n\t});\r\n\r\n\tconst totalFactoidAmountText =\r\n\t\ttotalFactoidAmount.toLocaleString(undefined, {\r\n\t\t\tmaximumFractionDigits: 8,\r\n\t\t}) +\r\n\t\t' ' +\r\n\t\tnetworkProps.factoidAbbreviation;\r\n\r\n\tconst feeFactoidAmountText =\r\n\t\tsendFactoidFee.toLocaleString(undefined, {\r\n\t\t\tmaximumFractionDigits: 8,\r\n\t\t}) +\r\n\t\t' ' +\r\n\t\tnetworkProps.factoidAbbreviation;\r\n\r\n\treturn (\r\n\t\t<Paper className={classes.root} elevation={2}>\r\n\t\t\t<div>Transaction Preview</div>\r\n\t\t\t<br />\r\n\t\t\t<span className={classes.transferFactoidAmountText}>\r\n\t\t\t\t{transferFactoidAmountText}\r\n\t\t\t</span>\r\n\t\t\t<span className={classes.transferFactoidUnitText}>\r\n\t\t\t\t{' ' + networkProps.factoidAbbreviation}\r\n\t\t\t</span>\r\n\t\t\t<hr className={classes.divider} />\r\n\t\t\t<div className={classes.detail}>\r\n\t\t\t\t<div>Total Amount:</div>\r\n\t\t\t\t<div className={classes.factoidAmountSmallText}>\r\n\t\t\t\t\t{totalFactoidAmountText}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.detail}>\r\n\t\t\t\t<div>Network Fee:</div>\r\n\t\t\t\t<div className={classes.factoidAmountSmallText}>\r\n\t\t\t\t\t{feeFactoidAmountText}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Paper>\r\n\t);\r\n};\r\nSendTransactionPreview.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\nconst styles = {\r\n\troot: {\r\n\t\twidth: '75%',\r\n\t\tmargin: '0 auto',\r\n\t\tpaddingTop: '26px',\r\n\t\tmarginTop: '39px',\r\n\t\theight: '194px',\r\n\t\tborderRadius: '10px',\r\n\t\tbackgroundColor: '#eef1f4',\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\ttransferFactoidAmountText: {\r\n\t\tfontSize: '50px',\r\n\t\tcolor: '#007eff',\r\n\t},\r\n\ttransferFactoidUnitText: {\r\n\t\twidth: '55px',\r\n\t\theight: '24px',\r\n\t\tfontSize: '20px',\r\n\t\tcolor: '#007eff',\r\n\t},\r\n\tfactoidAmountSmallText: {\r\n\t\tcolor: '#001830',\r\n\t\tpaddingTop: '7px',\r\n\t},\r\n\tdetail: {\r\n\t\tdisplay: 'inline-block',\r\n\t\tpaddingLeft: '65px',\r\n\t\tpaddingRight: '65px',\r\n\t},\r\n\tdivider: {\r\n\t\twidth: '50%',\r\n\t\topacity: 0.15,\r\n\t\tborder: 'solid 1px #103152',\r\n\t},\r\n};\r\n\r\nconst enhancer = _flowRight(withStyles(styles));\r\n\r\nexport default enhancer(SendTransactionPreview);\r\n","import React, { Component } from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _isNil from 'lodash/isNil';\r\nimport _get from 'lodash/get';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withFactomCli } from '../context/FactomCliContext';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport CheckCircle from '@material-ui/icons/CheckCircleOutlined';\r\nimport AddressInfoHeader from './shared/AddressInfoHeader';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport OpenInNew from '@material-ui/icons/OpenInNew';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withSeed } from '../context/SeedContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport { withLedger } from '../context/LedgerContext';\r\nimport { isValidFctPublicAddress } from 'factom/dist/factom';\r\nimport SendTransactionPreview from './SendTransactionPreview';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst sendFactoidAmountPath = 'sendFactoidAmount';\r\nconst recipientAddressPath = 'recipientAddress';\r\nconst myFctWalletAnchorElPath = 'myFctWalletAnchorEl';\r\nconst privateKeyPath = 'privateKey';\r\nconst seedPath = 'seed';\r\nconst walletImportTypePath = 'walletImportType';\r\n\r\nconst FACTOSHI_MULTIPLIER = 0.00000001;\r\nconst FACTOID_MULTIPLIER = 100000000;\r\nconst FCT_ADDRESS_LENGTH = 52;\r\n\r\nclass SendFactoidForm extends Component {\r\n\tstate = { sendFactoidFee: null };\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst sendFactoidFee = await this.props.walletController.getFactoidFee();\r\n\t\tthis.setState({ sendFactoidFee });\r\n\t}\r\n\r\n\tgetMaxFCT(balance, fee) {\r\n\t\tconst maxFactoids = balance * FACTOSHI_MULTIPLIER - fee;\r\n\t\tif (maxFactoids < 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn maxFactoids;\r\n\t}\r\n\r\n\tverifyKey = (privateKey) => {\r\n\t\tconst activeAddress_o = this.props.walletController.getActiveAddress();\r\n\r\n\t\treturn this.props.walletController.verifyKey(privateKey, activeAddress_o);\r\n\t};\r\n\r\n\tverifySeed = (seed) => {\r\n\t\tconst activeAddress_o = this.props.walletController.getActiveAddress();\r\n\r\n\t\treturn this.props.seedController.verifySeed(seed, activeAddress_o);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tfactomCliController: { factomCli },\r\n\t\t\twalletController: {\r\n\t\t\t\tgetFactoidAddresses,\r\n\t\t\t\tgetActiveAddress,\r\n\t\t\t\tupdateBalances,\r\n\t\t\t\tactiveAddressIndex_o,\r\n\t\t\t\taddAddressTransaction,\r\n\t\t\t},\r\n\t\t\tledgerController: { signWithLedger },\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t\tseedController: { signWithSeed },\r\n\t\t} = this.props;\r\n\r\n\t\tconst factoidAddresses = getFactoidAddresses();\r\n\t\tconst activeAddress_o = getActiveAddress();\r\n\r\n\t\tconst maxAmount = this.getMaxFCT(\r\n\t\t\tactiveAddress_o.balance,\r\n\t\t\tthis.state.sendFactoidFee\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tsendFactoidAmount: '',\r\n\t\t\t\t\trecipientAddress: '',\r\n\t\t\t\t\tmyFctWalletAnchorEl: null,\r\n\t\t\t\t\t[privateKeyPath]: '',\r\n\t\t\t\t\t[seedPath]: '',\r\n\t\t\t\t\t[walletImportTypePath]: activeAddress_o.importType,\r\n\t\t\t\t\ttransactionID: null,\r\n\t\t\t\t\tledgerStatus: null,\r\n\t\t\t\t\ttransactionError: null,\r\n\t\t\t\t\taddressToReinitialize: activeAddress_o.address,\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={async (values, actions) => {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tsendFactoidAmount,\r\n\t\t\t\t\t\trecipientAddress,\r\n\t\t\t\t\t\tprivateKey,\r\n\t\t\t\t\t\tseed,\r\n\t\t\t\t\t} = values;\r\n\t\t\t\t\tlet transaction = {};\r\n\t\t\t\t\tconst importType = _get(values, walletImportTypePath);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (importType === 'standard') {\r\n\t\t\t\t\t\t\ttransaction = await factomCli.createFactoidTransaction(\r\n\t\t\t\t\t\t\t\tprivateKey,\r\n\t\t\t\t\t\t\t\trecipientAddress,\r\n\t\t\t\t\t\t\t\tMath.round(FACTOID_MULTIPLIER * sendFactoidAmount)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else if (importType === 'seed') {\r\n\t\t\t\t\t\t\tconst mnemonic = seed.trim();\r\n\t\t\t\t\t\t\tconst index = activeAddress_o.index;\r\n\t\t\t\t\t\t\tconst toAddr = recipientAddress;\r\n\t\t\t\t\t\t\tconst amount = Math.round(sendFactoidAmount * FACTOID_MULTIPLIER);\r\n\t\t\t\t\t\t\tconst type = 'sendFCT';\r\n\r\n\t\t\t\t\t\t\tconst seedTrans_o = {\r\n\t\t\t\t\t\t\t\tmnemonic,\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\ttoAddr,\r\n\t\t\t\t\t\t\t\tamount,\r\n\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\ttransaction = await signWithSeed(seedTrans_o);\r\n\t\t\t\t\t\t} else if (importType === 'ledger') {\r\n\t\t\t\t\t\t\tactions.setFieldValue(\r\n\t\t\t\t\t\t\t\t'ledgerStatus',\r\n\t\t\t\t\t\t\t\t'Connecting to Ledger Nano S'\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconst ledgerConnected = await this.props.ledgerController.isLedgerConnected();\r\n\r\n\t\t\t\t\t\t\tif (ledgerConnected) {\r\n\t\t\t\t\t\t\t\tactions.setFieldValue(\r\n\t\t\t\t\t\t\t\t\t'ledgerStatus',\r\n\t\t\t\t\t\t\t\t\t'Waiting 30s for Confirmation'\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tactions.resetForm();\r\n\t\t\t\t\t\t\t\tactions.setFieldValue(\r\n\t\t\t\t\t\t\t\t\t'transactionError',\r\n\t\t\t\t\t\t\t\t\t'Ledger Nano S Not Found. Please connect your Ledger Nano S and try again.'\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst fromAddr = activeAddress_o.address;\r\n\t\t\t\t\t\t\tconst toAddr = recipientAddress;\r\n\t\t\t\t\t\t\tconst amount = Math.round(sendFactoidAmount * FACTOID_MULTIPLIER);\r\n\t\t\t\t\t\t\tconst index = activeAddress_o.index;\r\n\r\n\t\t\t\t\t\t\tconst ledgerTrans_o = {\r\n\t\t\t\t\t\t\t\tfromAddr,\r\n\t\t\t\t\t\t\t\ttoAddr,\r\n\t\t\t\t\t\t\t\tamount,\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\ttransaction = await signWithLedger(ledgerTrans_o);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst txId = await factomCli.sendTransaction(transaction);\r\n\t\t\t\t\t\tawait addAddressTransaction(activeAddressIndex_o, txId);\r\n\r\n\t\t\t\t\t\tactions.setFieldValue('transactionID', txId);\r\n\t\t\t\t\t\tupdateBalances();\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tactions.resetForm();\r\n\r\n\t\t\t\t\t\tactions.setFieldValue(\r\n\t\t\t\t\t\t\t'transactionError',\r\n\t\t\t\t\t\t\t'An error occured. Please try again.'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[recipientAddressPath]: Yup.string()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\trecipientAddressPath,\r\n\t\t\t\t\t\t\t'Invalid Address',\r\n\t\t\t\t\t\t\tisValidFctPublicAddress\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t[sendFactoidAmountPath]: Yup.number()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.positive('Must be a positive number')\r\n\t\t\t\t\t\t.max(maxAmount, 'Insufficient Funds'),\r\n\t\t\t\t\t[walletImportTypePath]: Yup.string(),\r\n\t\t\t\t\t[privateKeyPath]: Yup.string().when(walletImportTypePath, {\r\n\t\t\t\t\t\tis: 'standard',\r\n\t\t\t\t\t\tthen: Yup.string()\r\n\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t.test(privateKeyPath, 'Invalid Key', this.verifyKey),\r\n\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t[seedPath]: Yup.string().when(walletImportTypePath, {\r\n\t\t\t\t\t\tis: 'seed',\r\n\t\t\t\t\t\tthen: Yup.string()\r\n\t\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t.test(seedPath, 'Invalid Seed Phrase', this.verifySeed),\r\n\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t}),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({\r\n\t\t\t\t\tisSubmitting,\r\n\t\t\t\t\terrors,\r\n\t\t\t\t\ttouched,\r\n\t\t\t\t\tvalues,\r\n\t\t\t\t\tsetFieldValue,\r\n\t\t\t\t\thandleReset,\r\n\t\t\t\t\thandleChange,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tautoComplete=\"nope\"\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AddressInfoHeader />\r\n\t\t\t\t\t\t<Field name={recipientAddressPath}>\r\n\t\t\t\t\t\t\t{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\terrors[recipientAddressPath] &&\r\n\t\t\t\t\t\t\t\t\t\ttouched[recipientAddressPath]\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue('transactionError', null);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t'Recipient ' + networkProps.factoidAbbreviation + ' address'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t'Enter ' + networkProps.factoidAbbreviationFull + ' Address'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\tspellCheck: false,\r\n\t\t\t\t\t\t\t\t\t\tmaxLength: FCT_ADDRESS_LENGTH,\r\n\t\t\t\t\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t<Grid container justify=\"space-between\">\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={recipientAddressPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{msg}</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<FactoidAddressMenu\r\n\t\t\t\t\t\t\t\t\tvalues={values}\r\n\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\r\n\t\t\t\t\t\t\t\t\tfactoidAddresses={factoidAddresses}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\t\t\t\taria-owns={\r\n\t\t\t\t\t\t\t\t\t\tvalues[myFctWalletAnchorElPath] ? 'simple-menu' : null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\tif (!isSubmitting) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('transactionError', null);\r\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\tmyFctWalletAnchorElPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\tevent.currentTarget\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.pointer}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSend to one of my addresses\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Field name={sendFactoidAmountPath}>\r\n\t\t\t\t\t\t\t{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\terrors[sendFactoidAmountPath] &&\r\n\t\t\t\t\t\t\t\t\t\ttouched[sendFactoidAmountPath]\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t'Enter Amount (' + networkProps.factoidAbbreviation + ')'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Amount\"\r\n\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t<Grid container justify=\"space-between\">\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={sendFactoidAmountPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{msg}</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tif (!isSubmitting) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(sendFactoidAmountPath, maxAmount);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.pointer}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tUse Max\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{_get(values, walletImportTypePath) === 'standard' && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<Field name={privateKeyPath}>\r\n\t\t\t\t\t\t\t\t\t{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\terrors[privateKeyPath] && touched[privateKeyPath]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Enter Private Key for ' + activeAddress_o.nickname\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Private Key\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tspellCheck: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength: FCT_ADDRESS_LENGTH,\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={privateKeyPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{msg}</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{_get(values, walletImportTypePath) === 'seed' && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<Field name={seedPath}>\r\n\t\t\t\t\t\t\t\t\t{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, seedPath) && _get(touched, seedPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Enter Seed Phrase for ' + activeAddress_o.nickname\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Seed Phrase\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={seedPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{msg}</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{values.sendFactoidAmount ? (\r\n\t\t\t\t\t\t\t<SendTransactionPreview\r\n\t\t\t\t\t\t\t\tnetworkProps={networkProps}\r\n\t\t\t\t\t\t\t\tfactoidAmount={values.sendFactoidAmount}\r\n\t\t\t\t\t\t\t\tsendFactoidFee={this.state.sendFactoidFee}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t{!_isNil(values.transactionError) && (\r\n\t\t\t\t\t\t\t<Typography className={classes.transactionErrorText}>\r\n\t\t\t\t\t\t\t\t{values.transactionError}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t{isSubmitting ? (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t{values.transactionID !== null ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Paper className={classes.transaction}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CheckCircle\r\n\t\t\t\t\t\t\t\t\t\t\t\tnativeColor=\"#6fbf73\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.successIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography gutterBottom style={{ display: 'inline' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Transaction ID:</b> {values.transactionID}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThis transaction will be visible{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Open Factom Explorer\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnetworkProps.explorerURL +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'/transaction?txid=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues.transactionID\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\there{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OpenInNew\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 15 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\tin 10-15 minutes, after being included in the next\r\n\t\t\t\t\t\t\t\t\t\t\t\tFactom block currently being processed by the\r\n\t\t\t\t\t\t\t\t\t\t\t\tblockchain. Funds are available for use immediately.\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"outline\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tNew Transaction\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress thickness={7} />\r\n\t\t\t\t\t\t\t\t\t\t{values.ledgerStatus}\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName={classes.sendButton}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{'Send ' + networkProps.factoidAbbreviationFull + 's'}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\tPlease verify all details are correct before hitting send.\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\tNobody can reverse mistaken transactions.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction FactoidAddressMenu(props) {\r\n\tconst { values, setFieldValue, factoidAddresses } = props;\r\n\r\n\tconst addressList = factoidAddresses.map((address_o, index) => (\r\n\t\t<MenuItem\r\n\t\t\tkey={index}\r\n\t\t\tonClick={() => {\r\n\t\t\t\tsetFieldValue(myFctWalletAnchorElPath, null);\r\n\t\t\t\tsetFieldValue(recipientAddressPath, address_o.address);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{address_o.nickname}\r\n\t\t</MenuItem>\r\n\t));\r\n\treturn (\r\n\t\t<Menu\r\n\t\t\tid=\"simple-menu\"\r\n\t\t\tanchorEl={values[myFctWalletAnchorElPath]}\r\n\t\t\topen={Boolean(values[myFctWalletAnchorElPath])}\r\n\t\t\tonClose={() => {\r\n\t\t\t\tsetFieldValue(myFctWalletAnchorElPath, null);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{addressList}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nSendFactoidForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = {\r\n\tsendButton: {\r\n\t\twidth: '50%',\r\n\t\theight: '24px',\r\n\t},\r\n\terrorText: { color: 'red', fontSize: '12px', textAlign: 'left' },\r\n\ttransactionErrorText: { color: 'red', fontSize: '16px' },\r\n\tpointer: {\r\n\t\tcursor: 'pointer',\r\n\t},\r\n\ttransaction: {\r\n\t\tborderColor: '#6fbf73',\r\n\t\tborderStyle: 'solid',\r\n\r\n\t\tpaddingTop: 3,\r\n\t\tpaddingBottom: 8,\r\n\t},\r\n\tsuccessIcon: {\r\n\t\tposition: 'relative',\r\n\t\ttop: '5px',\r\n\t},\r\n};\r\n\r\nconst enhancer = _flowRight(\r\n\twithNetwork,\r\n\twithLedger,\r\n\twithSeed,\r\n\twithWalletContext,\r\n\twithFactomCli,\r\n\twithStyles(styles)\r\n);\r\n\r\nexport default enhancer(SendFactoidForm);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ConvertTransactionPreview = (props) => {\r\n\tconst {\r\n\t\tecAmount,\r\n\t\tfactoidAmount,\r\n\t\tclasses,\r\n\t\tnetworkProps,\r\n\t\tsendFactoidFee,\r\n\t} = props;\r\n\r\n\t// total send amount\r\n\tconst totalFactoidAmount = factoidAmount + sendFactoidFee;\r\n\r\n\t// format output\r\n\tconst convertECAmountText = ecAmount.toLocaleString(undefined, {\r\n\t\tmaximumFractionDigits: 8,\r\n\t});\r\n\r\n\tconst totalFactoidCostText =\r\n\t\ttotalFactoidAmount.toLocaleString(undefined, {\r\n\t\t\tmaximumFractionDigits: 8,\r\n\t\t}) +\r\n\t\t' ' +\r\n\t\tnetworkProps.factoidAbbreviation;\r\n\r\n\tconst feeFactoidAmountText =\r\n\t\tsendFactoidFee.toLocaleString(undefined, {\r\n\t\t\tmaximumFractionDigits: 8,\r\n\t\t}) +\r\n\t\t' ' +\r\n\t\tnetworkProps.factoidAbbreviation;\r\n\r\n\treturn (\r\n\t\t<Paper className={classes.root} elevation={2}>\r\n\t\t\t<div>Transaction Preview</div>\r\n\t\t\t<br />\r\n\t\t\t<span className={classes.convertECAmountText}>{convertECAmountText}</span>\r\n\t\t\t<span className={classes.ecUnitText}>\r\n\t\t\t\t{' ' + networkProps.ecAbbreviation}\r\n\t\t\t</span>\r\n\t\t\t<hr className={classes.divider} />\r\n\t\t\t<div className={classes.detail}>\r\n\t\t\t\t<div>Total Cost:</div>\r\n\t\t\t\t<div className={classes.factoidCostSmallText}>\r\n\t\t\t\t\t{totalFactoidCostText}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.detail}>\r\n\t\t\t\t<div>Network Fee:</div>\r\n\t\t\t\t<div className={classes.factoidCostSmallText}>\r\n\t\t\t\t\t{feeFactoidAmountText}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Paper>\r\n\t);\r\n};\r\nConvertTransactionPreview.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\nconst styles = {\r\n\troot: {\r\n\t\twidth: '75%',\r\n\t\tmargin: '0 auto',\r\n\t\tpaddingTop: '26px',\r\n\t\tmarginTop: '39px',\r\n\t\theight: '194px',\r\n\t\tborderRadius: '10px',\r\n\t\tbackgroundColor: '#eef1f4',\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tconvertECAmountText: {\r\n\t\tfontSize: '50px',\r\n\t\tcolor: '#007eff',\r\n\t},\r\n\tecUnitText: {\r\n\t\twidth: '55px',\r\n\t\theight: '24px',\r\n\t\tfontSize: '20px',\r\n\t\tcolor: '#007eff',\r\n\t},\r\n\tfactoidCostSmallText: {\r\n\t\tcolor: '#001830',\r\n\t\tpaddingTop: '7px',\r\n\t},\r\n\tdetail: {\r\n\t\tdisplay: 'inline-block',\r\n\t\tpaddingLeft: '65px',\r\n\t\tpaddingRight: '65px',\r\n\t},\r\n\tdivider: {\r\n\t\twidth: '50%',\r\n\t\topacity: 0.15,\r\n\t\tborder: 'solid 1px #103152',\r\n\t},\r\n};\r\n\r\nconst enhancer = _flowRight(withStyles(styles));\r\n\r\nexport default enhancer(ConvertTransactionPreview);\r\n","import React, { Component } from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _get from 'lodash/get';\r\nimport _isNil from 'lodash/isNil';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withFactomCli } from '../context/FactomCliContext';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport OpenInNew from '@material-ui/icons/OpenInNew';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport AddressInfoHeader from './shared/AddressInfoHeader';\r\nimport { withLedger } from '../context/LedgerContext';\r\nimport { withSeed } from '../context/SeedContext';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport { isValidEcPublicAddress } from 'factom/dist/factom';\r\nimport ConvertTransactionPreview from './ConvertTransactionPreview';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport CheckCircle from '@material-ui/icons/CheckCircleOutlined';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst entryCreditAmountPath = 'entryCreditAmount';\r\nconst recipientAddressPath = 'recipientAddress';\r\nconst myFctWalletAnchorElPath = 'myFctWalletAnchorEl';\r\nconst privateKeyPath = 'privateKey';\r\nconst walletImportTypePath = 'walletImportType';\r\nconst seedPath = 'seed';\r\n\r\nconst FACTOSHI_MULTIPLIER = 0.00000001;\r\nconst EC_ADDRESS_LENGTH = 52;\r\n\r\nclass ConvertECForm extends Component {\r\n\tstate = { sendFactoshiFee: null, ecRate: null };\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst sendFactoshiFee = await this.props.walletController.getFactoshiFee();\r\n\t\tconst ecRate = await this.props.walletController.getEntryCreditRate();\r\n\t\tthis.setState({ sendFactoshiFee, ecRate });\r\n\t}\r\n\r\n\tgetMaxEC(balance, fee) {\r\n\t\tconst maxFactoshis = balance - fee;\r\n\t\tlet maxEntryCredits = maxFactoshis / this.state.ecRate;\r\n\t\tif (maxEntryCredits < 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn maxEntryCredits;\r\n\t}\r\n\r\n\tverifyKey = (privateKey) => {\r\n\t\tconst activeAddress_o = this.props.walletController.getActiveAddress();\r\n\r\n\t\treturn this.props.walletController.verifyKey(privateKey, activeAddress_o);\r\n\t};\r\n\r\n\tverifySeed = (seed) => {\r\n\t\tconst activeAddress_o = this.props.walletController.getActiveAddress();\r\n\r\n\t\treturn this.props.seedController.verifySeed(seed, activeAddress_o);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\twalletController: {\r\n\t\t\t\tupdateBalances,\r\n\t\t\t\tgetEntryCreditAddresses,\r\n\t\t\t\tgetActiveAddress,\r\n\t\t\t\tactiveAddressIndex_o,\r\n\t\t\t\taddAddressTransaction,\r\n\t\t\t},\r\n\t\t\tledgerController: { signWithLedger },\r\n\t\t\tfactomCliController: { factomCli },\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t\tseedController: { signWithSeed },\r\n\t\t} = this.props;\r\n\r\n\t\tconst activeAddress_o = getActiveAddress();\r\n\t\tconst ecAddresses = getEntryCreditAddresses();\r\n\r\n\t\tconst maxAmount = this.getMaxEC(\r\n\t\t\tactiveAddress_o.balance,\r\n\t\t\tthis.state.sendFactoshiFee\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tentryCreditAmount: '',\r\n\t\t\t\t\trecipientAddress: '',\r\n\t\t\t\t\t[myFctWalletAnchorElPath]: null,\r\n\t\t\t\t\tprivateKey: '',\r\n\t\t\t\t\t[seedPath]: '',\r\n\t\t\t\t\t[walletImportTypePath]: activeAddress_o.importType,\r\n\t\t\t\t\ttransactionID: null,\r\n\t\t\t\t\tledgerStatus: null,\r\n\t\t\t\t\ttransactionError: null,\r\n\t\t\t\t\taddressToReinitialize: activeAddress_o.address,\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={async (values, actions) => {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tentryCreditAmount,\r\n\t\t\t\t\t\trecipientAddress,\r\n\t\t\t\t\t\tprivateKey,\r\n\t\t\t\t\t\tseed,\r\n\t\t\t\t\t} = values;\r\n\t\t\t\t\tlet transaction = {};\r\n\t\t\t\t\tconst importType = _get(values, walletImportTypePath);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (importType === 'standard') {\r\n\t\t\t\t\t\t\ttransaction = await factomCli.createEntryCreditPurchaseTransaction(\r\n\t\t\t\t\t\t\t\tprivateKey,\r\n\t\t\t\t\t\t\t\trecipientAddress,\r\n\t\t\t\t\t\t\t\tentryCreditAmount\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else if (importType === 'seed') {\r\n\t\t\t\t\t\t\tconst mnemonic = seed.trim();\r\n\t\t\t\t\t\t\tconst index = activeAddress_o.index;\r\n\t\t\t\t\t\t\tconst toAddr = recipientAddress;\r\n\t\t\t\t\t\t\tconst amount = entryCreditAmount;\r\n\t\t\t\t\t\t\tconst type = 'convertFCT';\r\n\r\n\t\t\t\t\t\t\tconst seedTrans_o = {\r\n\t\t\t\t\t\t\t\tmnemonic,\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\ttoAddr,\r\n\t\t\t\t\t\t\t\tamount,\r\n\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\ttransaction = await signWithSeed(seedTrans_o);\r\n\t\t\t\t\t\t} else if (importType === 'ledger') {\r\n\t\t\t\t\t\t\tactions.setFieldValue(\r\n\t\t\t\t\t\t\t\t'ledgerStatus',\r\n\t\t\t\t\t\t\t\t'Connecting to Ledger Nano S'\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconst ledgerConnected = await this.props.ledgerController.isLedgerConnected();\r\n\r\n\t\t\t\t\t\t\tif (ledgerConnected) {\r\n\t\t\t\t\t\t\t\tactions.setFieldValue(\r\n\t\t\t\t\t\t\t\t\t'ledgerStatus',\r\n\t\t\t\t\t\t\t\t\t'Waiting 30s for Confirmation'\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tactions.resetForm();\r\n\t\t\t\t\t\t\t\tactions.setFieldValue(\r\n\t\t\t\t\t\t\t\t\t'transactionError',\r\n\t\t\t\t\t\t\t\t\t'Ledger Nano S Not Found. Please connect your Ledger Nano S and try again.'\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst fromAddr = activeAddress_o.address;\r\n\t\t\t\t\t\t\tconst toAddr = recipientAddress;\r\n\t\t\t\t\t\t\tconst amount = Math.round(this.state.ecRate * entryCreditAmount);\r\n\t\t\t\t\t\t\tconst index = activeAddress_o.index;\r\n\r\n\t\t\t\t\t\t\tconst ledgerTrans_o = {\r\n\t\t\t\t\t\t\t\tfromAddr,\r\n\t\t\t\t\t\t\t\ttoAddr,\r\n\t\t\t\t\t\t\t\tamount,\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\ttransaction = await signWithLedger(ledgerTrans_o);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst txId = await factomCli.sendTransaction(transaction);\r\n\t\t\t\t\t\tawait addAddressTransaction(activeAddressIndex_o, txId);\r\n\r\n\t\t\t\t\t\tactions.setFieldValue('transactionID', txId);\r\n\t\t\t\t\t\tupdateBalances();\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tactions.resetForm();\r\n\r\n\t\t\t\t\t\tactions.setFieldValue(\r\n\t\t\t\t\t\t\t'transactionError',\r\n\t\t\t\t\t\t\t'An error occured. Please try again.'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[recipientAddressPath]: Yup.string()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\trecipientAddressPath,\r\n\t\t\t\t\t\t\t'Invalid Address',\r\n\t\t\t\t\t\t\tisValidEcPublicAddress\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t[entryCreditAmountPath]: Yup.number()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.positive('Must be a positive number')\r\n\t\t\t\t\t\t.max(maxAmount, 'Insufficient Funds'),\r\n\t\t\t\t\t[walletImportTypePath]: Yup.string(),\r\n\t\t\t\t\t[privateKeyPath]: Yup.string().when(walletImportTypePath, {\r\n\t\t\t\t\t\tis: 'standard',\r\n\t\t\t\t\t\tthen: Yup.string()\r\n\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t.test(privateKeyPath, 'Invalid Key', this.verifyKey),\r\n\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t[seedPath]: Yup.string().when(walletImportTypePath, {\r\n\t\t\t\t\t\tis: 'seed',\r\n\t\t\t\t\t\tthen: Yup.string()\r\n\t\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t.test(seedPath, 'Invalid Seed Phrase', this.verifySeed),\r\n\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t}),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({\r\n\t\t\t\t\tisSubmitting,\r\n\t\t\t\t\terrors,\r\n\t\t\t\t\ttouched,\r\n\t\t\t\t\tvalues,\r\n\t\t\t\t\tsetFieldValue,\r\n\t\t\t\t\thandleReset,\r\n\t\t\t\t\thandleChange,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tautoComplete=\"nope\"\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AddressInfoHeader />\r\n\t\t\t\t\t\t<Field name={recipientAddressPath}>\r\n\t\t\t\t\t\t\t{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\terrors[recipientAddressPath] &&\r\n\t\t\t\t\t\t\t\t\t\ttouched[recipientAddressPath]\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue('transactionError', null);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t'Recipient ' + networkProps.ecAbbreviation + ' address'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t'Enter ' + networkProps.ecAbbreviationFull + ' address'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\tspellCheck: false,\r\n\t\t\t\t\t\t\t\t\t\tmaxLength: EC_ADDRESS_LENGTH,\r\n\t\t\t\t\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t<Grid container justify=\"space-between\">\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={recipientAddressPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{msg}</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{!_isEmpty(ecAddresses) && (\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<ECAddressMenu\r\n\t\t\t\t\t\t\t\t\t\tvalues={values}\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\r\n\t\t\t\t\t\t\t\t\t\tecAddresses={ecAddresses}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\t\t\t\t\taria-owns={\r\n\t\t\t\t\t\t\t\t\t\t\tvalues[myFctWalletAnchorElPath] ? 'simple-menu' : null\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!isSubmitting) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('transactionError', null);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmyFctWalletAnchorElPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.currentTarget\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.pointer}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tSend to one of my addresses\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Field name={entryCreditAmountPath}>\r\n\t\t\t\t\t\t\t{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\terrors[entryCreditAmountPath] &&\r\n\t\t\t\t\t\t\t\t\t\ttouched[entryCreditAmountPath]\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t'Enter Amount (' + networkProps.ecAbbreviation + ')'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Amount\"\r\n\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t<Grid container justify=\"space-between\">\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={entryCreditAmountPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{msg}</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{_get(values, walletImportTypePath) === 'standard' && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<Field name={privateKeyPath}>\r\n\t\t\t\t\t\t\t\t\t{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\terrors[privateKeyPath] && touched[privateKeyPath]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Enter Private Key for ' + activeAddress_o.nickname\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Private Key\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tspellCheck: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength: EC_ADDRESS_LENGTH,\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={privateKeyPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{msg}</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{_get(values, walletImportTypePath) === 'seed' && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<Field name={seedPath}>\r\n\t\t\t\t\t\t\t\t\t{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, seedPath) && _get(touched, seedPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Enter Seed Phrase for ' + activeAddress_o.nickname\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Seed Phrase\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={seedPath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{msg}</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{_get(values, entryCreditAmountPath) ? (\r\n\t\t\t\t\t\t\t<ConvertTransactionPreview\r\n\t\t\t\t\t\t\t\tnetworkProps={networkProps}\r\n\t\t\t\t\t\t\t\tecAmount={_get(values, entryCreditAmountPath)}\r\n\t\t\t\t\t\t\t\tfactoidAmount={\r\n\t\t\t\t\t\t\t\t\tthis.state.ecRate *\r\n\t\t\t\t\t\t\t\t\t_get(values, entryCreditAmountPath) *\r\n\t\t\t\t\t\t\t\t\tFACTOSHI_MULTIPLIER\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsendFactoidFee={\r\n\t\t\t\t\t\t\t\t\tthis.state.sendFactoshiFee * FACTOSHI_MULTIPLIER\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t{!_isNil(values.transactionError) && (\r\n\t\t\t\t\t\t\t<Typography className={classes.transactionErrorText}>\r\n\t\t\t\t\t\t\t\t{values.transactionError}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t{isSubmitting ? (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t{values.transactionID !== null ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Paper className={classes.transaction}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CheckCircle\r\n\t\t\t\t\t\t\t\t\t\t\t\tnativeColor=\"#6fbf73\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.successIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ display: 'inline' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Transaction ID:</b> {values.transactionID}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThis transaction will be visible{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Open Factom Explorer\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnetworkProps.explorerURL +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'/transaction?txid=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues.transactionID\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\there{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OpenInNew\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 15 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\tin 10-15 minutes, after being included in the next\r\n\t\t\t\t\t\t\t\t\t\t\t\tFactom block currently being processed by the\r\n\t\t\t\t\t\t\t\t\t\t\t\tblockchain. Funds are available for use immediately.\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"outline\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tNew Transaction\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress thickness={7} />\r\n\t\t\t\t\t\t\t\t\t\t{values.ledgerStatus}\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName={classes.sendButton}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{'Convert ' +\r\n\t\t\t\t\t\t\t\t\tnetworkProps.factoidAbbreviation +\r\n\t\t\t\t\t\t\t\t\t' to ' +\r\n\t\t\t\t\t\t\t\t\tnetworkProps.ecAbbreviation}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\tPlease verify all details are correct before hitting send.\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\tNobody can reverse mistaken transactions.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction ECAddressMenu(props) {\r\n\tconst { values, setFieldValue, ecAddresses } = props;\r\n\r\n\tconst addressList = ecAddresses.map((address_o, index) => (\r\n\t\t<MenuItem\r\n\t\t\tkey={index}\r\n\t\t\tonClick={() => {\r\n\t\t\t\tsetFieldValue(myFctWalletAnchorElPath, null);\r\n\t\t\t\tsetFieldValue(recipientAddressPath, address_o.address);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{address_o.nickname}\r\n\t\t</MenuItem>\r\n\t));\r\n\treturn (\r\n\t\t<Menu\r\n\t\t\tid=\"simple-menu\"\r\n\t\t\tanchorEl={values[myFctWalletAnchorElPath]}\r\n\t\t\topen={Boolean(values[myFctWalletAnchorElPath])}\r\n\t\t\tonClose={() => {\r\n\t\t\t\tsetFieldValue(myFctWalletAnchorElPath, null);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{addressList}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nConvertECForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = {\r\n\tsendButton: {\r\n\t\twidth: '50%',\r\n\t\theight: '24px',\r\n\t},\r\n\terrorText: { color: 'red', fontSize: '12px', textAlign: 'left' },\r\n\tpointer: {\r\n\t\tcursor: 'pointer',\r\n\t},\r\n\ttransactionErrorText: { color: 'red', fontSize: '16px' },\r\n\ttransaction: {\r\n\t\tborderColor: '#6fbf73',\r\n\t\tborderStyle: 'solid',\r\n\r\n\t\tpaddingTop: 3,\r\n\t\tpaddingBottom: 8,\r\n\t},\r\n\tsuccessIcon: {\r\n\t\tposition: 'relative',\r\n\t\ttop: '5px',\r\n\t},\r\n};\r\n\r\nconst enhancer = _flowRight(\r\n\twithNetwork,\r\n\twithLedger,\r\n\twithSeed,\r\n\twithWalletContext,\r\n\twithFactomCli,\r\n\twithStyles(styles)\r\n);\r\n\r\nexport default enhancer(ConvertECForm);\r\n","import React, { Component } from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _get from 'lodash/get';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withSeed } from '../context/SeedContext';\r\nimport Button from '@material-ui/core/Button';\r\nimport PropTypes from 'prop-types';\r\nimport AddressInfoHeader from './shared/AddressInfoHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst privateKeyPath = 'privateKey';\r\nconst showPasswordPath = 'showPassword;';\r\nconst seedPath = 'seed';\r\n\r\nclass ViewPrivateKeyForm extends Component {\r\n\tverifySeed = (seed) => {\r\n\t\tconst activeAddress_o = this.props.walletController.getActiveAddress();\r\n\r\n\t\treturn this.props.seedController.verifySeed(seed, activeAddress_o);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\twalletController: { getActiveAddress },\r\n\t\t\tseedController: { getPrivateKey },\r\n\t\t} = this.props;\r\n\r\n\t\tconst activeAddress_o = getActiveAddress();\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\t[privateKeyPath]: '',\r\n\t\t\t\t\t[seedPath]: '',\r\n\t\t\t\t\t[showPasswordPath]: false,\r\n\t\t\t\t\taddressToReinitialize: activeAddress_o.address,\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={async (values, actions) => {\r\n\t\t\t\t\tconst { seed } = values;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst mnemonic = seed.trim();\r\n\t\t\t\t\t\tconst privateKey = getPrivateKey(mnemonic, activeAddress_o.index);\r\n\t\t\t\t\t\tactions.setFieldValue(privateKeyPath, privateKey);\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[seedPath]: Yup.string()\r\n\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(seedPath, 'Invalid Seed Phrase', this.verifySeed),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({ isSubmitting, errors, touched, values, setFieldValue }) => (\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tautoComplete=\"nope\"\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AddressInfoHeader />\r\n\t\t\t\t\t\t{_isEmpty(_get(values, privateKeyPath)) && (\r\n\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\tname={seedPath}\r\n\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\tlabel=\"Seed Phrase\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t'Enter Seed Phrase for ' + activeAddress_o.nickname\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={_get(errors, seedPath) && _get(touched, seedPath)}\r\n\t\t\t\t\t\t\t\terrorClass={classes.errorText}\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t{!_isEmpty(_get(values, privateKeyPath)) && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\t\t\t\t\tPrivate Key:&nbsp;\r\n\t\t\t\t\t\t\t\t\t{_get(values, privateKeyPath) && (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t{_get(values, showPasswordPath) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t_get(values, privateKeyPath)\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Display Private Key\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(showPasswordPath, true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Visibility\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 35 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t{isSubmitting ? (\r\n\t\t\t\t\t\t\t<React.Fragment />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName={classes.sendButton}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst FormTextField = (props) => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Field name={props.name}>\r\n\t\t\t\t{({ field }) => (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tstyle={{ width: props.width }}\r\n\t\t\t\t\t\trequired={props.required}\r\n\t\t\t\t\t\tdisabled={props.disabled}\r\n\t\t\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\ttype={props.type}\r\n\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\tspellCheck: props.enableSpellCheck,\r\n\t\t\t\t\t\t\tmaxLength: props.maxLength,\r\n\t\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\terror={props.error}\r\n\t\t\t\t\t\tlabel={props.label}\r\n\t\t\t\t\t\tfullWidth={props.fullWidth}\r\n\t\t\t\t\t\tmultiline={props.multiline}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Field>\r\n\t\t\t<ErrorMessage\r\n\t\t\t\tname={props.name}\r\n\t\t\t\trender={(msg) => <div className={props.errorClass}>{msg}</div>}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nViewPrivateKeyForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = {\r\n\tsendButton: {\r\n\t\twidth: '50%',\r\n\t\theight: '24px',\r\n\t},\r\n\terrorText: { color: 'red', fontSize: '12px', textAlign: 'left' },\r\n};\r\n\r\nconst enhancer = _flowRight(withSeed, withWalletContext, withStyles(styles));\r\n\r\nexport default enhancer(ViewPrivateKeyForm);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _get from 'lodash/get';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as Yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst NICKNAME_MAX_LENGTH = 25;\r\nconst nicknamePath = 'nickname';\r\nconst saveLocallyPath = 'saveLocally';\r\nconst deleteAnchorElPath = 'deleteAnchorEl';\r\n\r\nclass AddressInfoForm extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\twalletController: {\r\n\t\t\t\tgetActiveAddress,\r\n\t\t\t\tgetFactoidAddresses,\r\n\t\t\t\tgetEntryCreditAddresses,\r\n\t\t\t\tactiveAddressIndex_o,\r\n\t\t\t\tupdateAddress,\r\n\t\t\t\tdeleteAddress,\r\n\t\t\t},\r\n\t\t} = this.props;\r\n\r\n\t\tconst activeAddress_o = getActiveAddress();\r\n\r\n\t\tlet userAddressList = [];\r\n\t\tif (activeAddressIndex_o.type === 'fct') {\r\n\t\t\tuserAddressList = getFactoidAddresses();\r\n\t\t} else if (activeAddressIndex_o.type === 'ec') {\r\n\t\t\tuserAddressList = getEntryCreditAddresses();\r\n\t\t}\r\n\r\n\t\tconst userAddressNicknames = userAddressList\r\n\t\t\t.filter((addr_o) => addr_o.address !== activeAddress_o.address)\r\n\t\t\t.map((addr_o) => addr_o.nickname);\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\t[saveLocallyPath]: activeAddress_o.saveLocally,\r\n\t\t\t\t\t[nicknamePath]: activeAddress_o.nickname,\r\n\t\t\t\t\t[deleteAnchorElPath]: null,\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\t\tupdateAddress(\r\n\t\t\t\t\t\t\tactiveAddressIndex_o,\r\n\t\t\t\t\t\t\t_get(values, nicknamePath).trim(),\r\n\t\t\t\t\t\t\t_get(values, saveLocallyPath)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tactions.resetForm();\r\n\t\t\t\t\t}, 500);\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[nicknamePath]: Yup.string()\r\n\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\tnicknamePath,\r\n\t\t\t\t\t\t\t'Enter unique nickname',\r\n\t\t\t\t\t\t\t(value) => userAddressNicknames.indexOf(value) === -1\r\n\t\t\t\t\t\t),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({\r\n\t\t\t\t\tisSubmitting,\r\n\t\t\t\t\terrors,\r\n\t\t\t\t\ttouched,\r\n\t\t\t\t\tvalues,\r\n\t\t\t\t\tsetFieldValue,\r\n\t\t\t\t\thandleChange,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">Edit Address</Typography>\r\n\t\t\t\t\t\t<Grid container item xs={12}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\terrors[nicknamePath] && touched[nicknamePath] ? true : false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tname={nicknamePath}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Nickname\"\r\n\t\t\t\t\t\t\t\t\tmaxLength={NICKNAME_MAX_LENGTH}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\tname={nicknamePath}\r\n\t\t\t\t\t\t\t\t\trender={(msg) => (\r\n\t\t\t\t\t\t\t\t\t\t<span className={classes.errorText}>{msg}</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tname={saveLocallyPath}\r\n\t\t\t\t\t\t\t\t\trender={({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={saveLocallyPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={field.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Save to local browser storage\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSubmit{' '}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress size={20} />\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\taria-owns={values[deleteAnchorElPath] ? 'simple-menu' : null}\r\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.deleteButton}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(deleteAnchorElPath, event.currentTarget);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tid=\"simple-menu\"\r\n\t\t\t\t\t\t\t\t\tanchorEl={values[deleteAnchorElPath]}\r\n\t\t\t\t\t\t\t\t\topen={Boolean(values[deleteAnchorElPath])}\r\n\t\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(deleteAnchorElPath, null);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tdeleteAddress(activeAddressIndex_o);\r\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(deleteAnchorElPath, null);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.deleteConfirmationText}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tConfirm Delete\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst FormTextField = (props) => {\r\n\treturn (\r\n\t\t<Field name={props.name}>\r\n\t\t\t{({ field }) => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\tspellCheck: false,\r\n\t\t\t\t\t\tmaxLength: props.maxLength,\r\n\t\t\t\t\t\tautoComplete: 'nope',\r\n\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\tautoComplete: 'off',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...field}\r\n\t\t\t\t\tlabel={props.label + ' ' + (props.error ? '*' : '')}\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\terror={props.error}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Field>\r\n\t);\r\n};\r\n\r\nAddressInfoForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\terrorText: { color: 'red', fontSize: '12px' },\r\n\tdeleteButton: { marginLeft: 15 },\r\n\tdeleteConfirmationText: { color: 'red' },\r\n});\r\n\r\nconst enhancer = _flowRight(withWalletContext, withStyles(styles));\r\n\r\nexport default enhancer(AddressInfoForm);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport OpenInNew from '@material-ui/icons/OpenInNew';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nclass TransactionList extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\twalletController: { getActiveAddress },\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\tconst activeAddress_o = getActiveAddress();\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{!_isEmpty(activeAddress_o.transactions) && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Typography variant=\"h6\">Recent Transactions</Typography>\r\n\t\t\t\t\t\t{activeAddress_o.transactions.map(function(transaction, index) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t\t\tclassName={classes.transaction}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<b>Tx ID:</b> {transaction}{' '}\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Open Factom Explorer\">\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\tnetworkProps.explorerURL +\r\n\t\t\t\t\t\t\t\t\t\t\t\t'/transaction?txid=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransaction\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<OpenInNew color=\"primary\" style={{ fontSize: 15 }} />\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nTransactionList.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\ttransaction: { overflowWrap: 'break-word' },\r\n});\r\n\r\nconst enhancer = _flowRight(withNetwork, withWalletContext, withStyles(styles));\r\n\r\nexport default enhancer(TransactionList);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport AddressInfoHeader from './shared/AddressInfoHeader';\r\nimport AddressInfoForm from './AddressInfoForm';\r\nimport TransactionList from './TransactionList';\r\n\r\nconst AddressInfoTab = (props) => {\r\n\treturn (\r\n\t\t<div className={props.classes.root}>\r\n\t\t\t<AddressInfoHeader />\r\n\t\t\t<br />\r\n\t\t\t<Grid container spacing={8}>\r\n\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t<AddressInfoForm />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t<TransactionList />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nAddressInfoTab.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\troot: { textAlign: 'left' },\r\n});\r\n\r\nexport default withStyles(styles)(AddressInfoTab);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SendFactoidForm from './SendFactoidForm';\r\nimport ConvertECForm from './ConvertECForm';\r\nimport ViewPrivateKeyForm from './ViewPrivateKeyForm';\r\nimport AddressInfoTab from './AddressInfoTab';\r\nimport { withNetwork } from '../context/NetworkContext';\r\n\r\nclass WalletTabContent extends React.Component {\r\n\tstate = {\r\n\t\ttabValue: 0,\r\n\t};\r\n\r\n\thandleChange = (event, tabValue) => {\r\n\t\tthis.setState({ tabValue });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\ttype,\r\n\t\t\tactiveAddress,\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\tlet tabValue = this.state.tabValue;\r\n\r\n\t\tif (tabValue === 3 && activeAddress.importType !== 'seed') {\r\n\t\t\t//only seeds have tab 3\r\n\t\t\ttabValue = 0;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{type === 'fct' && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabValue}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t\tcentered\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label=\"Address Info\" />\r\n\t\t\t\t\t\t\t<Tab label={'Send ' + networkProps.factoidAbbreviationFull} />\r\n\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t'Convert ' +\r\n\t\t\t\t\t\t\t\t\tnetworkProps.factoidAbbreviation +\r\n\t\t\t\t\t\t\t\t\t' to ' +\r\n\t\t\t\t\t\t\t\t\tnetworkProps.ecAbbreviation\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{activeAddress.importType === 'seed' && (\r\n\t\t\t\t\t\t\t\t<Tab label=\"View Private Key\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t{tabValue === 0 && (\r\n\t\t\t\t\t\t\t<TabContainer classes={classes}>\r\n\t\t\t\t\t\t\t\t<AddressInfoTab />\r\n\t\t\t\t\t\t\t</TabContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabValue === 1 && (\r\n\t\t\t\t\t\t\t<TabContainer classes={classes}>\r\n\t\t\t\t\t\t\t\t<SendFactoidForm />\r\n\t\t\t\t\t\t\t</TabContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabValue === 2 && (\r\n\t\t\t\t\t\t\t<TabContainer classes={classes}>\r\n\t\t\t\t\t\t\t\t<ConvertECForm />\r\n\t\t\t\t\t\t\t</TabContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabValue === 3 && (\r\n\t\t\t\t\t\t\t<TabContainer classes={classes}>\r\n\t\t\t\t\t\t\t\t<ViewPrivateKeyForm />\r\n\t\t\t\t\t\t\t</TabContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{type === 'ec' && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={0}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t\tcentered\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label=\"Address Info\" />\r\n\t\t\t\t\t\t</Tabs>\r\n\r\n\t\t\t\t\t\t<TabContainer classes={classes}>\r\n\t\t\t\t\t\t\t<AddressInfoTab />\r\n\t\t\t\t\t\t</TabContainer>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nWalletTabContent.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction TabContainer(props) {\r\n\treturn (\r\n\t\t<Typography component=\"div\" className={props.classes.tabContainer}>\r\n\t\t\t{props.children}\r\n\t\t</Typography>\r\n\t);\r\n}\r\nTabContainer.propTypes = {\r\n\tchildren: PropTypes.node.isRequired,\r\n};\r\n\r\nconst styles = {\r\n\troot: { textAlign: 'center' },\r\n\ttabContainer: {\r\n\t\tpaddingLeft: 55,\r\n\t\tpaddingRight: 55,\r\n\t\tpaddingTop: 18,\r\n\t\tpaddingBottom: 10,\r\n\t},\r\n};\r\n\r\nconst enhancer = _flowRight(withNetwork, withStyles(styles));\r\nexport default enhancer(WalletTabContent);\r\n","import React, { Component } from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _isNil from 'lodash/isNil';\r\nimport Sidebar from './Sidebar.js';\r\nimport WalletTabContent from './WalletTabContent.js';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withWalletContext } from '../context/WalletContext';\r\n\r\nclass WalletManager extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.walletController.updateBalances();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\twalletController: { getActiveAddress, activeAddressIndex_o },\r\n\t\t} = this.props;\r\n\r\n\t\tconst activeAddress = getActiveAddress();\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{!_isNil(activeAddress) && (\r\n\t\t\t\t\t<Grid container spacing={24} item xs={12}>\r\n\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t<Sidebar />\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t\t<WalletTabContent\r\n\t\t\t\t\t\t\t\t\ttype={activeAddressIndex_o.type}\r\n\t\t\t\t\t\t\t\t\tactiveAddress={activeAddress}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\nWalletManager.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({});\r\n\r\nconst enhancer = _flowRight(withWalletContext, withStyles(styles));\r\nexport default enhancer(WalletManager);\r\n","import React, { Component } from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport { withRouter } from 'react-router-dom';\r\nimport AddWalletStepper from './AddWalletStepper';\r\n\r\nclass AddInitialWallet extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.setReadyToManageWallet(false);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\tconst handleCloseText =\r\n\t\t\tnetworkProps.network === 'testnet'\r\n\t\t\t\t? 'Manage Testnet Wallet'\r\n\t\t\t\t: 'Manage Wallet';\r\n\r\n\t\treturn (\r\n\t\t\t<Grid container item xs={12} justify=\"center\">\r\n\t\t\t\t<AddWalletStepper\r\n\t\t\t\t\thandleClose={() => this.props.setReadyToManageWallet(true)}\r\n\t\t\t\t\thandleCloseText={handleCloseText}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\r\nAddInitialWallet.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({});\r\n\r\nconst enhancer = _flowRight(\r\n\twithRouter,\r\n\twithNetwork,\r\n\twithWalletContext,\r\n\twithStyles(styles)\r\n);\r\nexport default enhancer(AddInitialWallet);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nlet id = 0;\r\nconst createRow = (\r\n\tvoteID,\r\n\tadminID,\r\n\ttitle,\r\n\tstatus,\r\n\tcommitPhase,\r\n\trevealPhase\r\n) => {\r\n\tid += 1;\r\n\treturn { id, voteID, adminID, title, status, commitPhase, revealPhase };\r\n};\r\n\r\nclass VoteTable extends React.Component {\r\n\trender() {\r\n\t\tconst { classes, data } = this.props;\r\n\t\tconst expanded = this.props.expanded;\r\n\t\tconsole.log('Vote Table Data');\r\n\t\tconsole.log(data.allProposals.voteList);\r\n\t\tlet tableRows = [];\r\n\r\n\t\tdata.allProposals.voteList.map((voteList_o, index) => {\r\n\t\t\tconst row = createRow(\r\n\t\t\t\tvoteList_o.voteChainId,\r\n\t\t\t\tvoteList_o.admin.voteInitiator,\r\n\t\t\t\tvoteList_o.proposal.title,\r\n\t\t\t\t'status',\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{'Start: ' + voteList_o.vote.phasesBlockHeights.commitStart}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{'End: ' + voteList_o.vote.phasesBlockHeights.commitStop}\r\n\t\t\t\t</span>,\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{'Start: ' + voteList_o.vote.phasesBlockHeights.revealStart}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{'End: ' + voteList_o.vote.phasesBlockHeights.reavealStop}\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t\ttableRows.push(row);\r\n\t\t});\r\n\r\n\t\tconsole.log(tableRows);\r\n\r\n\t\treturn (\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item xs={12} className={classes.tableWrapper}>\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<th className={classes.expandColumn}>\r\n\t\t\t\t\t\t\t\t\t{expanded ? (\r\n\t\t\t\t\t\t\t\t\t\t<ExpandLess\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitleAccess=\"Collapse\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.toggleExpand}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Collapse Row\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.expandIcon}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<ExpandMore\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitleAccess=\"Expand\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.toggleExpand}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Expand Row\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.expandIcon}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\tclassName={`${classes.titleColumn} ${classes.columnHeader}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTitle\r\n\t\t\t\t\t\t\t\t\t{expanded && (\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\tclassName={`${classes.statusColumn} ${classes.columnHeader}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t\t\t\t{expanded && (\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option defaultValue value=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option>Discussion Phase</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option>Commit Phase</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option>Reveal Phase</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option>Complete</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option>Invalidated</option>\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\tclassName={`${classes.dateColumn} ${classes.columnHeader}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCommit Phase\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\tclassName={`${classes.dateColumn} ${classes.columnHeader}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tReveal Phase\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t{expanded ? (\r\n\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.pollChainIDColumn} ${\r\n\t\t\t\t\t\t\t\t\t\t\tclasses.columnHeader\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tPoll Chain ID\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.shortPollChainIDColumn} ${\r\n\t\t\t\t\t\t\t\t\t\t\tclasses.columnHeader\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tPoll Chain ID\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{expanded ? (\r\n\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.adminIDColumn} ${\r\n\t\t\t\t\t\t\t\t\t\t\tclasses.columnHeader\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tPoll Admin ID\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.shortAdminIDColumn} ${\r\n\t\t\t\t\t\t\t\t\t\t\tclasses.columnHeader\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tPoll Admin ID\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{tableRows.map((row) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<TableRow key={row.id} hover={true}>\r\n\t\t\t\t\t\t\t\t\t\t<td className={classes.expandColumn} />\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.titleColumn}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to={'/viewVote?id=' + row.voteID}>{row.title}</Link>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.statusColumn}>\r\n\t\t\t\t\t\t\t\t\t\t\t{row.status}\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.dateColumn}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: '104px' }}>{row.commitPhase}</div>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.dateColumn}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: '104px' }}>{row.revealPhase}</div>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t{expanded ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.pollChainIDColumn}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{row.voteID}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.shortPollChainIDColumn}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{row.voteID}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{expanded ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.adminIDColumn}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{row.adminID}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.shortAdminIDColumn}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{row.adminID}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\tcomponent={Grid}\r\n\t\t\t\t\t\tonChangePage={() => {}}\r\n\t\t\t\t\t\tcount={tableRows.length}\r\n\t\t\t\t\t\trowsPerPage={25}\r\n\t\t\t\t\t\tpage={0}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nVoteTable.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\ttableWrapper: {\r\n\t\t//width: '100%',\r\n\t\toverflowX: 'auto',\r\n\t},\r\n\ttable: {\r\n\t\t//minWidth: 750,\r\n\t},\r\n\ttitleColumn: {\r\n\t\tminWidth: '252',\r\n\t\tpaddingRight: '1px',\r\n\t},\r\n\tadminIDColumn: {\r\n\t\tpaddingRight: '0px',\r\n\t},\r\n\tshortAdminIDColumn: {\r\n\t\tmaxWidth: '207px',\r\n\t\toverflow: 'hidden',\r\n\t\ttextOverflow: 'ellipsis',\r\n\t\tpaddingRight: '0px',\r\n\t},\r\n\tshortPollChainIDColumn: {\r\n\t\tmaxWidth: '207px',\r\n\t\toverflow: 'hidden',\r\n\t\ttextOverflow: 'ellipsis',\r\n\t\tpaddingRight: '0px',\r\n\t},\r\n\tpollChainIDColumn: {\r\n\t\tpaddingRight: '0px',\r\n\t},\r\n\tstatusColumn: {\r\n\t\tmaxWidth: '165px',\r\n\t\toverflow: 'hidden',\r\n\t\ttextOverflow: 'ellipsis',\r\n\t},\r\n\tdateColumn: {\r\n\t\tmaxWidth: '129px',\r\n\t\tpaddingRight: '1px',\r\n\t},\r\n\texpandIcon: {\r\n\t\tmargin: '-5px',\r\n\t},\r\n\texpandColumn: {\r\n\t\tmaxWidth: '3px',\r\n\t},\r\n\tfooterPagination: {\r\n\t\tmaxWidth: '345px',\r\n\t},\r\n\tcolumnHeader: {\r\n\t\tfontSize: '13px',\r\n\t},\r\n});\r\n\r\nexport default withStyles(styles)(VoteTable);\r\n","import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography } from '@material-ui/core';\r\nimport VotesTable from './VoteTable';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport gql from 'graphql-tag';\r\nimport { Query } from 'react-apollo';\r\n\r\nconst GET_LISTING = gql`\r\n\tquery Listing($limit: Int) {\r\n\t\tallProposals(limit: $limit) {\r\n\t\t\tlistInfo\r\n\t\t\tvoteList {\r\n\t\t\t\tadmin {\r\n\t\t\t\t\tvoteInitiator\r\n\t\t\t\t}\r\n\t\t\t\tproposal {\r\n\t\t\t\t\ttitle\r\n\t\t\t\t}\r\n\t\t\t\tvote {\r\n\t\t\t\t\tphasesBlockHeights\r\n\t\t\t\t}\r\n\t\t\t\tvoteChainId\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nclass VoteListing extends Component {\r\n\tstate = { expanded: false };\r\n\r\n\ttoggleExpand = () => {\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\texpanded: !prevState.expanded,\r\n\t\t}));\r\n\t};\r\n\r\n\thandleExpand = () => {\r\n\t\tthis.setState({\r\n\t\t\texpanded: true,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconst limit = 10;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.body}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t<Query query={GET_LISTING} variables={{ limit }}>\r\n\t\t\t\t\t\t{({ loading, error, data }) => {\r\n\t\t\t\t\t\t\tif (loading) return <PreLoadHeader message=\"Loading...\" />;\r\n\t\t\t\t\t\t\tif (error) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<PreLoadHeader\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.errorText}\r\n\t\t\t\t\t\t\t\t\t\tmessage={'Error: ' + error.message}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Grid container direction=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={3} className={classes.topFilters}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ textAlign: 'left' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tVoter ID: <input type=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ textAlign: 'left' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tProtocol Polls Only:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultChecked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"checkedF\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\tWelcome to Factom On-Chain Voting\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={2} />\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid style={{ paddingTop: '20px' }} item xs={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleExpand}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FilterList /> Filter\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<VotesTable\r\n\t\t\t\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\t\t\t\texpanded={this.state.expanded}\r\n\t\t\t\t\t\t\t\t\t\ttoggleExpand={this.toggleExpand}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</Query>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst PreLoadHeader = (props) => {\r\n\treturn (\r\n\t\t<Grid container direction=\"row\">\r\n\t\t\t<Grid item xs={3} />\r\n\t\t\t<Grid item xs={6}>\r\n\t\t\t\t<Typography variant=\"h5\" gutterBottom>\r\n\t\t\t\t\tWelcome to Factom On-Chain Voting\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={3} />\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Typography className={props.className}>{props.message}</Typography>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n};\r\n\r\nVoteListing.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tbody: {\r\n\t\ttextAlign: 'center',\r\n\t\tmargin: '0 auto',\r\n\t\tmarginTop: '20px',\r\n\t},\r\n\tform: {\r\n\t\ttextAlign: 'left',\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: '15px',\r\n\t},\r\n\ttopFilters: {\r\n\t\ttop: '14px',\r\n\t\tposition: 'relative',\r\n\t\tleft: '8px',\r\n\t},\r\n\terrorText: { color: 'red' },\r\n});\r\n\r\nexport default withStyles(styles)(VoteListing);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Field, FastField, ErrorMessage } from 'formik';\r\n\r\nconst FormTextField = ({\r\n\taccept,\r\n\tautoComplete = false,\r\n\tclasses,\r\n\tdisabled = false,\r\n\tdisplayError = true,\r\n\terror = false,\r\n\tfullWidth = false,\r\n\tisNotFast,\r\n\tlabel,\r\n\tmaxLength,\r\n\tmultiline,\r\n\tname,\r\n\tonChange,\r\n\tonKeyPress,\r\n\tshrink = false,\r\n\tspellCheck = false,\r\n\tstep,\r\n\ttype = 'text',\r\n\tvalidate,\r\n\twidth,\r\n}) => {\r\n\tconst FieldType = isNotFast ? Field : FastField;\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<FieldType name={name} {...(validate ? { validate } : {})}>\r\n\t\t\t\t{({ field }) => (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t{...(onChange ? { onChange } : {})}\r\n\t\t\t\t\t\t{...(step ? { step } : {})}\r\n\t\t\t\t\t\t{...{\r\n\t\t\t\t\t\t\terror,\r\n\t\t\t\t\t\t\tdisabled,\r\n\t\t\t\t\t\t\tfullWidth,\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\tmultiline,\r\n\t\t\t\t\t\t\tonKeyPress,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\tautoComplete: autoComplete ? 'on' : 'off',\r\n\t\t\t\t\t\t\tmaxLength,\r\n\t\t\t\t\t\t\tspellCheck,\r\n\t\t\t\t\t\t\t...(accept ? { accept } : {}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{ width }}\r\n\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t...(shrink ? { shrink } : {}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</FieldType>\r\n\t\t\t{displayError && (\r\n\t\t\t\t<ErrorMessage\r\n\t\t\t\t\tname={name}\r\n\t\t\t\t\trender={(msg) => <div className={classes.errorText}>{msg}</div>}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\terrorText: { color: 'red', fontSize: '13px' },\r\n});\r\n\r\nexport default withStyles(styles)(FormTextField);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Person from '@material-ui/icons/Person';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nclass EligibleVotersList extends React.Component {\r\n\trender() {\r\n\t\tconst { classes, eligibleVoters, arrayHelpers, errorMessage } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper elevation={2} className={classes.listContainer}>\r\n\t\t\t\t<Typography variant=\"subtitle1\">Eligible Voter List</Typography>\r\n\t\t\t\t{errorMessage}\r\n\t\t\t\t<List className={classes.list} dense>\r\n\t\t\t\t\t{eligibleVoters.length > 0 ? (\r\n\t\t\t\t\t\teligibleVoters.map((voter, index) => (\r\n\t\t\t\t\t\t\t<ListItem key={index} disableGutters divider>\r\n\t\t\t\t\t\t\t\t<Person />\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={'Voter ID: ' + voter.voterId}\r\n\t\t\t\t\t\t\t\t\tsecondary={voter.weight && 'Weight: ' + voter.weight}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{arrayHelpers && (\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tarrayHelpers.remove(index);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Clear\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Clear />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<ListItem disableGutters divider>\r\n\t\t\t\t\t\t\t<ListItemText primary={'No Voters have been added'} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</List>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nEligibleVotersList.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tlist: {\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: 350,\r\n\t},\r\n\tlistContainer: {\r\n\t\tmarginTop: '10px',\r\n\t\tpadding: '15px',\r\n\t},\r\n});\r\n\r\nexport default withStyles(styles)(EligibleVotersList);\r\n","/*\r\n * Vote Type\r\n */\r\nexport const BINARY_CONFIG = { name: 'Binary Voting', type: 0, numOptions: 1 };\r\nexport const SINGLE_OPTION_CONFIG = {\r\n\tname: 'Single Option Voting',\r\n\ttype: 1,\r\n\tnumOptions: 1,\r\n};\r\nexport const APPROVAL_CONFIG = { name: 'Approval Voting', type: 1 };\r\nexport const INSTANT_RUNOFF_CONFIG = {\r\n\tname: 'Instant Runoff Voting',\r\n\ttype: 2,\r\n};\r\n\r\nexport const ALL_ELIGIBLE_VOTERS = {\r\n\ttext: 'All Eligible Voters',\r\n\tvalue: 'ALL_ELIGIBLE_VOTERS',\r\n};\r\n\r\nexport const PARTICIPANTS_ONLY = {\r\n\ttext: 'Participants Only',\r\n\tvalue: 'PARTICIPANTS_ONLY',\r\n};\r\n\r\nexport const VOTE_TYPES = {\r\n\t0: { ...BINARY_CONFIG },\r\n\t1: { SINGLE_OPTION_CONFIG, APPROVAL_CONFIG },\r\n\t2: { ...INSTANT_RUNOFF_CONFIG },\r\n};\r\n\r\n/**\r\n * Supported Hashing Algorithms\r\n */\r\nexport const HASH_ALGO_VALUES = [\r\n\t{ value: 'sha1', text: 'sha1' },\r\n\t{ value: 'sha256', text: 'sha256' },\r\n\t{ value: 'sha512', text: 'sha512' },\r\n];\r\n\r\n/**\r\n * Supported Hashing Algorithms\r\n */\r\nexport const REGEX_CHAIN_ID = /^[a-f0-9]{64}$/;\r\n","import React from 'react';\r\nimport _get from 'lodash/get';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _isFinite from 'lodash/isFinite';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as Yup from 'yup';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Formik, Form, FieldArray } from 'formik';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Button from '@material-ui/core/Button';\r\nimport SectionHeader from '../shared/SectionHeader';\r\nimport FormTextField from '../../component/form/FormTextField';\r\nimport OpenInNew from '@material-ui/icons/OpenInNew';\r\nimport { Link } from 'react-router-dom';\r\nimport { ApolloConsumer } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\nimport EligibleVotersList from '../shared/EligibleVotersList';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { REGEX_CHAIN_ID } from './VOTE_CONSTANTS';\r\n\r\n/**\r\n * Queries\r\n */\r\nconst GET_VOTERS = gql`\r\n\tquery Voters($chain: String!) {\r\n\t\teligibleVoters(chain: $chain) {\r\n\t\t\tvoters {\r\n\t\t\t\tvoterId\r\n\t\t\t\tweight\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\n/**\r\n * Constants\r\n */\r\nconst eligibleVotersPath = 'eligibleVoters';\r\n// form specific fields\r\nconst selectedListPath = 'formFields.selectedList';\r\nconst workingIdentityChainIdPath = 'formFields.workingIdentityChainId';\r\nconst workingWeightPath = 'formFields.workingWeight';\r\nconst workingEligibleChainIdPath = 'formFields.workingEligibleChainId';\r\nconst loadingVotersPath = 'formFields.loadingVoters';\r\nconst loadErrorMessagePath = 'formFields.loadErrorMessage';\r\nconst loadSuccessMessagePath = 'formFields.loadSuccessMessage';\r\nconst workingFileNamePath = 'formFields.workingFileName';\r\nconst workingFilePath = 'formFields.workingFile';\r\n\r\nfunction formatVoter(voterId, weight) {\r\n\treturn {\r\n\t\tvoterId,\r\n\t\tweight,\r\n\t};\r\n}\r\n\r\nclass SelectParticipants extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tfileVoters: null,\r\n\t\t};\r\n\r\n\t\tthis.reader = new FileReader();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}\r\n\r\n\thandleKeyPress(event) {\r\n\t\tif (event.target.type !== 'textarea' && event.which === 13 /* Enter */) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tisValidVoter = (voter_o) => {\r\n\t\t// test weight\r\n\t\tconst weight = _get(voter_o, 'weight');\r\n\t\tif (!_isFinite(weight) || !(weight > 0)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// test voter Id\r\n\t\tconst voterId = _get(voter_o, 'voterId');\r\n\t\tif (!REGEX_CHAIN_ID.test(voterId)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t};\r\n\r\n\thandleFile = (file) => {\r\n\t\tthis.reader.readAsText(file);\r\n\r\n\t\tthis.reader.onloadend = (e) => {\r\n\t\t\tconst content = this.reader.result;\r\n\t\t\tconst voterList = content.trim().split('\\n');\r\n\r\n\t\t\tlet newVoterList = [];\r\n\t\t\tlet invalidData = false;\r\n\r\n\t\t\tfor (let index = 1; index < voterList.length; index++) {\r\n\t\t\t\tconst attributes = voterList[index].trim().split(',');\r\n\t\t\t\tconst voter_o = formatVoter(attributes[0], parseInt(attributes[1]));\r\n\t\t\t\tif (this.isValidVoter(voter_o)) {\r\n\t\t\t\t\tnewVoterList.push(voter_o);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinvalidData = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (invalidData || _isEmpty(newVoterList)) {\r\n\t\t\t\tthis.setFieldValue(loadErrorMessagePath, '* Invalid CSV data');\r\n\t\t\t} else {\r\n\t\t\t\tnewVoterList.forEach((voter_o) => {\r\n\t\t\t\t\tthis.handleVoter(voter_o);\r\n\t\t\t\t});\r\n\t\t\t\tthis.setFieldValue(\r\n\t\t\t\t\tloadSuccessMessagePath,\r\n\t\t\t\t\tnewVoterList.length + ' voters loaded'\r\n\t\t\t\t);\r\n\t\t\t\tthis.setFieldValue(workingFilePath, '');\r\n\t\t\t\tthis.setFieldValue(workingFileNamePath, '');\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\thandleVoterChainId = async (chain) => {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: { eligibleVoters },\r\n\t\t\t} = await this.apolloClient.query({\r\n\t\t\t\tquery: GET_VOTERS,\r\n\t\t\t\tvariables: { chain },\r\n\t\t\t});\r\n\t\t\tconst voterData = _get(eligibleVoters, 'voters');\r\n\r\n\t\t\tif (!_isEmpty(voterData)) {\r\n\t\t\t\t// data found\r\n\t\t\t\tvoterData.forEach(({ voterId, weight }) => {\r\n\t\t\t\t\tthis.handleVoter(formatVoter(voterId, weight));\r\n\t\t\t\t});\r\n\t\t\t\tthis.setFieldValue(\r\n\t\t\t\t\tloadSuccessMessagePath,\r\n\t\t\t\t\tvoterData.length + ' voters loaded'\r\n\t\t\t\t);\r\n\t\t\t\tthis.setFieldValue(workingEligibleChainIdPath, '');\r\n\t\t\t} else {\r\n\t\t\t\t// no data found\r\n\t\t\t\tthis.setFieldValue(loadErrorMessagePath, '* No voters found');\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tthis.setFieldValue(loadErrorMessagePath, '* An Error has occured');\r\n\t\t}\r\n\t};\r\n\r\n\thandleVoter = (voter_o) => {\r\n\t\tif (this.isValidVoter(voter_o)) {\r\n\t\t\tconst voterIndex = this.findVoter(voter_o.voterId);\r\n\r\n\t\t\t// if voter exists\r\n\t\t\tif (voterIndex !== -1) {\r\n\t\t\t\t// replace voter\r\n\t\t\t\tconsole.log('Replace Voter');\r\n\t\t\t\tthis.arrayHelpers.replace(voterIndex, voter_o);\r\n\t\t\t} else {\r\n\t\t\t\t// add new voter\r\n\t\t\t\tconsole.log('Add New Voter');\r\n\t\t\t\tthis.arrayHelpers.push(voter_o);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tfindVoter = (voterId) =>\r\n\t\tthis.currentEligibleVoters.findIndex(\r\n\t\t\t(voter_o) => voter_o.voterId === voterId\r\n\t\t);\r\n\r\n\tresetAddVoterFields = () => {\r\n\t\tthis.setFieldValue(workingIdentityChainIdPath, '');\r\n\t\tthis.setFieldValue(workingWeightPath, '');\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\teligibleVotersForm,\r\n\t\t\tclasses,\r\n\t\t\tupdateParticipants,\r\n\t\t\tuseEligibleVoterTestData,\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={eligibleVotersForm}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t// update participants\r\n\t\t\t\t\tupdateParticipants(values);\r\n\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\teligibleVoters: Yup.array().required('* Add at least one voter'),\r\n\t\t\t\t\tformFields: Yup.object().shape({\r\n\t\t\t\t\t\tworkingWeight: Yup.number()\r\n\t\t\t\t\t\t\t.transform((currentValue, originalValue) => {\r\n\t\t\t\t\t\t\t\treturn originalValue === '' ? undefined : currentValue;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.moreThan(0, 'Must be a positive number'),\r\n\t\t\t\t\t\tworkingIdentityChainId: Yup.string().matches(REGEX_CHAIN_ID, {\r\n\t\t\t\t\t\t\tmessage: 'Invalid Chain ID',\r\n\t\t\t\t\t\t\texcludeEmptyString: true,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tworkingEligibleChainId: Yup.string().matches(REGEX_CHAIN_ID, {\r\n\t\t\t\t\t\t\tmessage: 'Invalid Chain ID',\r\n\t\t\t\t\t\t\texcludeEmptyString: true,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t}),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({\r\n\t\t\t\t\tvalues,\r\n\t\t\t\t\thandleChange,\r\n\t\t\t\t\tsetFieldValue,\r\n\t\t\t\t\tisSubmitting,\r\n\t\t\t\t\terrors,\r\n\t\t\t\t\tsubmitCount,\r\n\t\t\t\t\ttouched,\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tthis.setFieldValue = setFieldValue;\r\n\t\t\t\t\tthis.currentEligibleVoters = _get(values, eligibleVotersPath);\r\n\t\t\t\t\tthis.workingAddVoter_o = formatVoter(\r\n\t\t\t\t\t\t_get(values, workingIdentityChainIdPath),\r\n\t\t\t\t\t\t_get(values, workingWeightPath)\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Form onKeyPress={this.handleKeyPress}>\r\n\t\t\t\t\t\t\t<ApolloConsumer>\r\n\t\t\t\t\t\t\t\t{(client) => {\r\n\t\t\t\t\t\t\t\t\tthis.apolloClient = client;\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<FieldArray\r\n\t\t\t\t\t\t\t\t\t\t\tname={eligibleVotersPath}\r\n\t\t\t\t\t\t\t\t\t\t\trender={(arrayHelpers) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.arrayHelpers = arrayHelpers;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container className={classes.pad}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustify=\"space-between\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SectionHeader text=\"Select Voters\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={useEligibleVoterTestData}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tUse Test Data\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item container xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} container>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={selectedListPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={_get(values, selectedListPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"custom\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Custom List\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"standing\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Standing Parties\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, selectedListPath) === 'custom' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4} className={classes.borders}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontWeight: 500 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd Voter\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Identity Chain ID\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingIdentityChainIdPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terrors,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingIdentityChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingIdentityChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.which === 13 /* Enter */ &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.isValidVoter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.workingAddVoter_o\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleVoter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.workingAddVoter_o\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.resetAddVoterFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Weight\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingWeightPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingWeightPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingWeightPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.which === 13 /* Enter */ &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.isValidVoter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.workingAddVoter_o\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleVoter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.workingAddVoter_o\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.resetAddVoterFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleVoter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.workingAddVoter_o\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.resetAddVoterFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!this.isValidVoter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.workingAddVoter_o\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingIdentityChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.findVoter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.workingAddVoter_o.voterId\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) !== -1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Replace'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Add'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, selectedListPath) === 'custom' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txs={5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.padLoadVoters}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontWeight: 500 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLoad Voters\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingFileNamePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\".csv\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// reset working chain ID field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingEligibleChainIdPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingFilePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.files[0]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'https://docs.google.com/spreadsheets/d/1vK0277pI7BlGKGRFf93C5wwBb1O0K1KuFH8XkeB9IFI/edit?usp=sharing'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTemplate\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OpenInNew\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 13,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tverticalAlign: 'text-top',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Eligible Voters Chain ID\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingEligibleChainIdPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// reset file field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(workingFilePath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingFileNamePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terrors,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingEligibleChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttouched,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingEligibleChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// start loading indicator\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadingVotersPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadErrorMessagePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadSuccessMessagePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingEligibleChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// handle voter chain ID\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleVoterChainId(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingEligibleChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, workingFileNamePath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// handle file upload\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleFile(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, workingFilePath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// stop loading indicator\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadingVotersPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(!_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingEligibleChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!REGEX_CHAIN_ID.test(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingEligibleChainIdPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!_get(values, workingFileNamePath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLoad\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, loadingVotersPath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthickness={5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, loadErrorMessagePath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.errorText}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, loadErrorMessagePath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, loadSuccessMessagePath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.successText}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, loadSuccessMessagePath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={5} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, selectedListPath) === 'custom' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EligibleVotersList\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teligibleVoters={_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teligibleVotersPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarrayHelpers={arrayHelpers}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terrorMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsubmitCount > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof _get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terrors,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teligibleVotersPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) === 'string' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.errorText}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(errors, eligibleVotersPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <pre>{JSON.stringify(values, null, 2)}</pre> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.stepperButtons}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t</ApolloConsumer>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nSelectParticipants.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tpad: {\r\n\t\tpadding: '15px',\r\n\t},\r\n\tborders: {\r\n\t\tborderRightStyle: 'solid',\r\n\t\tborderRightColor: 'lightgray',\r\n\t\tborderRightWidth: '1px',\r\n\t\tborderLeftStyle: 'solid',\r\n\t\tborderLeftColor: 'lightgray',\r\n\t\tborderLeftWidth: '1px',\r\n\t\tpadding: '10px',\r\n\t},\r\n\tpadLoadVoters: {\r\n\t\tpadding: '10px',\r\n\t},\r\n\tstepperButtons: {\r\n\t\tmarginLeft: '-15px',\r\n\t},\r\n\terrorText: {\r\n\t\tcolor: 'red',\r\n\t\tfontSize: '14px',\r\n\t\tborderColor: 'red',\r\n\t\tborderStyle: 'solid',\r\n\t\tpadding: 8,\r\n\t\twidth: 168,\r\n\t},\r\n\tsuccessText: {\r\n\t\tcolor: 'green',\r\n\t\tfontSize: '14px',\r\n\t\tborderColor: 'green',\r\n\t\tborderStyle: 'solid',\r\n\t\tpadding: 8,\r\n\t\twidth: 168,\r\n\t},\r\n});\r\n\r\nexport default withStyles(styles)(SelectParticipants);\r\n","/*\r\n * Example Data\r\n */\r\n\r\nexport const EC_PRIV = 'Es3q9wGteUmhWBxe948wcvY6m9reXQfbeSddpKrrQfDMaBuBdUDC';\r\nexport const IDENTITY = {\r\n\tchainId: 'dfd78b9bebf0a9a89da2d807c814552ae33ff9fd57d1efe311ca4a6bed5f490b',\r\n\tkey: 'idsec2wH72BNR9QZhTMGDbxwLWGrghZQexZvLTros2wCekkc62N9h7s',\r\n};\r\n\r\nexport const VOTER_CHAIN_ID =\r\n\t'1bb663fd9463c19ff3ad179c83653763d4ede49db58f7edce48ac82aebccb908';\r\n\r\n/**\r\n * Test Vote Configuration\r\n */\r\n\r\nexport const VOTE_EXAMPLE_CONFIG = {\r\n\tpollForm: {\r\n\t\tpollJSON: {\r\n\t\t\tproposal: {\r\n\t\t\t\ttitle: 'Example Poll Title',\r\n\t\t\t\ttext: 'What is the answer to life, the universe, and everything?',\r\n\t\t\t\texternalRef: {\r\n\t\t\t\t\thref: '',\r\n\t\t\t\t\thash: {\r\n\t\t\t\t\t\tvalue: '',\r\n\t\t\t\t\t\talgo: '',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tvote: {\r\n\t\t\t\tphasesBlockHeights: {\r\n\t\t\t\t\tcommitStart: 61258,\r\n\t\t\t\t\tcommitEnd: 61259,\r\n\t\t\t\t\trevealStart: 61260,\r\n\t\t\t\t\trevealEnd: 61261,\r\n\t\t\t\t},\r\n\t\t\t\teligibleVotersChainId: null,\r\n\t\t\t\ttype: 1,\r\n\t\t\t\tconfig: {\r\n\t\t\t\t\toptions: ['a', 'b', 'c', '42'],\r\n\t\t\t\t\tallowAbstention: true,\r\n\t\t\t\t\tcomputeResultsAgainst: 'ALL_ELIGIBLE_VOTERS',\r\n\t\t\t\t\tminOptions: 1,\r\n\t\t\t\t\tmaxOptions: 3,\r\n\t\t\t\t\twinnerCriteria: {\r\n\t\t\t\t\t\tminSupport: {\r\n\t\t\t\t\t\t\t'*': {\r\n\t\t\t\t\t\t\t\tweighted: 0.3,\r\n\t\t\t\t\t\t\t\tunweighted: 0.5,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tacceptanceCriteria: {\r\n\t\t\t\t\t\tminTurnout: {\r\n\t\t\t\t\t\t\tweighted: 0.1,\r\n\t\t\t\t\t\t\tunweighted: 0.3,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tformFields: {\r\n\t\t\tcommitStartDate: '2019-01-06T03:00:00.000',\r\n\t\t\tcommitEndDate: '2019-01-06T03:10:00.000',\r\n\t\t\trevealStartDate: '2019-01-06T03:20:00.000',\r\n\t\t\trevealEndDate: '2019-01-06T03:30:00.000',\r\n\t\t\tvoteTypeText: 'Approval Voting',\r\n\t\t\tquestionSource: 'text',\r\n\t\t\tworkingText: 'What is the answer to life, the universe, and everything?',\r\n\t\t\tworkingHref: '',\r\n\t\t\tworkingHashValue: '',\r\n\t\t\tworkingHashAlgo: '',\r\n\t\t\tworkingOption: '',\r\n\t\t\tcheckedTurnout: true,\r\n\t\t\tworkingWeightMinTurnout: 0.1,\r\n\t\t\tworkingUnweightMinTurnout: 0.3,\r\n\t\t\tworkingWeightMinSupport: 0.3,\r\n\t\t\tworkingUnweightMinSupport: 0.5,\r\n\t\t\tworkingMinSupportOption: '',\r\n\t\t},\r\n\t},\r\n\teligibleVotersForm: {\r\n\t\teligibleVoters: [\r\n\t\t\t{\r\n\t\t\t\tvoterId:\r\n\t\t\t\t\t'd12c0c85b1731a9a5108b86cd084db6230ced269d86c6aad91168d39955cbf2c',\r\n\t\t\t\tweight: 0.5,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvoterId:\r\n\t\t\t\t\t'89aa72a260fd88c6a813d9157a863db83b2327e9935a30f0e8303ae944c5b653',\r\n\t\t\t\tweight: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t\tformFields: {\r\n\t\t\tselectedList: 'custom',\r\n\t\t\tworkingIdentityChainId: '',\r\n\t\t\tworkingWeight: '',\r\n\t\t\tworkingEligibleChainId: VOTER_CHAIN_ID,\r\n\t\t\tloadingVoters: false,\r\n\t\t\tloadErrorMessage: '',\r\n\t\t\tloadSuccessMessage: '',\r\n\t\t\tworkingFileName: '',\r\n\t\t\tworkingFile: '',\r\n\t\t},\r\n\t},\r\n};\r\n","import React from 'react';\r\nimport { Formik, Form } from 'formik';\r\nimport _isNil from 'lodash/isNil';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _get from 'lodash/get';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withVote } from '../../context/VoteContext';\r\nimport { withNetwork } from '../../context/NetworkContext';\r\nimport { withFactomCli } from '../../context/FactomCliContext';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as Yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport SectionHeader from '../shared/SectionHeader';\r\nimport FormTextField from '../../component/form/FormTextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { isValidEcPrivateAddress } from 'factom/dist/factom';\r\nimport { computeVoteCreationCost } from 'factom-vote/dist/factom-vote';\r\nimport { digital } from 'factom-identity-lib';\r\nimport { REGEX_CHAIN_ID } from './VOTE_CONSTANTS';\r\nimport { EC_PRIV, IDENTITY } from './VOTE_EXAMPLE_DATA';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst identityChainIDPath = 'identityChainID';\r\nconst identityKeyPath = 'identityKey';\r\nconst ecPrivateKeyPath = 'ecPrivateKey';\r\nconst transactionErrorPath = 'transactionError';\r\nconst processingPath = 'processing';\r\n\r\nconst EXAMPLE_IDENTITY = {\r\n\tchainId: '039b14a782008c1b1543b1542941756e6f01a0d68372ff61163642382af70fc9',\r\n\tkey: 'idsec2wH72BNR9QZhTMGDbxwLWGrghZQexZvLTros2wCekkc62N9h7s',\r\n};\r\n\r\nclass SubmitVoteForm extends React.Component {\r\n\tstate = { voteCreationCost: null };\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\tconst voteData = {\r\n\t\t\tdefinition: this.props.poll.pollJSON,\r\n\t\t\tregistrationChainId: this.props.networkController.networkProps\r\n\t\t\t\t.voteRegistrationChainID,\r\n\t\t\teligibleVoters: this.props.eligibleVoters,\r\n\t\t\tidentity: EXAMPLE_IDENTITY,\r\n\t\t};\r\n\t\tconst voteCreationCost = await computeVoteCreationCost(voteData);\r\n\t\tthis.setState({ voteCreationCost });\r\n\t};\r\n\r\n\tvalidateEcPrivateKey = async (value) => {\r\n\t\tif (!isValidEcPrivateAddress(value)) {\r\n\t\t\treturn 'Invalid Key';\r\n\t\t}\r\n\r\n\t\tconst balance = await this.props.factomCliController.factomCli.getBalance(\r\n\t\t\tvalue\r\n\t\t);\r\n\r\n\t\tif (this.state.voteCreationCost > balance) {\r\n\t\t\treturn 'Insufficient balance of ' + balance + ' Entry Credits.';\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tpoll,\r\n\t\t\teligibleVoters,\r\n\t\t\tupdateCreatePollResult,\r\n\t\t\thandleBack,\r\n\t\t\thandleNext,\r\n\t\t\tnetworkController: { networkProps },\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tidentityChainID: '',\r\n\t\t\t\t\tidentityKey: '',\r\n\t\t\t\t\tecPrivateKey: '',\r\n\t\t\t\t\ttransactionError: null,\r\n\t\t\t\t\tprocessing: false,\r\n\t\t\t\t}}\r\n\t\t\t\tonSubmit={async (values, actions) => {\r\n\t\t\t\t\tactions.setFieldValue(transactionErrorPath, null);\r\n\t\t\t\t\tactions.setFieldValue(processingPath, true);\r\n\r\n\t\t\t\t\t// set identity\r\n\t\t\t\t\tconst identity = {\r\n\t\t\t\t\t\tchainId: _get(values, identityChainIDPath),\r\n\t\t\t\t\t\tkey: _get(values, identityKeyPath),\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tconst voteData = {\r\n\t\t\t\t\t\tdefinition: poll.pollJSON,\r\n\t\t\t\t\t\tregistrationChainId: networkProps.voteRegistrationChainID,\r\n\t\t\t\t\t\teligibleVoters,\r\n\t\t\t\t\t\tidentity,\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst result = await this.props.voteController.submitVote(\r\n\t\t\t\t\t\t\tvoteData,\r\n\t\t\t\t\t\t\t_get(values, ecPrivateKeyPath)\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tconsole.log(result);\r\n\r\n\t\t\t\t\t\t// update result data\r\n\t\t\t\t\t\tupdateCreatePollResult(result);\r\n\r\n\t\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\t\thandleNext();\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\tactions.resetForm();\r\n\t\t\t\t\t\tactions.setFieldValue(transactionErrorPath, 'Error: ' + e.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\t[identityChainIDPath]: Yup.string()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.matches(REGEX_CHAIN_ID, {\r\n\t\t\t\t\t\t\tmessage: 'Invalid Chain ID',\r\n\t\t\t\t\t\t\texcludeEmptyString: true,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t[identityKeyPath]: Yup.string()\r\n\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t.test(\r\n\t\t\t\t\t\t\tidentityKeyPath,\r\n\t\t\t\t\t\t\t'Invalid Identity Key',\r\n\t\t\t\t\t\t\tdigital.isValidSecretIdentityKey\r\n\t\t\t\t\t\t),\r\n\t\t\t\t})}\r\n\t\t\t\trender={({ isSubmitting, errors, touched, values, setFieldValue }) => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t<Grid item container justify=\"space-between\" xs={12}>\r\n\t\t\t\t\t\t\t\t<SectionHeader disableGutterBottom text=\"Sign Transaction\" />\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(identityChainIDPath, IDENTITY.chainId);\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(identityKeyPath, IDENTITY.key);\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue(ecPrivateKeyPath, EC_PRIV);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tUse Test Data\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid xs={9} item>\r\n\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\tname={identityChainIDPath}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Initiator Identity Chain ID *\"\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t_get(errors, identityChainIDPath) &&\r\n\t\t\t\t\t\t\t\t\t\t_get(touched, identityChainIDPath)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid xs={3} item />\r\n\t\t\t\t\t\t\t<Grid xs={9} item>\r\n\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\tname={identityKeyPath}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Initiator Identity Private Key *\"\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t_get(errors, identityKeyPath) &&\r\n\t\t\t\t\t\t\t\t\t\t_get(touched, identityKeyPath)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid xs={3} item />\r\n\t\t\t\t\t\t\t<Grid xs={9} item>\r\n\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\tname={ecPrivateKeyPath}\r\n\t\t\t\t\t\t\t\t\tlabel=\"EC Private Key *\"\r\n\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t_get(errors, ecPrivateKeyPath) &&\r\n\t\t\t\t\t\t\t\t\t\t_get(touched, ecPrivateKeyPath)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvalidate={this.validateEcPrivateKey}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid xs={3} item>\r\n\t\t\t\t\t\t\t\t{this.state.voteCreationCost && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t{'Cost: ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.voteCreationCost +\r\n\t\t\t\t\t\t\t\t\t\t\t\t' Entry Credits'}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{!_isNil(_get(values, transactionErrorPath)) && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.transactionErrorText}>\r\n\t\t\t\t\t\t\t\t\t\t{_get(values, transactionErrorPath)}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Grid item xs={12} className={classes.stepperButtons}>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Button onClick={handleBack}>Back</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSubmit Poll\r\n\t\t\t\t\t\t\t\t\t{_get(values, processingPath) && (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress thickness={5} size={20} />\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nSubmitVoteForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tstepperButtons: {\r\n\t\tmarginLeft: '-15px',\r\n\t},\r\n\ttransactionErrorText: { color: 'red', fontSize: '16px' },\r\n});\r\n\r\nconst enhancer = _flowRight(\r\n\twithNetwork,\r\n\twithFactomCli,\r\n\twithVote,\r\n\twithStyles(styles)\r\n);\r\n\r\nexport default enhancer(SubmitVoteForm);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport _get from 'lodash/get';\r\nimport _isNil from 'lodash/isNil';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport LabelImportant from '@material-ui/icons/LabelImportant';\r\nimport OpenInNew from '@material-ui/icons/OpenInNew';\r\nimport SectionHeader from '../shared/SectionHeader';\r\nimport { withNetwork } from '../../context/NetworkContext';\r\nimport EligibleVotersList from '../shared/EligibleVotersList';\r\n\r\nimport {\r\n\tBINARY_CONFIG,\r\n\tSINGLE_OPTION_CONFIG,\r\n\tAPPROVAL_CONFIG,\r\n\tINSTANT_RUNOFF_CONFIG,\r\n\tALL_ELIGIBLE_VOTERS,\r\n\tPARTICIPANTS_ONLY,\r\n\tVOTE_TYPES,\r\n} from '../create/VOTE_CONSTANTS';\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\n//duplicates\r\nconst titlePath = 'pollJSON.proposal.title';\r\nconst commitStartPath = 'pollJSON.vote.phasesBlockHeights.commitStart';\r\nconst commitEndPath = 'pollJSON.vote.phasesBlockHeights.commitEnd';\r\nconst revealStartPath = 'pollJSON.vote.phasesBlockHeights.revealStart';\r\nconst revealEndPath = 'pollJSON.vote.phasesBlockHeights.revealEnd';\r\nconst hrefPath = 'pollJSON.proposal.externalRef.href';\r\nconst hashValuePath = 'pollJSON.proposal.externalRef.hash.value';\r\nconst hashAlgoPath = 'pollJSON.proposal.externalRef.hash.algo';\r\nconst textPath = 'pollJSON.proposal.text';\r\nconst optionsPath = 'pollJSON.vote.config.options';\r\nconst voteTypePath = 'pollJSON.vote.type';\r\nconst abstentionPath = 'pollJSON.vote.config.allowAbstention';\r\nconst computeResultsAgainstPath = 'pollJSON.vote.config.computeResultsAgainst';\r\nconst minOptionsPath = 'pollJSON.vote.config.minOptions';\r\nconst maxOptionsPath = 'pollJSON.vote.config.maxOptions';\r\nconst minSupportPath = 'pollJSON.vote.config.winnerCriteria.minSupport';\r\nconst minTurnoutPath = 'pollJSON.vote.config.acceptanceCriteria.minTurnout';\r\n\r\nconst weightedMinTurnoutPath =\r\n\t'pollJSON.vote.config.acceptanceCriteria.minTurnout.weighted';\r\nconst unweightedMinTurnoutPath =\r\n\t'pollJSON.vote.config.acceptanceCriteria.minTurnout.unweighted';\r\n\r\n//unique so far\r\nconst protocolVersionPath = 'formFields.protocolVersion';\r\nconst pollInitiatorIdPath = 'formFields.pollInitiatorID';\r\nconst pollChainIDPath = 'formFields.pollChainID';\r\n\r\nclass VoteSummary extends React.Component {\r\n\tstate = { currentHeight: null };\r\n\r\n\tasync componentDidMount() {\r\n\t\twindow.scrollTo(0, 0);\r\n\r\n\t\tconst tfaURL = this.props.networkController.networkProps.explorerApiURL;\r\n\r\n\t\tfetch(tfaURL + '/top')\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((data) => this.setState({ currentHeight: data.result.top }));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, eligibleVoters } = this.props;\r\n\t\tconst poll = this.props.poll;\r\n\r\n\t\tconst minSupportOption = Object.keys(_get(poll, minSupportPath))[0];\r\n\r\n\t\tconst weightedMinSupportPath =\r\n\t\t\tminSupportPath + '.' + minSupportOption + '.weighted';\r\n\t\tconst unweightedMinSupportPath =\r\n\t\t\tminSupportPath + '.' + minSupportOption + '.unweighted';\r\n\r\n\t\t// vote type text\r\n\t\tconst voteTypeValue = _get(poll, voteTypePath);\r\n\r\n\t\tlet voteTypeText = '';\r\n\r\n\t\tif (voteTypeValue === 1) {\r\n\t\t\tif (\r\n\t\t\t\t_get(poll, minOptionsPath) === 1 &&\r\n\t\t\t\t_get(poll, maxOptionsPath) === 1\r\n\t\t\t) {\r\n\t\t\t\tvoteTypeText = SINGLE_OPTION_CONFIG.name;\r\n\t\t\t} else {\r\n\t\t\t\tvoteTypeText = APPROVAL_CONFIG.name;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvoteTypeText = VOTE_TYPES[voteTypeValue].name;\r\n\t\t}\r\n\r\n\t\t// minimum turnout\r\n\t\tconst hasMinTurnoutCritiera = !_isNil(_get(poll, minTurnoutPath));\r\n\r\n\t\t// date estimations\r\n\t\tlet commitStartDate = null;\r\n\t\tlet commitEndDate = null;\r\n\t\tlet revealStartDate = null;\r\n\t\tlet revealEndDate = null;\r\n\r\n\t\tif (this.state.currentHeight) {\r\n\t\t\tcommitStartDate = calculateWriteTime(\r\n\t\t\t\tthis.state.currentHeight,\r\n\t\t\t\t_get(poll, commitStartPath)\r\n\t\t\t);\r\n\t\t\tcommitEndDate = calculateWriteTime(\r\n\t\t\t\tthis.state.currentHeight,\r\n\t\t\t\t_get(poll, commitEndPath)\r\n\t\t\t);\r\n\t\t\trevealStartDate = calculateWriteTime(\r\n\t\t\t\tthis.state.currentHeight,\r\n\t\t\t\t_get(poll, revealStartPath)\r\n\t\t\t);\r\n\t\t\trevealEndDate = calculateWriteTime(\r\n\t\t\t\tthis.state.currentHeight,\r\n\t\t\t\t_get(poll, revealEndPath)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Grid item xs={12} container>\r\n\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t<SectionHeader text=\"Poll Configuration\" />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t<Typography>Current Height: {this.state.currentHeight}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={6}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>Title: {_get(poll, titlePath)}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>Type: {voteTypeText}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\tCompute Results Against:{' '}\r\n\t\t\t\t\t\t\t{_get(poll, computeResultsAgainstPath) ===\r\n\t\t\t\t\t\t\tALL_ELIGIBLE_VOTERS.value\r\n\t\t\t\t\t\t\t\t? ALL_ELIGIBLE_VOTERS.text\r\n\t\t\t\t\t\t\t\t: PARTICIPANTS_ONLY.text}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\tAllow Abstain: {_get(poll, abstentionPath) ? 'True' : 'False'}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={3}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\tCommit Start Block:&nbsp;{_get(poll, commitStartPath)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\tCommit End Block:&nbsp;&nbsp;&nbsp;{_get(poll, commitEndPath)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\tReveal Start Block:&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t{_get(poll, revealStartPath)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\tReveal End Block:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t{_get(poll, revealEndPath)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={3}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography>{commitStartDate}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography>{commitEndDate}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography>{revealStartDate}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography>{revealEndDate}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t{_get(poll, pollChainIDPath) && (\r\n\t\t\t\t\t<Grid item xs={12} container>\r\n\t\t\t\t\t\t<Grid item xs={3} className={classes.smallGridColumn}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom>Poll Chain ID:</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t{_get(poll, pollChainIDPath)}\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<OpenInNew color=\"primary\" style={{ fontSize: 15 }} />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t\t{_get(poll, pollInitiatorIdPath) && (\r\n\t\t\t\t\t<Grid item xs={12} container>\r\n\t\t\t\t\t\t<Grid item xs={3} className={classes.smallGridColumn}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom>Poll Initiator ID:</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t{_get(poll, pollInitiatorIdPath)}\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<OpenInNew color=\"primary\" style={{ fontSize: 15 }} />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t\t{_get(poll, protocolVersionPath) && (\r\n\t\t\t\t\t<Grid item xs={12} container>\r\n\t\t\t\t\t\t<Grid item xs={3} className={classes.smallGridColumn}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom>Protocol Version:</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t\t<Typography>{_get(poll, protocolVersionPath)}</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<SectionHeader text=\"Question\" />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{_get(poll, hrefPath) && (\r\n\t\t\t\t\t<Grid container item xs={12}>\r\n\t\t\t\t\t\t<Grid item xs={3} className={classes.smallGridColumn}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom>URL Link:</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t\t<a href={_get(poll, hrefPath)}>\r\n\t\t\t\t\t\t\t\t<Typography>{_get(poll, hrefPath)}</Typography>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={3} className={classes.smallGridColumn}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom>Hash Algorithm:&nbsp;</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t\t<Typography>{_get(poll, hashAlgoPath)}</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={3} className={classes.smallGridColumn}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom>Hash Value:&nbsp;</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t\t<Typography>{_get(poll, hashValuePath)}</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t\t{_get(poll, textPath) && (\r\n\t\t\t\t\t<Grid container item xs={12}>\r\n\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\tQuestion: {_get(poll, textPath)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<SectionHeader text=\"Answers\" />\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Paper elevation={1} className={classes.pad}>\r\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">Options</Typography>\r\n\t\t\t\t\t\t<Grid container spacing={24}>\r\n\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t<List dense>\r\n\t\t\t\t\t\t\t\t\t{_get(poll, optionsPath) &&\r\n\t\t\t\t\t\t\t\t\t\t_get(poll, optionsPath).map((option, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdivider={index < _get(poll, optionsPath).length - 1}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LabelImportant style={{ fontSize: 15 }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText primary={option} />\r\n\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t{(_get(poll, voteTypePath) === APPROVAL_CONFIG.type ||\r\n\t\t\t\t\t\t\t\t\t_get(poll, voteTypePath) === INSTANT_RUNOFF_CONFIG.type) && (\r\n\t\t\t\t\t\t\t\t\t<Grid container item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\tMinimum Options Allowed:&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t{_get(poll, minOptionsPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\tMaximum Options Allowed:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t{_get(poll, maxOptionsPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<SectionHeader text=\"Winner Criteria\" />\r\n\t\t\t\t\t<List dense>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox disableRipple color=\"default\" checked={true} />\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Minimum Support\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t{_get(poll, weightedMinSupportPath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!_get(poll, unweightedMinSupportPath) && <br />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ display: 'inline' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tWeighted Ratio:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(poll, weightedMinSupportPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{_get(poll, unweightedMinSupportPath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!_get(poll, weightedMinSupportPath) && <br />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ display: 'inline' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tUnweighted Ratio:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(poll, unweightedMinSupportPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t{_get(poll, voteTypePath) === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\tApplies to option: {minSupportOption}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Typography>Applies to all options</Typography>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<SectionHeader text=\"Acceptance Criteria\" />\r\n\t\t\t\t\t{hasMinTurnoutCritiera ? (\r\n\t\t\t\t\t\t<List dense>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={hasMinTurnoutCritiera}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Minimum Turnout\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t\t{_get(poll, weightedMinTurnoutPath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!_get(poll, unweightedMinTurnoutPath) && <br />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ display: 'inline' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tWeighted Ratio:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(poll, weightedMinTurnoutPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{_get(poll, unweightedMinTurnoutPath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!_get(poll, weightedMinTurnoutPath) && <br />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ display: 'inline' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tUnweighted Ratio:&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(poll, unweightedMinTurnoutPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography>Applies to all options</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Typography>None</Typography>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{eligibleVoters && (\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<EligibleVotersList eligibleVoters={eligibleVoters} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nVoteSummary.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tpad: {\r\n\t\tpadding: 15,\r\n\t},\r\n\tsmallGridColumn: {\r\n\t\tflexBasis: '19%',\r\n\t},\r\n\toptionList: {\r\n\t\twidth: '350px',\r\n\t\toverflow: 'auto',\r\n\t},\r\n});\r\n\r\nfunction calculateWriteTime(currentHeight, writeHeight) {\r\n\tlet blocks;\r\n\tlet minutes;\r\n\tlet event = new Date();\r\n\r\n\tblocks = writeHeight - currentHeight;\r\n\tminutes = blocks * 10;\r\n\tevent.setTime(event.getTime() + minutes * 60 * 1000);\r\n\tevent = event.toLocaleTimeString([], {\r\n\t\tyear: 'numeric',\r\n\t\tmonth: '2-digit',\r\n\t\tday: '2-digit',\r\n\t\thour: '2-digit',\r\n\t\tminute: '2-digit',\r\n\t});\r\n\r\n\treturn event;\r\n}\r\n\r\nconst enhancer = _flowRight(withNetwork, withStyles(styles));\r\nexport default enhancer(VoteSummary);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport SubmitVoteForm from './SubmitVoteForm';\r\nimport VoteSummary from '../shared/VoteSummary';\r\n\r\nfunction PreviewVote(props) {\r\n\tconst { classes } = props;\r\n\r\n\treturn (\r\n\t\t<Grid container className={classes.pad}>\r\n\t\t\t<VoteSummary poll={props.poll} eligibleVoters={props.eligibleVoters} />\r\n\t\t\t<Grid item xs={12} className={classes.submitVoteForm}>\r\n\t\t\t\t<SubmitVoteForm\r\n\t\t\t\t\tpoll={props.poll}\r\n\t\t\t\t\teligibleVoters={props.eligibleVoters}\r\n\t\t\t\t\tupdateCreatePollResult={props.updateCreatePollResult}\r\n\t\t\t\t\thandleNext={props.handleNext}\r\n\t\t\t\t\thandleBack={props.handleBack}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nPreviewVote.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tpad: {\r\n\t\tpadding: 15,\r\n\t},\r\n\tsubmitVoteForm: {\r\n\t\tmarginTop: '25px',\r\n\t},\r\n});\r\n\r\nexport default withStyles(styles)(PreviewVote);\r\n","import React from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport OpenInNew from '@material-ui/icons/OpenInNew';\r\nimport { withNetwork } from '../../context/NetworkContext';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport SectionHeader from '../shared/SectionHeader';\r\n\r\nfunction FinalStep(props) {\r\n\tconst {\r\n\t\tclasses,\r\n\t\tcreatePollResult,\r\n\t\tnetworkController: { networkProps },\r\n\t} = props;\r\n\r\n\tconst entryHashURL = networkProps.explorerURL + '/entry?hash=';\r\n\r\n\treturn (\r\n\t\t<Grid className={classes.pad} container>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<SectionHeader text=\"Setup Complete!\" color=\"green\" />\r\n\r\n\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\tYour poll is pending confirmation. The entries will be visible in\r\n\t\t\t\t\t10-15 minutes, after being included in the next block currently being\r\n\t\t\t\t\tprocessed by the Factom blockchain.\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<br />\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<ExplorerLink\r\n\t\t\t\t\tlabel=\"Eligible Voters\"\r\n\t\t\t\t\tURL={entryHashURL}\r\n\t\t\t\t\tID={createPollResult.eligibleVoters.entryHash}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<ExplorerLink\r\n\t\t\t\t\tlabel=\"Vote Configuration\"\r\n\t\t\t\t\tURL={entryHashURL}\r\n\t\t\t\t\tID={createPollResult.vote.entryHash}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<ExplorerLink\r\n\t\t\t\t\tlabel=\"Vote Registration\"\r\n\t\t\t\t\tURL={entryHashURL}\r\n\t\t\t\t\tID={createPollResult.registration.entryHash}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nconst styles = (theme) => ({\r\n\tpad: {\r\n\t\tpadding: '15px',\r\n\t},\r\n});\r\n\r\nconst ExplorerLink = ({ label, URL, ID }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={URL + ID}>\r\n\t\t\t\t<Typography gutterBottom variant=\"subtitle1\">\r\n\t\t\t\t\t{label}&nbsp;\r\n\t\t\t\t\t<OpenInNew\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfontSize: 15,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Typography>\r\n\t\t\t</a>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nFinalStep.propTypes = {\r\n\tclasses: PropTypes.object,\r\n};\r\n\r\nconst enhancer = _flowRight(withNetwork, withStyles(styles));\r\n\r\nexport default enhancer(FinalStep);\r\n","import React from 'react';\r\nimport { VOTE_EXAMPLE_CONFIG } from './VOTE_EXAMPLE_DATA';\r\n\r\nexport default class VoteConfiguration extends React.Component {\r\n\tstate = {\r\n\t\tpollForm: {\r\n\t\t\tpollJSON: {\r\n\t\t\t\tproposal: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\ttext: '',\r\n\t\t\t\t\texternalRef: {\r\n\t\t\t\t\t\thref: '',\r\n\t\t\t\t\t\thash: {\r\n\t\t\t\t\t\t\tvalue: '',\r\n\t\t\t\t\t\t\talgo: '',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tvote: {\r\n\t\t\t\t\tphasesBlockHeights: {\r\n\t\t\t\t\t\tcommitStart: '',\r\n\t\t\t\t\t\tcommitEnd: '',\r\n\t\t\t\t\t\trevealStart: '',\r\n\t\t\t\t\t\trevealEnd: '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\teligibleVotersChainId: null,\r\n\t\t\t\t\ttype: '',\r\n\t\t\t\t\tconfig: {\r\n\t\t\t\t\t\toptions: [],\r\n\t\t\t\t\t\tallowAbstention: '',\r\n\t\t\t\t\t\tcomputeResultsAgainst: '',\r\n\t\t\t\t\t\tminOptions: '',\r\n\t\t\t\t\t\tmaxOptions: '',\r\n\t\t\t\t\t\twinnerCriteria: {},\r\n\t\t\t\t\t\tacceptanceCriteria: {},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tformFields: {\r\n\t\t\t\tcommitStartDate: '',\r\n\t\t\t\tcommitEndDate: '',\r\n\t\t\t\trevealStartDate: '',\r\n\t\t\t\trevealEndDate: '',\r\n\t\t\t\tvoteTypeText: '',\r\n\t\t\t\tquestionSource: 'text',\r\n\t\t\t\tworkingText: '',\r\n\t\t\t\tworkingHref: '',\r\n\t\t\t\tworkingHashValue: '',\r\n\t\t\t\tworkingHashAlgo: '',\r\n\t\t\t\tworkingOption: '',\r\n\t\t\t\tcheckedTurnout: false,\r\n\t\t\t\tworkingWeightMinTurnout: '',\r\n\t\t\t\tworkingUnweightMinTurnout: '',\r\n\t\t\t\tworkingWeightMinSupport: '',\r\n\t\t\t\tworkingUnweightMinSupport: '',\r\n\t\t\t\tworkingMinSupportOption: '',\r\n\t\t\t},\r\n\t\t},\r\n\t\teligibleVotersForm: {\r\n\t\t\teligibleVoters: [],\r\n\t\t\tformFields: {\r\n\t\t\t\tselectedList: 'custom',\r\n\t\t\t\tworkingIdentityChainId: '',\r\n\t\t\t\tworkingWeight: '',\r\n\t\t\t\tworkingEligibleChainId: '',\r\n\t\t\t\tloadingVoters: false,\r\n\t\t\t\tloadErrorMessage: '',\r\n\t\t\t\tloadSuccessMessage: '',\r\n\t\t\t\tworkingFileName: '',\r\n\t\t\t\tworkingFile: '',\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreatePollResult: {},\r\n\t};\r\n\r\n\tupdatePoll = (form) => {\r\n\t\tthis.setState({ pollForm: form });\r\n\t};\r\n\r\n\tupdateParticipants = (form) => {\r\n\t\tthis.setState({ eligibleVotersForm: form });\r\n\t};\r\n\r\n\tupdateCreatePollResult = (result) => {\r\n\t\tthis.setState({ createPollResult: result });\r\n\t};\r\n\r\n\t/**\r\n\t * For Testing\r\n\t */\r\n\tuseEligibleVoterTestData = () => {\r\n\t\tthis.updateParticipants(VOTE_EXAMPLE_CONFIG.eligibleVotersForm);\r\n\t};\r\n\r\n\t/**\r\n\t * For Testing\r\n\t */\r\n\tusePollTestData = () => {\r\n\t\tthis.updatePoll(VOTE_EXAMPLE_CONFIG.pollForm);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn this.props.children({\r\n\t\t\t...this.state,\r\n\t\t\tupdatePoll: this.updatePoll,\r\n\t\t\tupdateParticipants: this.updateParticipants,\r\n\t\t\tupdateCreatePollResult: this.updateCreatePollResult,\r\n\t\t\tuseEligibleVoterTestData: this.useEligibleVoterTestData,\r\n\t\t\tusePollTestData: this.usePollTestData,\r\n\t\t});\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Field, FastField, ErrorMessage } from 'formik';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\nconst FormSelectField = ({\r\n\tclasses,\r\n\tdisabled = false,\r\n\terror = false,\r\n\tisNotFast,\r\n\tlabel,\r\n\tname,\r\n\tonChange,\r\n\toptions,\r\n\tminWidth,\r\n}) => {\r\n\tconst FieldType = isNotFast ? Field : FastField;\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<FieldType name={name}>\r\n\t\t\t\t{({ field }) => (\r\n\t\t\t\t\t<FormControl {...{ disabled, error }}>\r\n\t\t\t\t\t\t<InputLabel htmlFor={name}>{label}</InputLabel>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t{...(onChange ? { onChange } : {})}\r\n\t\t\t\t\t\t\tstyle={{ minWidth }}\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\tid: name,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{options.map((value, index) => (\r\n\t\t\t\t\t\t\t\t<MenuItem key={index} value={value.value}>\r\n\t\t\t\t\t\t\t\t\t{value.text}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t{/* <FormHelperText /> */}\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t)}\r\n\t\t\t</FieldType>\r\n\t\t\t<ErrorMessage\r\n\t\t\t\tname={name}\r\n\t\t\t\trender={(msg) => <div className={classes.errorText}>{msg}</div>}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\terrorText: { color: 'red', fontSize: '13px' },\r\n});\r\n\r\nexport default withStyles(styles)(FormSelectField);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport _get from 'lodash/get';\r\nimport _omit from 'lodash/omit';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport _isNil from 'lodash/isNil';\r\nimport _isFinite from 'lodash/isFinite';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n\tFormik,\r\n\tField,\r\n\tFastField,\r\n\tForm,\r\n\tFieldArray,\r\n\tErrorMessage,\r\n} from 'formik';\r\nimport * as Yup from 'yup';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport LabelImportant from '@material-ui/icons/LabelImportant';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Button from '@material-ui/core/Button';\r\nimport SectionHeader from '../shared/SectionHeader';\r\nimport FormTextField from '../../component/form/FormTextField';\r\nimport FormSelectField from '../../component/form/FormSelectField';\r\nimport { withNetwork } from '../../context/NetworkContext';\r\n//import FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\nimport {\r\n\tBINARY_CONFIG,\r\n\tSINGLE_OPTION_CONFIG,\r\n\tAPPROVAL_CONFIG,\r\n\tINSTANT_RUNOFF_CONFIG,\r\n\tALL_ELIGIBLE_VOTERS,\r\n\tPARTICIPANTS_ONLY,\r\n\tHASH_ALGO_VALUES,\r\n} from './VOTE_CONSTANTS';\r\n\r\n/**\r\n * Constants\r\n */\r\nconst VOTE_TYPE_VALUES = [\r\n\t{ value: BINARY_CONFIG.name, text: BINARY_CONFIG.name },\r\n\t{ value: SINGLE_OPTION_CONFIG.name, text: SINGLE_OPTION_CONFIG.name },\r\n\t{ value: APPROVAL_CONFIG.name, text: APPROVAL_CONFIG.name },\r\n\t{ value: INSTANT_RUNOFF_CONFIG.name, text: INSTANT_RUNOFF_CONFIG.name },\r\n];\r\n\r\nconst COMPUTE_AGAINST_VALUES = [\r\n\t{ value: ALL_ELIGIBLE_VOTERS.value, text: ALL_ELIGIBLE_VOTERS.text },\r\n\t{ value: PARTICIPANTS_ONLY.value, text: PARTICIPANTS_ONLY.text },\r\n];\r\n\r\nconst ABSTENTION_VALUES = [\r\n\t{ value: true, text: 'True' },\r\n\t{ value: false, text: 'False' },\r\n];\r\n\r\nconst TITLE_MAX_LENGTH = 32;\r\nconst QUESTION_MAX_LENGTH = 250;\r\n\r\n// poll config fields\r\nconst titlePath = 'pollJSON.proposal.title';\r\nconst commitStartPath = 'pollJSON.vote.phasesBlockHeights.commitStart';\r\nconst commitEndPath = 'pollJSON.vote.phasesBlockHeights.commitEnd';\r\nconst revealStartPath = 'pollJSON.vote.phasesBlockHeights.revealStart';\r\nconst revealEndPath = 'pollJSON.vote.phasesBlockHeights.revealEnd';\r\nconst proposalPath = 'pollJSON.proposal';\r\nconst externalRefPath = 'pollJSON.proposal.externalRef';\r\nconst textPath = 'pollJSON.proposal.text';\r\nconst voteTypePath = 'pollJSON.vote.type';\r\nconst minOptionsPath = 'pollJSON.vote.config.minOptions';\r\nconst maxOptionsPath = 'pollJSON.vote.config.maxOptions';\r\nconst configPath = 'pollJSON.vote.config';\r\nconst optionsPath = 'pollJSON.vote.config.options';\r\nconst abstentionPath = 'pollJSON.vote.config.allowAbstention';\r\nconst computeResultsAgainstPath = 'pollJSON.vote.config.computeResultsAgainst';\r\nconst acceptanceCriteriaPath = 'pollJSON.vote.config.acceptanceCriteria';\r\nconst winnerCriteriaPath = 'pollJSON.vote.config.winnerCriteria';\r\nconst minSupportPath = 'pollJSON.vote.config.winnerCriteria.minSupport';\r\n\r\n// form specific fields\r\nconst commitStartDatePath = 'formFields.commitStartDate';\r\nconst commitEndDatePath = 'formFields.commitEndDate';\r\nconst revealStartDatePath = 'formFields.revealStartDate';\r\nconst revealEndDatePath = 'formFields.revealEndDate';\r\nconst voteTypeTextPath = 'formFields.voteTypeText';\r\nconst questionSourcePath = 'formFields.questionSource';\r\nconst workingOptionPath = 'formFields.workingOption';\r\nconst workingHrefPath = 'formFields.workingHref';\r\nconst workingHashValuePath = 'formFields.workingHashValue';\r\nconst workingHashAlgoPath = 'formFields.workingHashAlgo';\r\nconst workingTextPath = 'formFields.workingText';\r\nconst checkedTurnoutPath = 'formFields.checkedTurnout';\r\nconst workingWeightMinTurnoutPath = 'formFields.workingWeightMinTurnout';\r\nconst workingUnweightMinTurnoutPath = 'formFields.workingUnweightMinTurnout';\r\nconst requiredSupportPath = 'formFields.requiredSupport';\r\nconst workingWeightMinSupportPath = 'formFields.workingWeightMinSupport';\r\nconst workingUnweightMinSupportPath = 'formFields.workingUnweightMinSupport';\r\nconst workingMinSupportOptionPath = 'formFields.workingMinSupportOption';\r\n\r\nclass CreateVoteForm extends React.Component {\r\n\tstate = { currentHeight: null };\r\n\r\n\tasync componentDidMount() {\r\n\t\twindow.scrollTo(0, 0);\r\n\r\n\t\tconst tfaURL = this.props.networkController.networkProps.explorerApiURL;\r\n\r\n\t\tfetch(tfaURL + '/top')\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((data) => this.setState({ currentHeight: data.result.top }));\r\n\t}\r\n\r\n\thandleKeyPress(event) {\r\n\t\tif (event.target.type !== 'textarea' && event.which === 13 /* Enter */) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateWriteHeight = (currentHeight, writeHeight) => {\r\n\t\tlet validate = true;\r\n\t\tisNaN(writeHeight) ? (validate = false) : (validate = true);\r\n\t\tif (validate) {\r\n\t\t\twriteHeight <= currentHeight ? (validate = false) : (validate = true);\r\n\t\t}\r\n\r\n\t\treturn validate;\r\n\t};\r\n\r\n\tvalidateWorkingOption = (value, optionList) => {\r\n\t\tlet error;\r\n\r\n\t\tif (this.hasOption(value, optionList)) {\r\n\t\t\treturn 'Duplicate';\r\n\t\t}\r\n\r\n\t\treturn error;\r\n\t};\r\n\r\n\thasOption = (option, optionList) =>\r\n\t\toptionList.findIndex((value) => value === option) !== -1;\r\n\r\n\thandleTime = (value, path) => {\r\n\t\tthis.setFieldValue(\r\n\t\t\tpath,\r\n\t\t\tcalculateWriteHeight(this.state.currentHeight, value)\r\n\t\t);\r\n\t};\r\n\r\n\thandleBlock = (value, path) => {\r\n\t\tif (this.validateWriteHeight(this.state.currentHeight, value)) {\r\n\t\t\tthis.setFieldValue(\r\n\t\t\t\tpath,\r\n\t\t\t\tcalculateWriteTime(this.state.currentHeight, value)\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.setFieldValue(path, '');\r\n\t\t}\r\n\t};\r\n\r\n\tremoveOption = (\r\n\t\toption,\r\n\t\tindex,\r\n\t\tworkingMinSupportOption,\r\n\t\tarrayHelpers,\r\n\t\toptionsLength,\r\n\t\tminOptions,\r\n\t\tmaxOptions,\r\n\t\tvoteTypeText\r\n\t) => {\r\n\t\tarrayHelpers.remove(index);\r\n\t\tif (workingMinSupportOption === option) {\r\n\t\t\tthis.setFieldValue(workingMinSupportOptionPath, '');\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tvoteTypeText !== BINARY_CONFIG.name &&\r\n\t\t\tvoteTypeText !== SINGLE_OPTION_CONFIG.name\r\n\t\t) {\r\n\t\t\t// reset min/max options if needed\r\n\t\t\tif (minOptions > optionsLength) {\r\n\t\t\t\tthis.setFieldValue(minOptionsPath, '');\r\n\t\t\t}\r\n\t\t\tif (maxOptions > optionsLength) {\r\n\t\t\t\tthis.setFieldValue(maxOptionsPath, '');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tgetMinimumOptions = (optionsList) => {\r\n\t\tlet minOptionsList = [];\r\n\r\n\t\tfor (let ii = 1; ii <= optionsList.length; ii++) {\r\n\t\t\tminOptionsList.push({ value: ii, text: ii });\r\n\t\t}\r\n\r\n\t\treturn minOptionsList;\r\n\t};\r\n\r\n\tgetMaximumOptions = (optionsList, minOptionLength = 1) => {\r\n\t\tlet maxOptionsList = [];\r\n\r\n\t\tfor (let ii = minOptionLength; ii <= optionsList.length; ii++) {\r\n\t\t\tmaxOptionsList.push({ value: ii, text: ii });\r\n\t\t}\r\n\r\n\t\treturn maxOptionsList;\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { pollForm, updatePoll, classes, usePollTestData } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Formik\r\n\t\t\t\tenableReinitialize\r\n\t\t\t\tinitialValues={pollForm}\r\n\t\t\t\tvalidateOnChange={false}\r\n\t\t\t\tvalidationSchema={Yup.object().shape({\r\n\t\t\t\t\tpollJSON: Yup.object().shape({\r\n\t\t\t\t\t\tproposal: Yup.object().shape({\r\n\t\t\t\t\t\t\ttitle: Yup.string().required('Required'),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tvote: Yup.object().shape({\r\n\t\t\t\t\t\t\tphasesBlockHeights: Yup.object().shape({\r\n\t\t\t\t\t\t\t\tcommitStart: Yup.number()\r\n\t\t\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t\t\t.moreThan(\r\n\t\t\t\t\t\t\t\t\t\tthis.state.currentHeight,\r\n\t\t\t\t\t\t\t\t\t\t'Must be greater Current Height'\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\tcommitEnd: Yup.number()\r\n\t\t\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t\t\t.moreThan(\r\n\t\t\t\t\t\t\t\t\t\tYup.ref('commitStart'),\r\n\t\t\t\t\t\t\t\t\t\t'Must be greater than Commit Start Block'\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\trevealStart: Yup.number()\r\n\t\t\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t\t\t.moreThan(\r\n\t\t\t\t\t\t\t\t\t\tYup.ref('commitEnd'),\r\n\t\t\t\t\t\t\t\t\t\t'Must be greater than Commit End Block'\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\trevealEnd: Yup.number()\r\n\t\t\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t\t\t.moreThan(\r\n\t\t\t\t\t\t\t\t\t\tYup.ref('revealStart'),\r\n\t\t\t\t\t\t\t\t\t\t'Must be greater than Reveal Start Block'\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tconfig: Yup.object().shape({\r\n\t\t\t\t\t\t\t\toptions: Yup.array()\r\n\t\t\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t\t\t.min(2, '* Select at least two options'),\r\n\t\t\t\t\t\t\t\tminOptions: Yup.number()\r\n\t\t\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t\t\t.required('Required'),\r\n\t\t\t\t\t\t\t\tmaxOptions: Yup.number()\r\n\t\t\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t\t\t.required('Required'),\r\n\t\t\t\t\t\t\t\tallowAbstention: Yup.string().required('Required'),\r\n\t\t\t\t\t\t\t\tcomputeResultsAgainst: Yup.string().required('Required'),\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tformFields: Yup.object().shape({\r\n\t\t\t\t\t\tworkingWeightMinSupport: Yup.number()\r\n\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t.max(1, 'Too high')\r\n\t\t\t\t\t\t\t.min(0, 'Too low'),\r\n\t\t\t\t\t\tworkingUnweightMinSupport: Yup.number()\r\n\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t.max(1, 'Too high')\r\n\t\t\t\t\t\t\t.min(0, 'Too low'),\r\n\t\t\t\t\t\trequiredSupport: Yup.mixed().test(\r\n\t\t\t\t\t\t\t'support-test',\r\n\t\t\t\t\t\t\t'* Select weighted and/or unweighted ratio',\r\n\t\t\t\t\t\t\tfunction(value) {\r\n\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\tworkingWeightMinSupport,\r\n\t\t\t\t\t\t\t\t\tworkingUnweightMinSupport,\r\n\t\t\t\t\t\t\t\t} = this.parent;\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t!_isFinite(workingWeightMinSupport) &&\r\n\t\t\t\t\t\t\t\t\t!_isFinite(workingUnweightMinSupport)\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tvoteTypeText: Yup.string().required('Required'),\r\n\t\t\t\t\t\tquestionSource: Yup.string(),\r\n\t\t\t\t\t\tworkingText: Yup.string().when('questionSource', {\r\n\t\t\t\t\t\t\tis: 'text',\r\n\t\t\t\t\t\t\tthen: Yup.string().required('Required'),\r\n\t\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tworkingHref: Yup.string().when('questionSource', {\r\n\t\t\t\t\t\t\tis: 'href',\r\n\t\t\t\t\t\t\tthen: Yup.string()\r\n\t\t\t\t\t\t\t\t.required('Required')\r\n\t\t\t\t\t\t\t\t.url('Must be a valid URL'),\r\n\t\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tworkingHashValue: Yup.string().when('questionSource', {\r\n\t\t\t\t\t\t\tis: 'href',\r\n\t\t\t\t\t\t\tthen: Yup.string().required('Required'),\r\n\t\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tworkingHashAlgo: Yup.string().when('questionSource', {\r\n\t\t\t\t\t\t\tis: 'href',\r\n\t\t\t\t\t\t\tthen: Yup.string().required('Required'),\r\n\t\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tworkingMinSupportOption: Yup.string().when('voteTypeText', {\r\n\t\t\t\t\t\t\tis: BINARY_CONFIG.name,\r\n\t\t\t\t\t\t\tthen: Yup.string().required('Required'),\r\n\t\t\t\t\t\t\totherwise: Yup.string().notRequired(),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tworkingWeightMinTurnout: Yup.number()\r\n\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t.max(1, 'Too high')\r\n\t\t\t\t\t\t\t.min(0, 'Too low'),\r\n\t\t\t\t\t\tworkingUnweightMinTurnout: Yup.number()\r\n\t\t\t\t\t\t\t.transform((cv) => (isNaN(cv) ? undefined : cv))\r\n\t\t\t\t\t\t\t.max(1, 'Too high')\r\n\t\t\t\t\t\t\t.min(0, 'Too low'),\r\n\t\t\t\t\t\tcheckedTurnout: Yup.boolean().test(\r\n\t\t\t\t\t\t\t'turnout-test',\r\n\t\t\t\t\t\t\t'* Select weighted and/or unweighted ratio',\r\n\t\t\t\t\t\t\tfunction(value) {\r\n\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\tworkingWeightMinTurnout,\r\n\t\t\t\t\t\t\t\t\tworkingUnweightMinTurnout,\r\n\t\t\t\t\t\t\t\t} = this.parent;\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\tvalue &&\r\n\t\t\t\t\t\t\t\t\t!_isFinite(workingWeightMinTurnout) &&\r\n\t\t\t\t\t\t\t\t\t!_isFinite(workingUnweightMinTurnout)\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}),\r\n\t\t\t\t})}\r\n\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Handle text vs externalRef\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif (_get(values, questionSourcePath) === 'text') {\r\n\t\t\t\t\t\t// delete href\r\n\t\t\t\t\t\tvalues = _omit(values, externalRefPath);\r\n\r\n\t\t\t\t\t\t// add text config\r\n\t\t\t\t\t\t_get(values, proposalPath).text = _get(values, workingTextPath);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// delete text\r\n\t\t\t\t\t\tvalues = _omit(values, textPath);\r\n\r\n\t\t\t\t\t\t// add externalRef config\r\n\t\t\t\t\t\t_get(values, proposalPath).externalRef = {\r\n\t\t\t\t\t\t\thref: _get(values, workingHrefPath),\r\n\t\t\t\t\t\t\thash: {\r\n\t\t\t\t\t\t\t\tvalue: _get(values, workingHashValuePath),\r\n\t\t\t\t\t\t\t\talgo: _get(values, workingHashAlgoPath),\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Handle Acceptance Citeria\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif (_get(values, checkedTurnoutPath)) {\r\n\t\t\t\t\t\t// reset acceptance criteria\r\n\t\t\t\t\t\t_get(values, configPath).acceptanceCriteria = { minTurnout: {} };\r\n\r\n\t\t\t\t\t\t// handle weighted turnout\r\n\t\t\t\t\t\tif (_isFinite(_get(values, workingWeightMinTurnoutPath))) {\r\n\t\t\t\t\t\t\t_get(values, acceptanceCriteriaPath).minTurnout.weighted = _get(\r\n\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\tworkingWeightMinTurnoutPath\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// handle unweighted turnout\r\n\t\t\t\t\t\tif (_isFinite(_get(values, workingUnweightMinTurnoutPath))) {\r\n\t\t\t\t\t\t\t_get(values, acceptanceCriteriaPath).minTurnout.unweighted = _get(\r\n\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\tworkingUnweightMinTurnoutPath\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// no acceptance criteria\r\n\t\t\t\t\t\tvalues = _omit(values, acceptanceCriteriaPath);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Handle Winner Citeria\r\n\t\t\t\t\t */\r\n\r\n\t\t\t\t\t// reset winnerCriteria\r\n\t\t\t\t\t_get(values, configPath).winnerCriteria = { minSupport: {} };\r\n\r\n\t\t\t\t\tlet winnerCriteriaOption;\r\n\t\t\t\t\tif (_get(values, voteTypeTextPath) === BINARY_CONFIG.name) {\r\n\t\t\t\t\t\t// add criteria for specific option\r\n\t\t\t\t\t\twinnerCriteriaOption = _get(values, workingMinSupportOptionPath);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twinnerCriteriaOption = '*';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_get(values, minSupportPath)[winnerCriteriaOption] = {};\r\n\r\n\t\t\t\t\t// handle weighted support\r\n\t\t\t\t\tif (_isFinite(_get(values, workingWeightMinSupportPath))) {\r\n\t\t\t\t\t\t_get(values, winnerCriteriaPath).minSupport[\r\n\t\t\t\t\t\t\twinnerCriteriaOption\r\n\t\t\t\t\t\t].weighted = _get(values, workingWeightMinSupportPath);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// handle unweighted support\r\n\t\t\t\t\tif (_isFinite(_get(values, workingUnweightMinSupportPath))) {\r\n\t\t\t\t\t\t_get(values, winnerCriteriaPath).minSupport[\r\n\t\t\t\t\t\t\twinnerCriteriaOption\r\n\t\t\t\t\t\t].unweighted = _get(values, workingUnweightMinSupportPath);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// update Poll\r\n\t\t\t\t\tupdatePoll(values);\r\n\r\n\t\t\t\t\t// proceed to next page\r\n\t\t\t\t\tthis.props.handleNext();\r\n\t\t\t\t}}\r\n\t\t\t\trender={({\r\n\t\t\t\t\terrors,\r\n\t\t\t\t\ttouched,\r\n\t\t\t\t\tisSubmitting,\r\n\t\t\t\t\tvalues,\r\n\t\t\t\t\tsetFieldValue,\r\n\t\t\t\t\thandleChange,\r\n\t\t\t\t\tsubmitCount,\r\n\t\t\t\t\tsetFieldTouched,\r\n\t\t\t\t\tsetFieldError,\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tthis.setFieldValue = setFieldValue;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Form onKeyPress={this.handleKeyPress}>\r\n\t\t\t\t\t\t\t<Grid container className={classes.pad}>\r\n\t\t\t\t\t\t\t\t<Grid container item spacing={16} xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\tjustify=\"space-between\"\r\n\t\t\t\t\t\t\t\t\t\talignItems=\"flex-end\"\r\n\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\t\t\t\t\t\tdisableGutterBottom={true}\r\n\t\t\t\t\t\t\t\t\t\t\ttext=\"Configure Poll\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'inline' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={usePollTestData}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'inline' }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tUse Test Data\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCurrent Block Height: {this.state.currentHeight}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid container item xs={5}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={titlePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Title *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, titlePath) && _get(touched, titlePath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tspellCheck\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={TITLE_MAX_LENGTH}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormSelectField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={voteTypeTextPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Vote Type *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={VOTE_TYPE_VALUES}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, voteTypeTextPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, voteTypeTextPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth={215}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//update question type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//update dependent fields\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst newValue = e.target.value;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(workingMinSupportOptionPath, '');\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newValue === BINARY_CONFIG.name) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(voteTypePath, BINARY_CONFIG.type);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminOptionsPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBINARY_CONFIG.numOptions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxOptionsPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBINARY_CONFIG.numOptions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// abstention not allowed\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(abstentionPath, false);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// max two options allowed\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (_get(values, optionsPath).length > 2) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(optionsPath, []);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (newValue === SINGLE_OPTION_CONFIG.name) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvoteTypePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSINGLE_OPTION_CONFIG.type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminOptionsPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSINGLE_OPTION_CONFIG.numOptions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxOptionsPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSINGLE_OPTION_CONFIG.numOptions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (newValue === APPROVAL_CONFIG.name) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(voteTypePath, APPROVAL_CONFIG.type);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(minOptionsPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(maxOptionsPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (newValue === INSTANT_RUNOFF_CONFIG.name) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvoteTypePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tINSTANT_RUNOFF_CONFIG.type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(minOptionsPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(maxOptionsPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormSelectField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={computeResultsAgainstPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Compute Results Against *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={COMPUTE_AGAINST_VALUES}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, computeResultsAgainstPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, computeResultsAgainstPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth={215}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormSelectField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={abstentionPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Allow Abstention *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={ABSTENTION_VALUES}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, abstentionPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, abstentionPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, voteTypePath) === BINARY_CONFIG.type\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth={215}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid container item xs={7}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.blockFields}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={commitStartPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Commit Start Block *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, commitStartPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, commitStartPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleBlock(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcommitStartDatePath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={commitStartDatePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Estimated Date\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshrink={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={220}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleTime(e.target.value, commitStartPath);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldTouched(commitStartPath, true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.blockFields}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={commitEndPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Commit End Block *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, commitEndPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, commitEndPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleBlock(e.target.value, commitEndDatePath);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={commitEndDatePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Estimated Date\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshrink={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={220}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleTime(e.target.value, commitEndPath);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldTouched(commitEndPath, true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.blockFields}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={revealStartPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Reveal Start Block *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, revealStartPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, revealStartPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleBlock(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trevealStartDatePath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={revealStartDatePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Estimated Date\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshrink={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={220}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleTime(e.target.value, revealStartPath);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldTouched(revealStartPath, true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.blockFields}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={revealEndPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Reveal End Block *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, revealEndPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, revealEndPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleBlock(e.target.value, revealEndDatePath);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={revealEndDatePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Estimated Date\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshrink={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={220}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleTime(e.target.value, revealEndPath);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldTouched(revealEndPath, true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid container item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<SectionHeader disableGutterBottom={true} text=\"Question\" />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={questionSourcePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={_get(values, questionSourcePath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.value === 'text') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(workingHrefPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(workingHashValuePath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(workingHashAlgoPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(workingTextPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Plain Text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.raiseRadio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"href\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"External Proposal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t{_get(values, questionSourcePath) === 'text' && (\r\n\t\t\t\t\t\t\t\t\t\t<Grid item container xs={9}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={workingTextPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Question *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingTextPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingTextPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\tspellCheck\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={QUESTION_MAX_LENGTH}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{_get(values, questionSourcePath) === 'href' && (\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={9} container>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingHrefPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"URL Link *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingHrefPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingHrefPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormSelectField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingHashAlgoPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Hash Algorithm *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={HASH_ALGO_VALUES}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingHashAlgoPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingHashAlgoPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth={182}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingHashValuePath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Hash Value *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingHashValuePath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingHashValuePath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={8} item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<SectionHeader disableGutterBottom={true} text=\"Answers\" />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t{submitCount > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={optionsPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\trender={({ form }) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst error = _get(form.errors, optionsPath);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn error ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>{error}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Paper elevation={2} className={classes.pad}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={24}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<List className={classes.optionList} dense>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldArray\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={optionsPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={(arrayHelpers) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingOptionPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidate={(value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn this.validateWorkingOption(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, optionsPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"250px\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Option *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, optionsPath).length ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t2 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, voteTypePath) ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBINARY_CONFIG.type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingOptionPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingOptionPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.which === 13 /* Enter */ &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value.trim() &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_isNil(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateWorkingOption(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, optionsPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarrayHelpers.push(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, workingOptionPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// reset input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(workingOptionPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_isNil(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateWorkingOption(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, workingOptionPath),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, optionsPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarrayHelpers.push(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, workingOptionPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// reset input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(workingOptionPath, '');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!_get(values, workingOptionPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, optionsPath).length > 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? _get(values, optionsPath).map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(option, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableGutters\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdivider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.optionListItem}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LabelImportant\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 15 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText primary={option} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.removeOption(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toption,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingMinSupportOptionPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarrayHelpers,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, optionsPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.length - 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminOptionsPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxOptionsPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvoteTypeTextPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Clear\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Clear />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/**\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t * Minimum Options\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t * Maximum Options\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(_get(values, voteTypeTextPath) ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPPROVAL_CONFIG.name ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, voteTypeTextPath) ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tINSTANT_RUNOFF_CONFIG.name) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={8} item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelectField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={minOptionsPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Minimum Options Allowed *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, minOptionsPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, minOptionsPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={215}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={this.getMinimumOptions(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, optionsPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth=\"240px\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelectField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={maxOptionsPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Maximum Options Allowed *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, maxOptionsPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, maxOptionsPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={215}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={this.getMaximumOptions(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, optionsPath),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, minOptionsPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth=\"240px\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item container xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<SectionHeader text=\"Winner Criteria\" />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>Minimum Support *</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{submitCount > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, requiredSupportPath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(errors, requiredSupportPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingWeightMinSupportPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Weighted Ratio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"any\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingWeightMinSupportPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingWeightMinSupportPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth={138}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingUnweightMinSupportPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Unweighted Ratio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"any\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingUnweightMinSupportPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingUnweightMinSupportPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth={138}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{_get(values, voteTypePath) !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// vote type is selected\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(values, voteTypeTextPath) ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tBINARY_CONFIG.name ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// binary vote selected\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t!_isEmpty(_get(values, optionsPath)) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// options exist\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelectField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={workingMinSupportOptionPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Applies to option *\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={_get(values, optionsPath).map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn { value, text: value };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingMinSupportOptionPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingMinSupportOptionPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth={215}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Options Found\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tApplies to all options\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect a Vote Type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid container item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<SectionHeader\r\n\t\t\t\t\t\t\t\t\t\t\tdisableGutterBottom={true}\r\n\t\t\t\t\t\t\t\t\t\t\ttext=\"Acceptance Criteria\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid container item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={checkedTurnoutPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={checkedTurnoutPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={field.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst newValue = !_get(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckedTurnoutPath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(checkedTurnoutPath, newValue);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!newValue) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// reset turnout acceptance criteria\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingWeightMinTurnoutPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingUnweightMinTurnoutPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldError(checkedTurnoutPath, null);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldError(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingWeightMinTurnoutPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldError(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkingUnweightMinTurnoutPath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Minimum Turnout' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(_get(values, checkedTurnoutPath) ? ' *' : '')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{submitCount > 0 && _get(errors, checkedTurnoutPath) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.errorText}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{_get(errors, checkedTurnoutPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={workingWeightMinTurnoutPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={'Weighted Ratio'}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!_get(values, checkedTurnoutPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstep=\"any\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingWeightMinTurnoutPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingWeightMinTurnoutPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={138}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<FormTextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={workingUnweightMinTurnoutPath}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={'Unweighted Ratio'}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!_get(values, checkedTurnoutPath)}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstep=\"any\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(errors, workingUnweightMinTurnoutPath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(touched, workingUnweightMinTurnoutPath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNotFast\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={138}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: !_get(values, checkedTurnoutPath) ? 'gray' : '',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\t\txs={4}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\tApplies to all eligible voters.\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{/* <pre>{JSON.stringify(errors, null, 2)}</pre> */}\r\n\t\t\t\t\t\t\t\t{/* <pre>{JSON.stringify(values, null, 2)}</pre> */}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} className={classes.stepperButtons}>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<Button onClick={this.props.handleBack}>Back</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && errors && window.scrollTo(0, 0)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\nCreateVoteForm.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tpad: {\r\n\t\tpadding: 15,\r\n\t},\r\n\traiseRadio: {\r\n\t\tposition: 'relative',\r\n\t\ttop: '-16px',\r\n\t},\r\n\toptionList: {\r\n\t\toverflow: 'auto',\r\n\t},\r\n\toptionListItem: {\r\n\t\tpadding: '0px',\r\n\t\twordWrap: 'break-word',\r\n\t},\r\n\tstepperButtons: {\r\n\t\tmarginLeft: '-15px',\r\n\t},\r\n\terrorText: {\r\n\t\tcolor: 'red',\r\n\t\tfontSize: '16px',\r\n\t\tborderColor: 'red',\r\n\t\tborderStyle: 'solid',\r\n\t\tpadding: 8,\r\n\t\twidth: 200,\r\n\t},\r\n\tblockFields: {\r\n\t\tmarginLeft: '22px',\r\n\t},\r\n});\r\nfunction convertUTCToLocal(date) {\r\n\tvar newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\r\n\tvar offset = date.getTimezoneOffset() / 60;\r\n\tvar hours = date.getHours();\r\n\r\n\tnewDate.setHours(hours - offset);\r\n\r\n\treturn newDate;\r\n}\r\n\r\nfunction calculateWriteTime(currentHeight, writeHeight) {\r\n\tconst currentDate = new Date();\r\n\r\n\tconst blocks = writeHeight - currentHeight;\r\n\tconst minutes = blocks * 10;\r\n\r\n\tlet newDate = new Date(currentDate.getTime() + minutes * 60000);\r\n\r\n\t//format for date field\r\n\tnewDate = convertUTCToLocal(newDate);\r\n\tnewDate.setSeconds(0, 0);\r\n\tnewDate = newDate.toISOString().replace('Z', '');\r\n\r\n\treturn newDate;\r\n}\r\n\r\nfunction calculateWriteHeight(currentHeight, writeTime) {\r\n\tconst currentDate = new Date();\r\n\tconst writeDate = new Date(writeTime);\r\n\r\n\tconst diffMs = writeDate - currentDate;\r\n\tconst diffBlocks = diffMs / 60000 / 10;\r\n\tconst estWriteHeight = Math.round(currentHeight + diffBlocks);\r\n\r\n\treturn estWriteHeight;\r\n}\r\n\r\nconst enhancer = _flowRight(withNetwork, withStyles(styles));\r\nexport default enhancer(CreateVoteForm);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport EligibleVotersForm from './EligibleVotersForm.js';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport PreviewVote from './PreviewVote.js';\r\nimport FinalStep from './FinalStep.js';\r\nimport VoteConfiguration from './VoteConfiguration';\r\nimport CreateVoteForm from './CreateVoteForm';\r\n\r\nclass CreateVoteStepper extends React.Component {\r\n\tstate = {\r\n\t\tactiveStep: 0,\r\n\t};\r\n\r\n\thandleNext = () => {\r\n\t\tconst { activeStep } = this.state;\r\n\t\tthis.setState({\r\n\t\t\tactiveStep: activeStep + 1,\r\n\t\t});\r\n\t};\r\n\r\n\thandleBack = () => {\r\n\t\tconst { activeStep } = this.state;\r\n\t\tthis.setState({\r\n\t\t\tactiveStep: activeStep - 1,\r\n\t\t});\r\n\t};\r\n\r\n\tgetStepContent(stepIndex, createVoteSnapshot) {\r\n\t\tswitch (stepIndex) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<EligibleVotersForm\r\n\t\t\t\t\t\thandleNext={this.handleNext}\r\n\t\t\t\t\t\thandleBack={this.handleBack}\r\n\t\t\t\t\t\teligibleVotersForm={createVoteSnapshot.eligibleVotersForm}\r\n\t\t\t\t\t\tupdateParticipants={createVoteSnapshot.updateParticipants}\r\n\t\t\t\t\t\tuseEligibleVoterTestData={\r\n\t\t\t\t\t\t\tcreateVoteSnapshot.useEligibleVoterTestData\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase 1:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<CreateVoteForm\r\n\t\t\t\t\t\thandleNext={this.handleNext}\r\n\t\t\t\t\t\thandleBack={this.handleBack}\r\n\t\t\t\t\t\tupdatePoll={createVoteSnapshot.updatePoll}\r\n\t\t\t\t\t\tpollForm={createVoteSnapshot.pollForm}\r\n\t\t\t\t\t\tusePollTestData={createVoteSnapshot.usePollTestData}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase 2:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PreviewVote\r\n\t\t\t\t\t\thandleNext={this.handleNext}\r\n\t\t\t\t\t\thandleBack={this.handleBack}\r\n\t\t\t\t\t\tpoll={createVoteSnapshot.pollForm}\r\n\t\t\t\t\t\teligibleVoters={\r\n\t\t\t\t\t\t\tcreateVoteSnapshot.eligibleVotersForm.eligibleVoters\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tupdateCreatePollResult={createVoteSnapshot.updateCreatePollResult}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Content D';\r\n\t\t}\r\n\t}\r\n\r\n\tgetSteps() {\r\n\t\treturn ['Select Voters', 'Configure Poll', 'Preview & Sign'];\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst steps = this.getSteps();\r\n\t\tconst { activeStep } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<VoteConfiguration>\r\n\t\t\t\t{(createVoteSnapshot) => (\r\n\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t<Grid item xs={2} />\r\n\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t<Paper className={classes.pad}>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant=\"h4\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ opacity: '.6' }}\r\n\t\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCreate Poll\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Stepper activeStep={activeStep}>\r\n\t\t\t\t\t\t\t\t\t{steps.map((label) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel>{label}</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t\t{this.state.activeStep === steps.length ? (\r\n\t\t\t\t\t\t\t\t\t<FinalStep\r\n\t\t\t\t\t\t\t\t\t\tcreatePollResult={createVoteSnapshot.createPollResult}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.getStepContent(activeStep, createVoteSnapshot)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={2} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</VoteConfiguration>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCreateVoteStepper.propTypes = {\r\n\tclasses: PropTypes.object,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tpad: {\r\n\t\tpadding: '15px',\r\n\t},\r\n});\r\n\r\nexport default withStyles(styles)(CreateVoteStepper);\r\n","import { HashRouter as Router, Route } from 'react-router-dom';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport React, { Component } from 'react';\r\nimport { withWalletContext } from './context/WalletContext';\r\nimport WalletManager from './walletManager/WalletManager';\r\nimport AddInitialWallet from './addWallet/AddInitialWallet';\r\nimport VoteListing from './vote/listing/VoteListing';\r\n// import VoteTabContent from './vote/view/VoteTabContent';\r\nimport CreateVoteStepper from './vote/create/CreateVoteStepper';\r\n//import Help from './help/Help';\r\n//import ManageVoterList from './vote/voterList/ManageVoterList.js';\r\n//import LandingPage from './landingPage/LandingPage';\r\n//import Header from './header/Header';\r\n\r\nclass AppRouter extends Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\twalletController: {\r\n\t\t\t\treadyToManageWallet,\r\n\t\t\t\tisWalletEmpty,\r\n\t\t\t\tsetReadyToManageWallet,\r\n\t\t\t},\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Router>\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t\tpath=\"/\"\r\n\t\t\t\t\t\trender={() =>\r\n\t\t\t\t\t\t\treadyToManageWallet && !isWalletEmpty() ? (\r\n\t\t\t\t\t\t\t\t<WalletManager />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<AddInitialWallet\r\n\t\t\t\t\t\t\t\t\tsetReadyToManageWallet={setReadyToManageWallet}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/* <Route exact path=\"/vote\" component={VoteListing} /> */}\r\n\t\t\t\t\t{/* <Route exact path=\"/viewVote\" component={VoteTabContent} /> */}\r\n\t\t\t\t\t<Route exact path=\"/createVote\" component={CreateVoteStepper} />\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t<Route exact path=\"/manageVoters\" component={ManageVoterList} /> \r\n\t\t\t\t\t<Route exact path=\"/help\" component={Help} />\r\n\t\t\t\t\t<Route exact path=\"/\" component={LandingPage} />\r\n\t\t\t\t\t<Route path=\"/wallet/manage/\" component={WalletManager} />\r\n\t\t\t\t\t*/}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t</Router>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst enhancer = _flowRight(withWalletContext);\r\n\r\nexport default enhancer(AppRouter);\r\n","import React, { Component } from 'react';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport Header from './header/Header';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withRootTheme from './withRootTheme';\r\nimport WalletController from './context/WalletController';\r\nimport SeedController from './context/SeedController';\r\nimport FactomCliController from './context/FactomCliController';\r\nimport NetworkController from './context/NetworkController';\r\nimport LedgerController from './context/LedgerController';\r\nimport VoteController from './context/VoteController';\r\nimport Disclaimer from './Disclaimer';\r\nimport TestnetWarningBar from './TestnetWarningBar';\r\nimport AppRouter from './AppRouter';\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Router>\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<NetworkController>\r\n\t\t\t\t\t\t<FactomCliController>\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t{/* <Disclaimer /> */}\r\n\t\t\t\t\t\t\t\t<WalletController>\r\n\t\t\t\t\t\t\t\t\t<VoteController>\r\n\t\t\t\t\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t\t\t\t\t<SeedController>\r\n\t\t\t\t\t\t\t\t\t\t\t<LedgerController>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.body}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AppRouter />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TestnetWarningBar />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</LedgerController>\r\n\t\t\t\t\t\t\t\t\t\t</SeedController>\r\n\t\t\t\t\t\t\t\t\t</VoteController>\r\n\t\t\t\t\t\t\t\t</WalletController>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t</FactomCliController>\r\n\t\t\t\t\t</NetworkController>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t</Router>\r\n\t\t);\r\n\t}\r\n}\r\nApp.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nconst styles = (theme) => ({\r\n\tbody: {\r\n\t\twidth: '1200px',\r\n\t\tmargin: '0 auto',\r\n\t},\r\n});\r\n\r\nconst enhancer = _flowRight(withRootTheme, withStyles(styles));\r\n\r\nexport default enhancer(App);\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (!isLocalhost) {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      } else {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { unregister } from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nunregister();\r\n","import React from 'react';\r\n\r\nconst NetworkContext = React.createContext();\r\n\r\nconst withNetwork = (BaseComponent) => (props) => (\r\n\t<NetworkContext.Consumer>\r\n\t\t{(networkController) => (\r\n\t\t\t<BaseComponent {...props} networkController={networkController} />\r\n\t\t)}\r\n\t</NetworkContext.Consumer>\r\n);\r\n\r\nexport { NetworkContext, withNetwork };\r\n","import React from 'react';\r\n\r\nconst WalletContext = React.createContext();\r\n\r\nconst withWalletContext = (BaseComponent) => (props) => (\r\n\t<WalletContext.Consumer>\r\n\t\t{(walletController) => (\r\n\t\t\t<BaseComponent {...props} walletController={walletController} />\r\n\t\t)}\r\n\t</WalletContext.Consumer>\r\n);\r\n\r\nexport { WalletContext, withWalletContext };\r\n","module.exports = __webpack_public_path__ + \"static/media/headerLogo.e79a5c9c.png\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _flowRight from 'lodash/flowRight';\r\nimport { LedgerContext } from './LedgerContext';\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f';\r\nimport Fct from '@factoid.org/hw-app-fct';\r\nimport { withNetwork } from '../context/NetworkContext';\r\nimport { withWalletContext } from '../context/WalletContext';\r\nimport { Transaction } from 'factom/dist/factom';\r\n/**\r\n * Constants\r\n */\r\nconst BIP_32_COIN_TYPES = { fct: 131, ec: 132 };\r\n\r\nclass LedgerController extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tisLedgerConnected: this.isLedgerConnected,\r\n\t\t\tgetLedgerAddresses: this.getLedgerAddresses,\r\n\t\t\tsignWithLedger: this.signWithLedger,\r\n\t\t\tcheckAddress: this.checkAddress,\r\n\t\t};\r\n\t}\r\n\r\n\tgetLedgerAddresses = async (startIndex, amount, type) => {\r\n\t\tconst result = [];\r\n\r\n\t\tconst bip32Account = this.props.networkController.networkProps.bip32Account;\r\n\t\tconst coinType = BIP_32_COIN_TYPES[type];\r\n\r\n\t\tconst transport = await TransportU2F.create();\r\n\t\tconst ledger = new Fct(transport);\r\n\r\n\t\tfor (let index = startIndex; index < startIndex + amount; index++) {\r\n\t\t\tconst path = \"44'/\" + coinType + \"'/\" + bip32Account + \"'/0/\" + index;\r\n\t\t\tconst address_o = await ledger.getAddress(path);\r\n\r\n\t\t\tresult.push({ address: address_o.address, index });\r\n\t\t}\r\n\r\n\t\tconst addressList = await Promise.all(\r\n\t\t\tresult.map(this.props.walletController.updateWalletBalance)\r\n\t\t);\r\n\r\n\t\ttransport.close();\r\n\r\n\t\treturn addressList;\r\n\t};\r\n\r\n\tsignWithLedger = async ({ fromAddr, toAddr, amount, index }) => {\r\n\t\tlet signedTX = {};\r\n\t\tlet transport = await TransportU2F.create();\r\n\r\n\t\tconst bip32Account = this.props.networkController.networkProps.bip32Account;\r\n\t\tconst path = \"44'/131'/\" + bip32Account + \"'/0/\" + index;\r\n\r\n\t\tconst ledger = new Fct(transport);\r\n\r\n\t\tconst unsignedTX = Transaction.builder()\r\n\t\t\t.input(\r\n\t\t\t\tfromAddr,\r\n\t\t\t\tamount + (await this.props.walletController.getFactoshiFee())\r\n\t\t\t)\r\n\t\t\t.output(toAddr, amount)\r\n\t\t\t.build();\r\n\r\n\t\tconst result = await ledger.signTransaction(\r\n\t\t\tpath,\r\n\t\t\tunsignedTX.marshalBinarySig.toString('hex')\r\n\t\t);\r\n\r\n\t\tif (result) {\r\n\t\t\tsignedTX = Transaction.builder(unsignedTX)\r\n\t\t\t\t.rcdSignature(\r\n\t\t\t\t\tBuffer.from(result['r'], 'hex'),\r\n\t\t\t\t\tBuffer.from(result['s'], 'hex')\r\n\t\t\t\t)\r\n\t\t\t\t.build();\r\n\t\t}\r\n\t\ttransport.close();\r\n\t\treturn signedTX;\r\n\t};\r\n\r\n\tcheckAddress = async (activeFctWallet, type) => {\r\n\t\tconst bip32Account = this.props.networkController.networkProps.bip32Account;\r\n\t\tconst coinType = BIP_32_COIN_TYPES[type];\r\n\r\n\t\tconst path =\r\n\t\t\t\"44'/\" + coinType + \"'/\" + bip32Account + \"'/0/\" + activeFctWallet.index;\r\n\r\n\t\ttry {\r\n\t\t\tvar transport = await TransportU2F.create();\r\n\r\n\t\t\tconst ledger = new Fct(transport);\r\n\r\n\t\t\tawait ledger.getAddress(path, true);\r\n\r\n\t\t\ttransport.close();\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Failed getFctAddr from Ledger Nano S :', err);\r\n\t\t}\r\n\t};\r\n\r\n\tisLedgerConnected = async () => {\r\n\t\tlet result = false;\r\n\t\ttry {\r\n\t\t\tlet transport = await TransportU2F.create();\r\n\t\t\tconst ledger = new Fct(transport);\r\n\t\t\tawait ledger.getAppConfiguration();\r\n\r\n\t\t\tresult = true;\r\n\r\n\t\t\ttransport.close();\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('Transport Err:' + err);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<LedgerContext.Provider value={this.state}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</LedgerContext.Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nLedgerController.propTypes = {\r\n\tchildren: PropTypes.element.isRequired,\r\n};\r\n\r\nconst enhancer = _flowRight(withWalletContext, withNetwork);\r\n\r\nexport default enhancer(LedgerController);\r\n","import React from 'react';\r\n\r\nconst LedgerContext = React.createContext();\r\n\r\nconst withLedger = (BaseComponent) => (props) => (\r\n\t<LedgerContext.Consumer>\r\n\t\t{(ledgerController) => (\r\n\t\t\t<BaseComponent {...props} ledgerController={ledgerController} />\r\n\t\t)}\r\n\t</LedgerContext.Consumer>\r\n);\r\n\r\nexport { LedgerContext, withLedger };\r\n"],"sourceRoot":""}