(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return o});var n=a(0),r=a.n(n),l=r.a.createContext(),o=function(e){return function(t){return r.a.createElement(l.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{walletController:a}))})}}},32:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return o});var n=a(0),r=a.n(n),l=r.a.createContext(),o=function(e){return function(t){return r.a.createElement(l.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{networkController:a}))})}}},387:function(e,t,a){e.exports=a.p+"static/media/headerLogo.e79a5c9c.png"},400:function(e,t,a){"use strict";(function(e){var n=a(21),r=a.n(n),l=a(34),o=a(10),c=a(11),i=a(13),s=a(12),m=a(14),d=a(0),u=a.n(d),p=a(22),E=a.n(p),h=a(55),f=a(145),b=a.n(f),v=a(146),g=a.n(v),y=a(32),x=a(31),k=a(38),C={fct:131,ec:132},w=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(i.a)(this,Object(s.a)(a).call(this,t))).getLedgerAddresses=function(){var e=Object(l.a)(r.a.mark(function e(t,a,l){var o,c,i,s,m,d,u,p,E;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],c=n.props.networkController.networkProps.bip32Account,i=C[l],e.next=5,b.a.create();case 5:s=e.sent,m=new g.a(s),d=t;case 8:if(!(d<t+a)){e.next=17;break}return u="44'/"+i+"'/"+c+"'/0/"+d,e.next=12,m.getAddress(u);case 12:p=e.sent,o.push({address:p.address,index:d});case 14:d++,e.next=8;break;case 17:return e.next=19,Promise.all(o.map(n.props.walletController.updateWalletBalance));case 19:return E=e.sent,s.close(),e.abrupt("return",E);case 22:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),n.signWithLedger=function(){var t=Object(l.a)(r.a.mark(function t(a){var l,o,c,i,s,m,d,u,p,E,h;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=a.fromAddr,o=a.toAddr,c=a.amount,i=a.index,s={},t.next=4,b.a.create();case 4:return m=t.sent,d=n.props.networkController.networkProps.bip32Account,u="44'/131'/"+d+"'/0/"+i,p=new g.a(m),t.t0=k.Transaction.builder(),t.t1=l,t.t2=c,t.next=13,n.props.walletController.getFactoshiFee();case 13:return t.t3=t.sent,t.t4=t.t2+t.t3,t.t5=o,t.t6=c,E=t.t0.input.call(t.t0,t.t1,t.t4).output(t.t5,t.t6).build(),t.next=20,p.signTransaction(u,E.marshalBinarySig.toString("hex"));case 20:return(h=t.sent)&&(s=k.Transaction.builder(E).rcdSignature(e.from(h.r,"hex"),e.from(h.s,"hex")).build()),m.close(),t.abrupt("return",s);case 24:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n.checkAddress=function(){var e=Object(l.a)(r.a.mark(function e(t,a){var l,o,c,i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.props.networkController.networkProps.bip32Account,o=C[a],c="44'/"+o+"'/"+l+"'/0/"+t.index,e.prev=3,e.next=6,b.a.create();case 6:return i=e.sent,s=new g.a(i),e.next=10,s.getAddress(c,!0);case 10:i.close(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Failed getFctAddr from Ledger Nano S :",e.t0);case 16:case"end":return e.stop()}},e,this,[[3,13]])}));return function(t,a){return e.apply(this,arguments)}}(),n.isLedgerConnected=Object(l.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,b.a.create();case 4:return a=e.sent,n=new g.a(a),e.next=8,n.getAppConfiguration();case 8:t=!0,a.close(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Transport Err:"+e.t0);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}},e,this,[[1,12]])})),n.state={isLedgerConnected:n.isLedgerConnected,getLedgerAddresses:n.getLedgerAddresses,signWithLedger:n.signWithLedger,checkAddress:n.checkAddress},n}return Object(m.a)(a,t),Object(c.a)(a,[{key:"render",value:function(){return u.a.createElement(h.a.Provider,{value:this.state},this.props.children)}}]),a}(u.a.Component),S=E()(x.b,y.b);t.a=S(w)}).call(this,a(182).Buffer)},448:function(e,t,a){e.exports=a(875)},456:function(e,t,a){},55:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return o});var n=a(0),r=a.n(n),l=r.a.createContext(),o=function(e){return function(t){return r.a.createElement(l.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{ledgerController:a}))})}}},875:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(53),o=a.n(l),c=(a(456),a(10)),i=a(11),s=a(13),m=a(12),d=a(14),u=a(22),p=a.n(u),E=a(39),h=a.n(E),f=a(876),b=a(15),v=a.n(b),g=a(7),y=a(118),x=a(386),k=a.n(x),C=a(385),w=a.n(C),S=a(31),A=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.walletController.getActiveAddress,a=h()(t())?"/wallet/add":"/wallet/manage";return r.a.createElement("div",{className:e.body},r.a.createElement(y.a,{variant:"h5"},"Choose from the options below to get started"),r.a.createElement("br",null),r.a.createElement(v.a,{className:e.button,component:f.a,to:a,variant:"outlined",color:"primary"},"Factom Wallet\xa0\xa0",r.a.createElement(w.a,null)),r.a.createElement("br",null),r.a.createElement(v.a,{className:e.button,component:f.a,to:"/vote",variant:"outlined",color:"primary"},"Factom Vote\xa0",r.a.createElement(k.a,null)),r.a.createElement("br",null))}}]),t}(n.Component),O=Object(S.b)(Object(g.withStyles)(function(e){return{body:{textAlign:"center",width:"715px",margin:"0 auto",marginTop:"20px"},button:{width:"275px;",height:"50px",marginBottom:"15px"}}})(A)),N=a(189),F=a.n(N),j=a(141),T=a.n(j),B=a(4),P=a.n(B),I=a(59),L=a.n(I),V=a(387),D=a.n(V),R=a(72),W=a.n(R),K=a(60),M=a.n(K),J=a(194),q=a.n(J),H=a(272),z=a.n(H),G=a(19),U=a(6),Z=a(18),Q=a(35),_=a.n(Q);var Y=function(e){return r.a.createElement(P.a,{gutterBottom:!0,variant:"h6"},e.text)},X=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement(U.f,{initialValues:{host:"",port:""},onSubmit:function(e,a){console.log("Submitted"),t.props.handleCustomNode(e.host,e.port)},validationSchema:Z.object().shape((e={},Object(G.a)(e,"host",Z.string().required("Required")),Object(G.a)(e,"port",Z.string().required("Required")),e)),render:function(e){var n=e.isSubmitting,l=e.errors,o=e.touched;return r.a.createElement(U.e,{onKeyPress:t.handleKeyPress},r.a.createElement(Y,{text:"Custom Node Form",id:"modal-title"}),r.a.createElement($,{error:!(!l.host||!o.host),name:"host",label:"Host"}),r.a.createElement(U.a,{name:"host",render:function(e){return r.a.createElement("span",{className:a.errorText},e)}}),r.a.createElement($,{error:!(!l.port||!o.port),name:"port",label:"Port"}),r.a.createElement(U.a,{name:"port",render:function(e){return r.a.createElement("span",{className:a.errorText},e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},"Submit"))}})}}]),t}(r.a.Component),$=function(e){return r.a.createElement(U.c,{name:e.name},function(t){var a=t.field;return r.a.createElement(_.a,Object.assign({inputProps:{spellCheck:!1,maxLength:e.maxLength}},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,multiline:!0,error:e.error}))})},ee=Object(g.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}})(X),te=a(79),ae=a.n(te),ne=a(32),re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={voteAnchorEl:null,networkAnchorEl:null,network:"Testnet",openCustomNodeForm:!1},a.handleOpenCustomNodeForm=function(){a.setState({openCustomNodeForm:!0})},a.handleCloseCustomNodeForm=function(){a.setState({openCustomNodeForm:!1})},a.handleVoteClick=function(e){a.setState({voteAnchorEl:e.currentTarget})},a.handleVoteClose=function(){a.setState({voteAnchorEl:null})},a.handleNetworkClick=function(e){a.setState({networkAnchorEl:e.currentTarget})},a.handleNetworkClose=function(){a.setState({networkAnchorEl:null})},a.handleTestnet=function(){a.setState({networkAnchorEl:null,network:"Testnet"})},a.handleMainnet=function(){a.setState({networkAnchorEl:null,network:"Mainnet"})},a.handleCustomNode=function(e,t){console.log("Host: "+e),console.log("Port: "+t),a.setState({network:e+":"+t}),a.handleCloseCustomNodeForm()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.walletController.getActiveAddress,n=e.networkController.networkProps,l=this.state,o=l.voteAnchorEl,c=l.networkAnchorEl,i="testnet"===n.network,s=h()(a())?"#/wallet/add":"#/wallet/manage";return r.a.createElement(F.a,{position:"static",className:t.root},r.a.createElement(T.a,{className:t.toolbar},r.a.createElement(L.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(f.a,{to:"/"},r.a.createElement("img",{className:t.logo,src:D.a,alt:"logo"}))),r.a.createElement(P.a,{variant:"h6",className:t.flex},r.a.createElement(f.a,{className:t.menuText,to:"/"},"MyFactomWallet",i&&r.a.createElement("span",{className:t.testnetHeader},"\xa0\xa0TESTNET"))),r.a.createElement("div",null,r.a.createElement(v.a,{"aria-owns":o?"simple-vote-menu":null,"aria-haspopup":"true",onClick:this.handleVoteClick,className:t.menuText},"Vote",r.a.createElement(q.a,null)),r.a.createElement(W.a,{id:"simple-vote-menu",anchorEl:o,open:Boolean(o),onClose:this.handleVoteClose},r.a.createElement(M.a,{onClick:this.handleVoteClose,component:f.a,to:"/vote"},"View Polls"),r.a.createElement(M.a,{component:f.a,to:"/createVote",onClick:this.handleVoteClose},"Create Poll"))),r.a.createElement(v.a,{href:s,className:t.menuText},"Wallet"),r.a.createElement("div",{className:t.network},r.a.createElement(v.a,{"aria-owns":o?"simple-vote-menu":null,"aria-haspopup":"true",disableRipple:!0,className:t.menuText},"Node: ",this.state.network,"\xa0",r.a.createElement(z.a,{titleAccess:"Network Operational",style:{color:"green"}})),r.a.createElement(W.a,{id:"simple-vote-menu",anchorEl:c,open:Boolean(c),onClose:this.handleNetworkClose},r.a.createElement(M.a,{onClick:this.handleTestnet},"Testnet\xa0\xa0 ",r.a.createElement(z.a,{style:{color:"green"}}))),r.a.createElement(ae.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openCustomNodeForm,onClose:this.handleCloseCustomNodeForm},r.a.createElement("div",{className:t.modalContent},r.a.createElement(ee,{handleCustomNode:this.handleCustomNode}))))))}}]),t}(r.a.Component),le=p()(ne.b,S.b,Object(g.withStyles)(function(e){return{root:{flexGrow:1,marginBottom:"15px"},toolbar:{width:"90%",margin:"0 auto"},flex:{flex:1},menuButton:{marginTop:3,marginRight:10},logo:{width:"39px"},menuText:{color:"white"},network:{borderStyle:"solid",borderWidth:"1px",color:"green"},subMenuText:{color:"black"},modalContent:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},testnetHeader:{color:"#f50057"}}}))(re),oe=a(50),ce=a.n(oe),ie=a(40),se=a.n(ie),me=a(114),de=a.n(me),ue=a(115),pe=a.n(ue),Ee=a(116),he=a.n(Ee),fe=a(3),be=a.n(fe),ve=a(56),ge=a.n(ve),ye=a(81),xe=a.n(ye),ke=a(37),Ce=a.n(ke),we=a(71),Se=a.n(we),Ae=a(140),Oe=a.n(Ae),Ne=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.importType,l=t.networkController.networkProps;return r.a.createElement(U.f,{initialValues:Object(G.a)({},"importType",n),onSubmit:function(t,a){e.props.handleNext()},validationSchema:Z.object().shape(Object(G.a)({},"importType",Z.string().required("Required"))),render:function(t){var n=t.values,o=t.handleChange,c=t.isSubmitting,i=t.errors,s=t.touched;return r.a.createElement(U.e,{onKeyPress:e.handleKeyPress},r.a.createElement(Se.a,{error:!(!be()(i,"importType")||!be()(s,"importType")),component:"fieldset"},r.a.createElement(Oe.a,{component:"legend"},"How would you like to add a new address?",r.a.createElement(U.a,{name:"importType",render:function(){return r.a.createElement("span",{className:a.errorText},"\xa0*")}})),r.a.createElement(xe.a,{"aria-label":"Import Type",name:"importType",value:be()(n,"importType"),onChange:function(t){o(t),e.props.updateImportType(t.target.value)}},function(e){return[{value:"fct",label:"Import "+e.factoidAbbreviationFull+" Address"},{value:"ec",label:"Import "+e.ecAbbreviationFull+" Address"},{value:"new",label:"Generate new 12-word seed"},{value:"importSeed",label:"Import addresses from 12-word seed"},{value:"ledger",label:"Import addresses from Ledger Nano S"}]}(l).map(function(e,t){return r.a.createElement(Ce.a,{key:t,value:e.value,control:r.a.createElement(ge.a,null),label:e.label,disabled:e.disabled})}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(v.a,{disabled:!0},"Back"),r.a.createElement(v.a,{type:"submit",disabled:c,variant:"contained",color:"primary"},"Next")))}})}}]),t}(r.a.Component),Fe=p()(ne.b,Object(g.withStyles)(function(e){return{errorText:{color:"red"}}}))(Ne),je=a(38),Te=a(86),Be=a.n(Te),Pe="factoidAddress",Ie=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.classes,l=a.walletController,o=l.getFactoidAddresses,c=l.newStandardAddress,i=l.addAddress,s=a.networkController.networkProps,m=o();return r.a.createElement(U.f,{initialValues:{factoidAddress:"",nickname:""},onSubmit:function(e,a){var n=c(be()(e,Pe),be()(e,"nickname"));i(n,"fct"),t.props.handleNext()},validationSchema:Z.object().shape((e={},Object(G.a)(e,Pe,Z.string().required("Required").test(Pe,"Invalid Address",je.isValidFctPublicAddress).test(Pe,"Enter unique address",function(e){return-1===Be()(m,["address",e])})),Object(G.a)(e,"nickname",Z.string().trim().required("Required").test("nickname","Enter unique nickname",function(e){return-1===Be()(m,["nickname",e])})),e)),render:function(e){var a=e.isSubmitting,l=e.errors,o=e.touched;return r.a.createElement(U.e,{onKeyPress:t.handleKeyPress},r.a.createElement(Le,{error:!(!l.factoidAddress||!o.factoidAddress),name:Pe,label:"Public "+s.factoidAbbreviationFull+" Address",maxLength:52}),r.a.createElement(U.a,{name:Pe,render:function(e){return r.a.createElement("span",{className:n.errorText},e)}}),r.a.createElement(Le,{error:!(!l.nickname||!o.nickname),name:"nickname",label:"Nickname",maxLength:25}),r.a.createElement(U.a,{name:"nickname",render:function(e){return r.a.createElement("span",{className:n.errorText},e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:t.props.handleBack},"Back"),r.a.createElement(v.a,{type:"submit",disabled:a,variant:"contained",color:"primary"},"Submit")))}})}}]),t}(r.a.Component),Le=function(e){return r.a.createElement(U.c,{name:e.name},function(t){var a=t.field;return r.a.createElement(_.a,Object.assign({inputProps:{spellCheck:!1,maxLength:e.maxLength}},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,multiline:!0,error:e.error}))})},Ve=p()(ne.b,S.b,Object(g.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}}))(Ie),De=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.classes,l=a.walletController,o=l.getEntryCreditAddresses,c=l.newStandardAddress,i=l.addAddress,s=a.networkController.networkProps,m=o();return r.a.createElement(U.f,{initialValues:{entryCreditAddress:"",nickname:""},onSubmit:function(e,a){var n=c(be()(e,"entryCreditAddress"),be()(e,"nickname"));i(n,"ec"),t.props.handleNext()},validationSchema:Z.object().shape((e={},Object(G.a)(e,"entryCreditAddress",Z.string().required("Required").test("entryCreditAddress","Invalid Address",je.isValidEcPublicAddress).test("entryCreditAddress","Enter unique address",function(e){return-1===Be()(m,["address",e])})),Object(G.a)(e,"nickname",Z.string().trim().required("Required").test("nickname","Enter unique nickname",function(e){return-1===Be()(m,["nickname",e])})),e)),render:function(e){var a=e.isSubmitting,l=e.errors,o=e.touched;return r.a.createElement(U.e,{onKeyPress:t.handleKeyPress},r.a.createElement(Re,{error:!(!l.entryCreditAddress||!o.entryCreditAddress),name:"entryCreditAddress",label:"Public "+s.ecAbbreviationFull+" Address",helperText:"test",maxLength:52}),r.a.createElement(U.a,{name:"entryCreditAddress",render:function(e){return r.a.createElement("span",{className:n.errorText},e)}}),r.a.createElement(Re,{error:!(!l.nickname||!o.nickname),name:"nickname",label:"Nickname",maxLength:25}),r.a.createElement(U.a,{name:"nickname",render:function(e){return r.a.createElement("span",{className:n.errorText},e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:t.props.handleBack},"Back"),r.a.createElement(v.a,{type:"submit",disabled:a,variant:"contained",color:"primary"},"Submit")))}})}}]),t}(r.a.Component),Re=function(e){return r.a.createElement(U.c,{name:e.name},function(t){var a=t.field;return r.a.createElement(_.a,Object.assign({inputProps:{spellCheck:!1,maxLength:e.maxLength}},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,multiline:!0,error:e.error}))})},We=p()(ne.b,S.b,Object(g.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}}))(De),Ke=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={step:1},a.nextStep=function(){a.setState({step:2})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.setMnemonic(this.props.walletController.getRandomMnemonic())}},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(U.f,{initialValues:Object(G.a)({},"mnemonic",""),onSubmit:function(t,a){e.props.handleNext()},validationSchema:Z.object().shape(Object(G.a)({},"mnemonic",Z.string().required("Required").oneOf([this.props.mnemonic],"Seed does not match"))),render:function(a){var n=a.isSubmitting,l=a.errors,o=a.touched;return r.a.createElement(U.e,{onKeyPress:e.handleKeyPress,style:{width:"500px"}},1===e.state.step&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{style:{fontWeight:500},className:t.warningText},"Write down your seed carefully on a piece of paper. If you lose this seed, you will lose access to your addresses forever!"),r.a.createElement("br",null),r.a.createElement(P.a,{style:{fontWeight:500}},"Seed Phrase:"),r.a.createElement(P.a,null,e.props.mnemonic)),2===e.state.step&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,{error:!(!be()(l,"mnemonic")||!be()(o,"mnemonic")),name:"mnemonic",label:"Verify Seed Phrase"}),r.a.createElement(U.a,{name:"mnemonic",render:function(e){return r.a.createElement("span",{className:t.errorText},e)}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:function(){e.props.setMnemonic(null),e.props.handleBack()}},"Back"),1===e.state.step&&r.a.createElement(v.a,{onClick:e.nextStep,variant:"contained",color:"primary"},"Verify Seed"),2===e.state.step&&r.a.createElement(v.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},"Next")))}})}}]),t}(r.a.Component),Me=function(e){return r.a.createElement(U.c,{name:e.name},function(t){var a=t.field;return r.a.createElement(_.a,Object.assign({},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,multiline:!0,error:e.error}))})},Je=p()(S.b,Object(g.withStyles)(function(e){return{warningText:{color:"red",fontSize:"15px"},errorText:{color:"red"}}}))(Ke),qe=a(21),He=a.n(qe),ze=a(73),Ge=a(34),Ue=a(55),Ze=a(64),Qe=a.n(Ze),_e=a(117),Ye=a.n(_e),Xe=a(33),$e=a.n(Xe),et=a(82),tt=a.n(et),at=a(84),nt=a.n(at),rt=a(30),lt=a.n(rt),ot=a(83),ct=a.n(ot),it=a(63),st=a.n(it),mt=a(190),dt=a.n(mt),ut=a(85),pt=a.n(ut),Et=function(e){var t=e.balance;return(1e-8*parseInt(t,10)).toLocaleString(void 0,{maximumFractionDigits:8})+" "+e.networkProps.factoidAbbreviation},ht=function(e){var t=e.balance;return parseInt(t,10)+" "+e.networkProps.ecAbbreviation},ft=p()(ne.b)(function(e){var t=e.balance,a=e.type,n=e.networkController.networkProps;return"fct"===a?r.a.createElement(Et,{balance:t,networkProps:n}):"ec"===a?r.a.createElement(ht,{balance:t,networkProps:n}):void 0}),bt=a(54),vt=a.n(bt),gt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).addGeneratedAddress=Ye()(function(e,t,n){if(e){var r=a.props.newAddress(t.address,e.trim(),t.index);n.replace(t.index,r)}else n.replace(t.index,null)},150),a.validateNickname=function(e){var t,n=a.props.userAddressList.map(function(e){return e.nickname});return e?-1!==n.indexOf(e)&&(t="Enter unique nickname"):t="Required",t},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.generatedAddressList,l=t.userAddressList,o=t.getNextFive,c=t.values,i=t.errors,s=t.touched,m=t.setFieldValue,d=t.handleChange,u=l.map(function(e){return e.address});return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{variant:"h6"},this.props.title),r.a.createElement(U.a,{name:"addresses",render:function(e){return r.a.createElement("span",{className:a.errorText},r.a.createElement("br",null),e)}}),r.a.createElement($e.a,{className:a.root},r.a.createElement(tt.a,null,r.a.createElement(ct.a,null,r.a.createElement(st.a,null,r.a.createElement(yt,null),r.a.createElement(yt,null,"Address"),r.a.createElement(yt,null,"Balance"),r.a.createElement(yt,null,"Nickname"))),r.a.createElement(nt.a,null,!Qe()(n)&&n.map(function(t){var n="checkbox_"+t.index,o="nickname_"+t.index,p=-1!==u.indexOf(t.address);return r.a.createElement(st.a,{key:t.index},r.a.createElement(U.d,{name:"addresses",render:function(u){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,null,p?r.a.createElement(pt.a,{title:"Address already added"},r.a.createElement(Ce.a,{control:r.a.createElement(vt.a,{checked:!0,disabled:!0,name:n,color:"primary"}),label:t.index+1,labelPlacement:"start"})):r.a.createElement(U.c,{name:n,render:function(e){e.field,e.form;return r.a.createElement(Ce.a,{control:r.a.createElement(vt.a,{name:n,color:"primary",onChange:function(e){u.replace(t.index,null),m(o,""),d(e)}}),label:t.index+1,labelPlacement:"start"})}})),r.a.createElement(yt,null,t.address),r.a.createElement(yt,null,r.a.createElement(ft,{balance:t.balance,type:e.props.type})),r.a.createElement(yt,null,p?l.find(function(e){return e.address===t.address}).nickname:r.a.createElement(r.a.Fragment,null,be()(c,n)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.c,{name:o,validate:e.validateNickname},function(a){var n=a.field;return r.a.createElement(_.a,Object.assign({},n,{onChange:function(a){d(a),e.addGeneratedAddress(a.target.value,t,u)},margin:"dense",fullWidth:!0,multiline:!0,error:!(!i[o]||!s[o])}))}),r.a.createElement(U.a,{name:o,render:function(e){return r.a.createElement("span",{className:a.errorTextSmall},e)}})))))}}))})),r.a.createElement(dt.a,null))),r.a.createElement("br",null),r.a.createElement(v.a,{type:"button",onClick:function(){return o(n.length)},variant:"outlined",color:"primary"},"Load Five More"))}}]),t}(r.a.Component),yt=Object(g.withStyles)(function(e){return{head:{color:"black",fontSize:"13px",paddingLeft:5,paddingRight:5},body:{paddingLeft:5,paddingRight:5}}})(lt.a),xt=Object(g.withStyles)(function(e){return{root:{width:"800px",marginTop:12,overflowX:"auto",maxHeight:405},head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},errorText:{color:"red",fontSize:"20px"},errorTextSmall:{color:"red",fontSize:"12px"}}})(gt),kt=a(61),Ct=a.n(kt),wt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getNextFive=function(){var e=Object(Ge.a)(He.a.mark(function e(t){var n;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.ledgerController.getLedgerAddresses(t,5,a.props.type);case 3:n=e.sent,a.setState(function(e){return{generatedAddressList:Object(ze.a)(e.generatedAddressList).concat(Object(ze.a)(n)),ledgerConnected:!0}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),a.setState({ledgerStatus:"Ledger Nano S not found. Please go back and try again.",ledgerConnected:!1});case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.hasAddressSelected=function(e){return Object.keys(e).filter(function(e){return e.startsWith("checkbox")}).some(function(t){return e[t]})},a.state={generatedAddressList:[],ledgerConnected:!1,ledgerStatus:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getNextFive(0)}},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.walletController,l=n.getAddresses,o=n.addAddresses,c=n.newLedgerAddress,i=t.networkController.networkProps,s=l(a);return r.a.createElement(U.f,{enableReinitialize:!0,initialValues:{addresses:[],ledgerConnected:this.state.ledgerConnected,ledgerStatus:this.state.ledgerStatus},onSubmit:function(){var t=Object(Ge.a)(He.a.mark(function t(a,n){var r,l,c,i,s,m,d;return He.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],l=!0,c=!1,i=void 0,t.prev=4,s=be()(a,"addresses")[Symbol.iterator]();!(l=(m=s.next()).done);l=!0)d=m.value,h()(d)||r.push(d);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),c=!0,i=t.t0;case 12:t.prev=12,t.prev=13,l||null==s.return||s.return();case 15:if(t.prev=15,!c){t.next=18;break}throw i;case 18:return t.finish(15);case 19:return t.finish(12);case 20:o(r,e.props.type),e.props.handleNext();case 22:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(e,a){return t.apply(this,arguments)}}(),validationSchema:Z.object().shape({}),render:function(t){var n=t.isSubmitting,l=t.errors,o=t.touched,m=t.values,d=t.setFieldValue,u=t.handleChange;return r.a.createElement(U.e,{onKeyPress:e.handleKeyPress},m.ledgerConnected?r.a.createElement(r.a.Fragment,null,r.a.createElement(xt,{title:function(e){return{fct:"Ledger Nano S "+e.factoidAbbreviationFull+" Addresses",ec:"Ledger Nano S "+e.ecAbbreviationFull+" Addresses"}}(i)[a],type:a,generatedAddressList:e.state.generatedAddressList,userAddressList:s,getNextFive:e.getNextFive,newAddress:c,values:m,errors:l,touched:o,setFieldValue:d,handleChange:u})):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),h()(m.ledgerStatus)?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement("b",null,"Connect your Ledger")),r.a.createElement(Ct.a,{thickness:7})):m.ledgerStatus),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:e.props.handleBack},"Back"),r.a.createElement(v.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},e.hasAddressSelected(m)?"Add and Continue":"Skip")))}})}}]),t}(r.a.Component),St=p()(ne.b,Ue.b,S.b,Object(g.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}}))(wt),At=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getNextFive=function(){var e=Object(Ge.a)(He.a.mark(function e(t){var n;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.walletController.getSeedAddresses(a.props.mnemonic,t,5,a.props.type);case 2:n=e.sent,a.setState(function(e){return{generatedAddressList:Object(ze.a)(e.generatedAddressList).concat(Object(ze.a)(n))}});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.hasAddressSelected=function(e){return Object.keys(e).filter(function(e){return e.startsWith("checkbox")}).some(function(t){return e[t]})},a.state={generatedAddressList:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getNextFive(0)}},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.walletController,l=n.getAddresses,o=n.addAddresses,c=n.newSeedAddress,i=t.networkController.networkProps,s=l(a);return r.a.createElement(U.f,{enableReinitialize:!0,initialValues:Object(G.a)({},"addresses",[]),onSubmit:function(){var t=Object(Ge.a)(He.a.mark(function t(a,n){var r,l,c,i,s,m,d;return He.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],l=!0,c=!1,i=void 0,t.prev=4,s=be()(a,"addresses")[Symbol.iterator]();!(l=(m=s.next()).done);l=!0)d=m.value,h()(d)||r.push(d);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),c=!0,i=t.t0;case 12:t.prev=12,t.prev=13,l||null==s.return||s.return();case 15:if(t.prev=15,!c){t.next=18;break}throw i;case 18:return t.finish(15);case 19:return t.finish(12);case 20:o(r,e.props.type),e.props.handleNext();case 22:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(e,a){return t.apply(this,arguments)}}(),validationSchema:Z.object().shape({}),render:function(t){var n=t.isSubmitting,l=t.errors,o=t.touched,m=t.values,d=t.setFieldValue,u=t.handleChange;return r.a.createElement(U.e,{onKeyPress:e.handleKeyPress},r.a.createElement(xt,{title:function(e){return{fct:e.factoidAbbreviationFull+" Addresses",ec:e.ecAbbreviationFull+" Addresses"}}(i)[a],type:a,generatedAddressList:e.state.generatedAddressList,userAddressList:s,getNextFive:e.getNextFive,newAddress:c,values:m,errors:l,touched:o,setFieldValue:d,handleChange:u}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,e.props.handleBack&&r.a.createElement(v.a,{onClick:e.props.handleBack},"Back"),r.a.createElement(v.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},e.hasAddressSelected(m)?"Add and Continue":"Skip")))}})}}]),t}(r.a.Component),Ot=p()(ne.b,S.b,Object(g.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}}))(At),Nt=a(98),Ft=a.n(Nt),jt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(U.f,{initialValues:Object(G.a)({},"mnemonic",""),onSubmit:function(t,a){e.props.setMnemonic(be()(t,"mnemonic")),e.props.handleNext()},validationSchema:Z.object().shape(Object(G.a)({},"mnemonic",Z.string().required("Required").test("mnemonic","Invalid Seed Phrase",Ft.a.validMnemonic))),render:function(a){var n=a.isSubmitting,l=a.errors,o=a.touched;return r.a.createElement(U.e,{onKeyPress:e.handleKeyPress,style:{width:"500px"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt,{error:!(!be()(l,"mnemonic")||!be()(o,"mnemonic")),name:"mnemonic",label:"Seed Phrase",placeholder:"Enter Seed Phrase"}),r.a.createElement(U.a,{name:"mnemonic",render:function(e){return r.a.createElement("span",{className:t.errorText},e)}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:function(){e.props.setMnemonic(null),e.props.handleBack()}},"Back"),r.a.createElement(v.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},"Next")))}})}}]),t}(r.a.Component),Tt=function(e){return r.a.createElement(U.c,{name:e.name},function(t){var a=t.field;return r.a.createElement(_.a,Object.assign({},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,multiline:!0,error:e.error}))})},Bt=p()(S.b,Object(g.withStyles)(function(e){return{warningText:{color:"red",fontSize:"15px"},errorText:{color:"red"}}}))(jt),Pt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={mnemonic:null},a.setMnemonic=function(e){a.setState({mnemonic:e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){switch(this.props.activeStep){case 0:return r.a.createElement(Fe,{handleNext:this.props.handleNext,importType:this.props.importType,updateImportType:this.props.updateImportType});case 1:if("fct"===this.props.importType)return r.a.createElement(Ve,{handleNext:this.props.handleNext,handleBack:this.props.handleBack});if("ec"===this.props.importType)return r.a.createElement(We,{handleNext:this.props.handleNext,handleBack:this.props.handleBack});if("new"===this.props.importType)return r.a.createElement(Je,{setMnemonic:this.setMnemonic,mnemonic:this.state.mnemonic,handleNext:this.props.handleNext,handleBack:this.props.handleBack});if("importSeed"===this.props.importType)return r.a.createElement(Bt,{setMnemonic:this.setMnemonic,handleNext:this.props.handleNext,handleBack:this.props.handleBack});if("ledger"===this.props.importType)return r.a.createElement(St,{handleNext:this.props.handleNext,handleBack:this.props.handleBack,type:"fct",key:"fctLedgerForm"});break;case 2:if("new"===this.props.importType||"importSeed"===this.props.importType)return r.a.createElement(Ot,{mnemonic:this.state.mnemonic,handleNext:this.props.handleNext,type:"fct",key:"fctSeedForm"});if("ledger"===this.props.importType)return r.a.createElement(St,{handleNext:this.props.handleNext,handleBack:this.props.handleBack,type:"ec",key:"ecLedgerForm"});break;case 3:if("new"===this.props.importType||"importSeed"===this.props.importType)return r.a.createElement(Ot,{mnemonic:this.state.mnemonic,handleNext:this.props.handleNext,handleBack:this.props.handleBack,type:"ec",key:"ecSeedForm"});break;default:return"Unknown step"}}}]),t}(r.a.Component),It=function(){return["Import Method","Address details"]},Lt=function(e){return["Import Method","Seed Value",e.factoidAbbreviation,e.ecAbbreviation]},Vt={importSeed:Lt,new:Lt,ledger:function(e){return["Import Method",e.factoidAbbreviation,e.ecAbbreviation]},fct:It,ec:It},Dt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).initialState={activeStep:0,importType:"fct",getSteps:It},a.state=a.initialState,a.updateImportType=function(e){a.setState({importType:e,getSteps:Vt[e]})},a.handleNext=function(){a.setState(function(e){return{activeStep:e.activeStep+1}})},a.handleBack=function(){a.setState(function(e){return{activeStep:e.activeStep-1}})},a.handleReset=function(){a.setState(a.initialState)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleCloseText,n=e.networkController.networkProps,l=this.state.activeStep,o=this.state.getSteps(n);return r.a.createElement($e.a,{className:t.paper},r.a.createElement(Y,{text:"Add Address",id:"modal-title"}),r.a.createElement(de.a,{activeStep:l,className:t.stepper},o.map(function(e,t){return r.a.createElement(pe.a,Object.assign({key:e},{}),r.a.createElement(he.a,{},e))})),r.a.createElement(r.a.Fragment,null,l===o.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(P.a,{variant:"subtitle1",gutterBottom:!0},"Address(es) have successfully been added."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:this.handleReset},"Add Another"),r.a.createElement(v.a,{onClick:this.props.handleClose,variant:"contained",color:"primary"},a))):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Pt,{activeStep:l,updateImportType:this.updateImportType,handleNext:this.handleNext,handleBack:this.handleBack,importType:this.state.importType}))))}}]),t}(r.a.Component),Rt=p()(ne.b,Object(g.withStyles)(function(e){return{stepper:{backgroundColor:"#eeeeee"},paper:{minWidth:525,padding:4*e.spacing.unit,minHeight:300}}}))(Dt),Wt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.center},r.a.createElement(v.a,{onClick:this.handleOpen,className:e.button,variant:"outlined",color:"primary"},"Add Address"),r.a.createElement(ae.a,{"aria-labelledby":"modal-title",open:this.state.open,onClose:this.handleClose},r.a.createElement("div",{className:e.modalContent},r.a.createElement(Rt,{handleClose:this.handleClose,handleCloseText:"Exit"}))))}}]),t}(r.a.Component),Kt=Object(g.withStyles)(function(e){return{modalContent:{position:"absolute",boxShadow:e.shadows[5],top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:"490px"},button:{width:"275px;",height:"50px",marginBottom:"15px"},center:{margin:"0 auto"}}})(Wt),Mt=a(142),Jt=a.n(Mt),qt=a(143),Ht=a.n(qt),zt=a(1),Gt=a.n(zt),Ut=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.walletController,n=a.getEntryCreditAddresses,l=a.getFactoidAddresses,o=a.activeAddressIndex_o,c=a.selectAddress,i=e.networkController.networkProps,s=n(),m=l(),d=m.map(function(e,a){var n=o.index===a&&"fct"===o.type,l=n?{fontWeight:500}:{};return r.a.createElement(Jt.a,{key:a,expanded:n,onClick:function(){return c(a,"fct")},className:n?t.expanded:""},r.a.createElement(Ht.a,null,r.a.createElement(Gt.a,{container:!0,justify:"space-between"},r.a.createElement(Gt.a,{item:!0},r.a.createElement(P.a,{className:t.break,style:l},e.nickname)),!h()(e.balance)&&r.a.createElement(Gt.a,{item:!0},r.a.createElement(P.a,{className:t.break},r.a.createElement(ft,{balance:e.balance,type:"fct"}))))))}),u=s.map(function(e,a){var n=o.index===a&&"ec"===o.type,l=n?{fontWeight:500}:{};return r.a.createElement(Jt.a,{key:a,expanded:n,onClick:function(){return c(a,"ec")},className:n?t.expanded:""},r.a.createElement(Ht.a,null,r.a.createElement(Gt.a,{container:!0,item:!0,xs:12,justify:"space-between"},r.a.createElement(Gt.a,{item:!0},r.a.createElement(P.a,{className:t.break,style:l},e.nickname)),!h()(e.balance)&&r.a.createElement(Gt.a,{item:!0},r.a.createElement(P.a,{className:t.break},r.a.createElement(ft,{balance:e.balance,type:"ec"}))))))});return r.a.createElement(r.a.Fragment,null,!Qe()(m)&&r.a.createElement($e.a,{className:t.noPadding},r.a.createElement(ce.a,{className:t.addressList},r.a.createElement(se.a,{className:t.walletListHeader},r.a.createElement(P.a,{className:t.addressHeading,variant:"subtitle1"},i.factoidAbbreviationFull+" Addresses")),r.a.createElement(se.a,{disableGutters:!0,className:t.walletList},r.a.createElement("div",{className:t.listAddrRoot},d)))),!Qe()(s)&&r.a.createElement(r.a.Fragment,null,!Qe()(m)&&r.a.createElement("br",null),r.a.createElement($e.a,{className:t.noPadding},r.a.createElement(ce.a,{className:t.addressList},r.a.createElement(se.a,{className:t.walletListHeader},r.a.createElement(P.a,{className:t.addressHeading,variant:"subtitle1"},i.ecAbbreviationFull+" Addresses")),r.a.createElement(se.a,{disableGutters:!0,className:t.walletList},r.a.createElement("div",{className:t.listAddrRoot},u))))),r.a.createElement("br",null),r.a.createElement("div",{className:t.flex},r.a.createElement("br",null),r.a.createElement(Kt,null)))}}]),t}(n.Component),Zt=p()(ne.b,S.b,Object(g.withStyles)(function(e){return{noPadding:{padding:"0px"},break:{wordWrap:"break-word"},expanded:{backgroundColor:"aliceblue"},listAddrRoot:{width:"100%",position:"relative",overflow:"auto",maxHeight:270},addressHeading:{fontWeight:500},flex:{display:"flex"},walletList:{padding:"6px"},walletListHeader:{paddingTop:"5px",paddingBottom:"5px"},addressList:{paddingBottom:"0px",backgroundColor:"#ddd",borderRadius:"4px"}}}))(Ut),Qt=a(97),_t=a.n(Qt),Yt=a(65),Xt=a.n(Yt),$t=r.a.createContext(),ea=function(e){return function(t){return r.a.createElement($t.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{factomCliController:a}))})}},ta=a(389),aa=a.n(ta),na=p()(S.b,Ue.b,Object(g.withStyles)(function(e){return{root:{textAlign:"left"},paper:{backgroundColor:"aliceblue",padding:"16px"}}}))(function(e){var t=e.classes,a=e.walletController,n=a.getActiveAddress,l=a.activeAddressIndex_o,o=e.ledgerController.checkAddress,c=n();return r.a.createElement("div",{className:t.root},r.a.createElement($e.a,{elevation:2,className:t.paper},r.a.createElement(Gt.a,{container:!0,justify:"space-between"},r.a.createElement(Gt.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement("i",null,"Nickname:"),"\xa0\xa0\xa0\xa0\xa0\xa0",c.nickname),r.a.createElement(P.a,null,r.a.createElement("i",null,"Address:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.address),"ledger"===c.importType&&r.a.createElement(P.a,null,r.a.createElement("i",null,"Import Type:"),"\xa0\xa0\xa0Ledger Nano S"),"seed"===c.importType&&r.a.createElement(P.a,null,r.a.createElement("i",null,"Import Type:"),"\xa0\xa0\xa0Seed Phrase"),"standard"===c.importType&&r.a.createElement(P.a,null,r.a.createElement("i",null,"Import Type:"),"\xa0\xa0\xa0Public Address"),!h()(c.balance)&&r.a.createElement(P.a,null,r.a.createElement("i",null,"Balance:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(ft,{balance:c.balance,type:l.type}))),r.a.createElement(Gt.a,{item:!0},"ledger"===c.importType&&r.a.createElement(pt.a,{title:"Verify Ledger Nano S Address"},r.a.createElement(aa.a,{onClick:Object(Ge.a)(He.a.mark(function e(){return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(c,l.type);case 2:case"end":return e.stop()}},e,this)}))}))))))}),ra=p()(Object(g.withStyles)({root:{width:"75%",margin:"0 auto",paddingTop:"26px",marginTop:"39px",height:"194px",borderRadius:"10px",backgroundColor:"#eef1f4",textAlign:"center"},transferFactoidAmountText:{fontSize:"50px",color:"#007eff"},transferFactoidUnitText:{width:"55px",height:"24px",fontSize:"20px",color:"#007eff"},factoidAmountSmallText:{color:"#001830",paddingTop:"7px"},detail:{display:"inline-block",paddingLeft:"65px",paddingRight:"65px"},divider:{width:"50%",opacity:.15,border:"solid 1px #103152"}}))(function(e){var t=e.factoidAmount,a=e.classes,n=e.sendFactoidFee,l=t+n,o=t.toLocaleString(void 0,{maximumFractionDigits:8}),c=l.toLocaleString(void 0,{maximumFractionDigits:8})+" FCT",i=n.toLocaleString(void 0,{maximumFractionDigits:8})+" FCT";return r.a.createElement($e.a,{className:a.root,elevation:2},r.a.createElement("div",null,"Transaction Preview"),r.a.createElement("br",null),r.a.createElement("span",{className:a.transferFactoidAmountText},o),r.a.createElement("span",{className:a.transferFactoidUnitText}," FTC"),r.a.createElement("hr",{className:a.divider}),r.a.createElement("div",{className:a.detail},r.a.createElement("div",null,"Total Amount:"),r.a.createElement("div",{className:a.factoidAmountSmallText},c)),r.a.createElement("div",{className:a.detail},r.a.createElement("div",null,"Network Fee:"),r.a.createElement("div",{className:a.factoidAmountSmallText},i)))}),la="recipientAddress",oa="myFctWalletAnchorEl",ca=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sendFactoidFee:null},a.verifyKey=function(e){var t=a.props.walletController.getActiveAddress();return a.props.walletController.verifyKey(e,t)},a.verifySeed=function(e){var t=a.props.walletController.getActiveAddress();return a.props.walletController.verifySeed(e,t)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ge.a)(He.a.mark(function e(){var t;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.walletController.getFactoidFee();case 2:t=e.sent,this.setState({sendFactoidFee:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"getMaxFCT",value:function(e,t){var a=1e-8*e-t;return a<0?0:a}},{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.classes,o=n.factomCliController.factomCli,c=n.walletController,i=c.getFactoidAddresses,s=c.getActiveAddress,m=c.updateBalances,d=c.signWithSeed,u=n.ledgerController.signWithLedger,p=n.networkController.networkProps,E=i(),f=s(),b=this.getMaxFCT(f.balance,this.state.sendFactoidFee);return r.a.createElement(U.f,{enableReinitialize:!0,initialValues:(e={sendFactoidAmount:"",recipientAddress:"",myFctWalletAnchorEl:null},Object(G.a)(e,"privateKey",""),Object(G.a)(e,"seed",""),Object(G.a)(e,"walletImportType",f.importType),Object(G.a)(e,"transactionID",null),Object(G.a)(e,"ledgerStatus",null),Object(G.a)(e,"transactionError",null),e),onSubmit:function(){var e=Object(Ge.a)(He.a.mark(function e(t,n){var r,l,c,i,s,p,E,h,b,v,g,y,x,k,C;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sendFactoidAmount,l=t.recipientAddress,c=t.privateKey,i=t.seed,s={},p=be()(t,"walletImportType"),e.prev=3,"standard"!==p){e.next=10;break}return e.next=7,o.createFactoidTransaction(c,l,1e8*r);case 7:s=e.sent,e.next=36;break;case 10:if("seed"!==p){e.next=22;break}return E=i,h=f.index,"sendFCT",b={mnemonic:E,index:h,toAddr:l,amount:1e8*r,type:"sendFCT"},e.next=19,d(b);case 19:s=e.sent,e.next=36;break;case 22:if("ledger"!==p){e.next=36;break}return n.setFieldValue("ledgerStatus","Connecting to Ledger Nano S"),e.next=26,a.props.ledgerController.isLedgerConnected();case 26:return e.sent?n.setFieldValue("ledgerStatus","Waiting for Confirmation"):(n.resetForm(),n.setFieldValue("transactionError","Ledger Nano S Not Found. Please connect your Ledger Nano S and try again.")),v=f.address,g=l,y=1e8*r,x=f.index,k={fromAddr:v,toAddr:g,amount:y,index:x},e.next=35,u(k);case 35:s=e.sent;case 36:return e.next=38,o.sendTransaction(s);case 38:C=e.sent,n.setFieldValue("transactionID",C),m(),e.next=48;break;case 43:e.prev=43,e.t0=e.catch(3),console.log(e.t0),n.resetForm(),n.setFieldValue("transactionError","An error occured. Please try again.");case 48:case"end":return e.stop()}},e,this,[[3,43]])}));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:Z.object().shape((t={},Object(G.a)(t,la,Z.string().required("Required").test(la,"Invalid Address",je.isValidFctPublicAddress)),Object(G.a)(t,"sendFactoidAmount",Z.number().required("Required").positive("Must be a positive number").max(b,"Insufficient Funds")),Object(G.a)(t,"walletImportType",Z.string()),Object(G.a)(t,"privateKey",Z.string().when("walletImportType",{is:"standard",then:Z.string().required("Required").test("privateKey","Invalid Key",this.verifyKey),otherwise:Z.string().notRequired()})),Object(G.a)(t,"seed",Z.string().when("walletImportType",{is:"seed",then:Z.string().required("Required").test("seed","Invalid Seed Phrase",Ye()(this.verifySeed,50)),otherwise:Z.string().notRequired()})),t)),render:function(e){var t=e.isSubmitting,n=e.errors,o=e.touched,c=e.values,i=e.setFieldValue,s=e.handleReset,m=e.handleChange;return r.a.createElement(U.e,{onKeyPress:a.handleKeyPress},r.a.createElement(na,null),r.a.createElement(U.c,{name:la},function(e){var a=e.field;e.form;return r.a.createElement(_.a,Object.assign({error:!(!n[la]||!o[la])},a,{onChange:function(e){m(e),i("transactionError",null)},label:"Recipient "+p.factoidAbbreviation+" address",fullWidth:!0,type:"text",placeholder:"Enter "+p.factoidAbbreviationFull+" Address",disabled:t,inputProps:{spellCheck:!1,maxLength:52}}))}),r.a.createElement(Gt.a,{container:!0,justify:"space-between"},r.a.createElement(Gt.a,{item:!0},r.a.createElement(U.a,{name:la,render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),r.a.createElement(Gt.a,{item:!0},r.a.createElement(ia,{values:c,setFieldValue:i,factoidAddresses:E}),r.a.createElement(P.a,{variant:"caption","aria-owns":c[oa]?"simple-menu":null,"aria-haspopup":"true",onClick:function(e){i("transactionError",null),i(oa,e.currentTarget)},className:l.pointer},"Send to one of my addresses"))),r.a.createElement(U.c,{name:"sendFactoidAmount"},function(e){var a=e.field;e.form;return r.a.createElement(_.a,Object.assign({type:"number",error:!(!n.sendFactoidAmount||!o.sendFactoidAmount)},a,{placeholder:"Enter Amount ("+p.factoidAbbreviation+")",label:"Amount",fullWidth:!0,disabled:t}))}),r.a.createElement(Gt.a,{container:!0,justify:"space-between"},r.a.createElement(Gt.a,{item:!0},r.a.createElement(U.a,{name:"sendFactoidAmount",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),r.a.createElement(Gt.a,{item:!0},r.a.createElement(P.a,{variant:"caption",onClick:function(){i("sendFactoidAmount",b)},className:l.pointer},"Use Max"))),"standard"===be()(c,"walletImportType")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.c,{name:"privateKey"},function(e){var a=e.field;e.form;return r.a.createElement(_.a,Object.assign({error:!(!n.privateKey||!o.privateKey)},a,{placeholder:"Enter Private Key for "+f.nickname,label:"Private Key",fullWidth:!0,disabled:t,inputProps:{spellCheck:!1,maxLength:52}}))}),r.a.createElement(U.a,{name:"privateKey",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),"seed"===be()(c,"walletImportType")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.c,{name:"seed"},function(e){var a=e.field;e.form;return r.a.createElement(_.a,Object.assign({error:!(!be()(n,"seed")||!be()(o,"seed"))},a,{placeholder:"Enter Seed Phrase for "+f.nickname,label:"Seed Phrase",fullWidth:!0,disabled:t}))}),r.a.createElement(U.a,{name:"seed",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),c.sendFactoidAmount?r.a.createElement(ra,{factoidAmount:c.sendFactoidAmount,sendFactoidFee:a.state.sendFactoidFee}):"",r.a.createElement("br",null),r.a.createElement("br",null),!h()(c.transactionError)&&r.a.createElement(P.a,{className:l.transactionErrorText},c.transactionError),r.a.createElement("br",null),t?r.a.createElement("div",null,null!==c.transactionID?r.a.createElement("span",null,r.a.createElement(P.a,null,r.a.createElement("b",null,"Transaction ID:")," ",c.transactionID),r.a.createElement("br",null),r.a.createElement(v.a,{type:"button",className:"outline",color:"primary",variant:"contained",onClick:s},"New Transaction")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{thickness:7}),c.ledgerStatus)):r.a.createElement(v.a,{className:l.sendButton,variant:"contained",color:"primary",type:"submit",disabled:t},"Send "+p.factoidAbbreviationFull+"s"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,null,"Please verify all details are correct before hitting send.",r.a.createElement("br",null),"Nobody can reverse mistaken transactions."))}})}}]),t}(n.Component);function ia(e){var t=e.values,a=e.setFieldValue,n=e.factoidAddresses.map(function(e,t){return r.a.createElement(M.a,{key:t,onClick:function(){a(oa,null),a(la,e.address)}},e.nickname)});return r.a.createElement(W.a,{id:"simple-menu",anchorEl:t[oa],open:Boolean(t[oa]),onClose:function(){a(oa,null)}},n)}var sa=p()(ne.b,Ue.b,S.b,ea,Object(g.withStyles)({sendButton:{width:"50%",height:"24px"},errorText:{color:"red",fontSize:"12px",textAlign:"left"},transactionErrorText:{color:"red",fontSize:"16px"},pointer:{cursor:"pointer"}}))(ca),ma="recipientAddress",da="myFctWalletAnchorEl",ua=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sendFactoshiFee:null,ecRate:null},a.verifyKey=function(e){var t=a.props.walletController.getActiveAddress();return a.props.walletController.verifyKey(e,t)},a.verifySeed=function(e){var t=a.props.walletController.getActiveAddress();return a.props.walletController.verifySeed(e,t)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ge.a)(He.a.mark(function e(){var t,a;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.walletController.getFactoshiFee();case 2:return t=e.sent,e.next=5,this.props.walletController.getEntryCreditRate();case 5:a=e.sent,this.setState({sendFactoshiFee:t,ecRate:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"getMaxEC",value:function(e,t){var a=(e-t)/this.state.ecRate;return a<0?0:a}},{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.classes,o=n.walletController,c=o.updateBalances,i=o.getEntryCreditAddresses,s=o.getActiveAddress,m=o.getEntryCreditRate,d=o.signWithSeed,u=n.ledgerController.signWithLedger,p=n.factomCliController.factomCli,E=n.networkController.networkProps,f=s(),b=i(),g=this.getMaxEC(f.balance,this.state.sendFactoshiFee);return r.a.createElement(U.f,{enableReinitialize:!0,initialValues:(e={entryCreditAmount:"",recipientAddress:"",myFctWalletAnchorEl:null,privateKey:""},Object(G.a)(e,"seed",""),Object(G.a)(e,"walletImportType",f.importType),Object(G.a)(e,"transactionID",null),Object(G.a)(e,"ledgerStatus",null),Object(G.a)(e,"transactionError",null),e),onSubmit:function(){var e=Object(Ge.a)(He.a.mark(function e(t,n){var r,l,o,i,s,E,h,b,v,g,y,x,k,C,w;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.entryCreditAmount,l=t.recipientAddress,o=t.privateKey,i=t.seed,s={},E=be()(t,"walletImportType"),e.prev=3,"standard"!==E){e.next=10;break}return e.next=7,p.createEntryCreditPurchaseTransaction(o,l,r);case 7:s=e.sent,e.next=40;break;case 10:if("seed"!==E){e.next=22;break}return h=i,b=f.index,"convertFCT",v={mnemonic:h,index:b,toAddr:l,amount:r,type:"convertFCT"},e.next=19,d(v);case 19:s=e.sent,e.next=40;break;case 22:if("ledger"!==E){e.next=40;break}return n.setFieldValue("ledgerStatus","Connecting to Ledger Nano S"),e.next=26,a.props.ledgerController.isLedgerConnected();case 26:return e.sent?n.setFieldValue("ledgerStatus","Waiting for Confirmation"):(n.resetForm(),n.setFieldValue("transactionError","Ledger Nano S Not Found. Please connect your Ledger Nano S and try again.")),g=f.address,y=l,e.next=32,m();case 32:return e.t0=e.sent,e.t1=r,x=e.t0*e.t1,k=f.index,C={fromAddr:g,toAddr:y,amount:x,index:k},e.next=39,u(C);case 39:s=e.sent;case 40:return e.next=42,p.sendTransaction(s);case 42:w=e.sent,n.setFieldValue("transactionID",w),c(),e.next=52;break;case 47:e.prev=47,e.t2=e.catch(3),console.log(e.t2),n.resetForm(),n.setFieldValue("transactionError","An error occured. Please try again.");case 52:case"end":return e.stop()}},e,this,[[3,47]])}));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:Z.object().shape((t={},Object(G.a)(t,ma,Z.string().required("Required").test(ma,"Invalid Address",je.isValidEcPublicAddress)),Object(G.a)(t,"entryCreditAmount",Z.number().required("Required").positive("Must be a positive number").max(g,"Insufficient Funds")),Object(G.a)(t,"walletImportType",Z.string()),Object(G.a)(t,"privateKey",Z.string().when("walletImportType",{is:"standard",then:Z.string().required("Required").test("privateKey","Invalid Key",this.verifyKey),otherwise:Z.string().notRequired()})),Object(G.a)(t,"seed",Z.string().when("walletImportType",{is:"seed",then:Z.string().required("Required").test("seed","Invalid Seed Phrase",Ye()(this.verifySeed,50)),otherwise:Z.string().notRequired()})),t)),render:function(e){var t=e.isSubmitting,n=e.errors,o=e.touched,c=e.values,i=e.setFieldValue,s=e.handleReset,m=e.handleChange;return r.a.createElement(U.e,{onKeyPress:a.handleKeyPress},r.a.createElement(na,null),r.a.createElement(U.c,{name:ma},function(e){var a=e.field;e.form;return r.a.createElement(_.a,Object.assign({error:!(!n[ma]||!o[ma])},a,{onChange:function(e){m(e),i("transactionError",null)},label:"Recipient "+E.ecAbbreviation+" address",fullWidth:!0,type:"text",placeholder:"Enter "+E.ecAbbreviationFull+" address",disabled:t,inputProps:{spellCheck:!1,maxLength:52}}))}),r.a.createElement(Gt.a,{container:!0,justify:"space-between"},r.a.createElement(Gt.a,{item:!0},r.a.createElement(U.a,{name:ma,render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),!Qe()(b)&&r.a.createElement(Gt.a,{item:!0},r.a.createElement(pa,{values:c,setFieldValue:i,ecAddresses:b}),r.a.createElement(P.a,{variant:"caption","aria-owns":c[da]?"simple-menu":null,"aria-haspopup":"true",onClick:function(e){i("transactionError",null),i(da,e.currentTarget)},className:l.pointer},"Send to one of my addresses"))),r.a.createElement(U.c,{name:"entryCreditAmount"},function(e){var a=e.field;e.form;return r.a.createElement(_.a,Object.assign({type:"number",error:!(!n.entryCreditAmount||!o.entryCreditAmount)},a,{placeholder:"Enter Amount ("+E.ecAbbreviation+")",label:"Amount",fullWidth:!0,disabled:t}))}),r.a.createElement(Gt.a,{container:!0,justify:"space-between"},r.a.createElement(Gt.a,{item:!0},r.a.createElement(U.a,{name:"entryCreditAmount",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),r.a.createElement(Gt.a,{item:!0},r.a.createElement("br",null))),"standard"===be()(c,"walletImportType")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.c,{name:"privateKey"},function(e){var a=e.field;e.form;return r.a.createElement(_.a,Object.assign({error:!(!n.privateKey||!o.privateKey)},a,{placeholder:"Enter Private Key for "+f.nickname,label:"Private Key",fullWidth:!0,disabled:t,inputProps:{spellCheck:!1,maxLength:52}}))}),r.a.createElement(U.a,{name:"privateKey",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),"seed"===be()(c,"walletImportType")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.c,{name:"seed"},function(e){var a=e.field;e.form;return r.a.createElement(_.a,Object.assign({error:!(!be()(n,"seed")||!be()(o,"seed"))},a,{placeholder:"Enter Seed Phrase for "+f.nickname,label:"Seed Phrase",fullWidth:!0,disabled:t}))}),r.a.createElement(U.a,{name:"seed",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),r.a.createElement("br",null),r.a.createElement("br",null),!h()(c.transactionError)&&r.a.createElement(P.a,{className:l.transactionErrorText},c.transactionError),r.a.createElement("br",null),t?r.a.createElement("div",null,null!==c.transactionID?r.a.createElement("span",null,r.a.createElement(P.a,null,r.a.createElement("b",null,"Transaction ID:")," ",c.transactionID),r.a.createElement("br",null),r.a.createElement(v.a,{type:"button",className:"outline",color:"primary",variant:"contained",onClick:s},"New Transaction")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{thickness:7}),c.ledgerStatus)):r.a.createElement(v.a,{className:l.sendButton,variant:"contained",color:"primary",type:"submit",disabled:t},"Convert "+E.factoidAbbreviation+" to "+E.ecAbbreviation),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,null,"Please verify all details are correct before hitting send.",r.a.createElement("br",null),"Nobody can reverse mistaken transactions."))}})}}]),t}(n.Component);function pa(e){var t=e.values,a=e.setFieldValue,n=e.ecAddresses.map(function(e,t){return r.a.createElement(M.a,{key:t,onClick:function(){a(da,null),a(ma,e.address)}},e.nickname)});return r.a.createElement(W.a,{id:"simple-menu",anchorEl:t[da],open:Boolean(t[da]),onClose:function(){a(da,null)}},n)}var Ea=p()(ne.b,Ue.b,S.b,ea,Object(g.withStyles)({sendButton:{width:"50%",height:"24px"},errorText:{color:"red",fontSize:"12px",textAlign:"left"},pointer:{cursor:"pointer"},transactionErrorText:{color:"red",fontSize:"16px"}}))(ua),ha=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.walletController,l=n.getActiveAddress,o=n.getFactoidAddresses,c=n.getEntryCreditAddresses,i=(t.networkController.networkProps,t.ledgerController.checkAddress,c(),o()),s=l();return r.a.createElement(U.f,{initialValues:{saveToCachePath:!1,nickname:s.nickname},onSubmit:function(t,a){e.props.handleNext()},validationSchema:Z.object().shape(Object(G.a)({},"nickname",Z.string().trim().required("Required").test("nickname","Enter unique nickname",function(e){return-1===Be()(i,["nickname",e])}))),render:function(t){var n=t.isSubmitting,l=t.errors,o=t.touched;return r.a.createElement("div",{className:a.root},r.a.createElement(na,null),r.a.createElement("br",null),r.a.createElement(U.e,{onKeyPress:e.handleKeyPress},r.a.createElement(Gt.a,{container:!0,spacing:8},r.a.createElement(Gt.a,{item:!0,xs:6},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(P.a,{variant:"h6"},"Edit Address")),r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(fa,{error:!(!l.nickname||!o.nickname),name:"nickname",label:"Nickname"}),r.a.createElement("br",null),r.a.createElement(U.a,{name:"nickname",render:function(e){return r.a.createElement("span",{className:a.errorText},e)}})),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(U.c,{name:"saveToCache",render:function(e){var t=e.field;e.form;return r.a.createElement(Ce.a,{control:r.a.createElement(vt.a,{name:"saveToCache",checked:t.value,color:"default"}),label:"Save to Cache"})}})),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(v.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},"Save"),r.a.createElement(v.a,{className:a.deleteButton,variant:"outlined",color:"secondary"},"Delete")))),r.a.createElement(Gt.a,{item:!0,xs:6}))))}})}}]),t}(r.a.Component),fa=function(e){return r.a.createElement(U.c,{name:e.name},function(t){var a=t.field;return r.a.createElement(_.a,Object.assign({inputProps:{spellCheck:!1,maxLength:e.maxLength}},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,multiline:!0,error:e.error}))})},ba=p()(ne.b,S.b,Ue.b,Object(g.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"},root:{textAlign:"left"},deleteButton:{marginLeft:10}}}))(ha),va=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tabValue:0},a.handleChange=function(e,t){a.setState({tabValue:t})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.type,n=e.networkController.networkProps,l=this.state.tabValue;return r.a.createElement("div",{className:t.root},"fct"===a&&r.a.createElement("div",null,r.a.createElement(_t.a,{value:l,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Xt.a,{label:"Address Info"}),r.a.createElement(Xt.a,{label:"Send "+n.factoidAbbreviationFull}),r.a.createElement(Xt.a,{label:"Convert "+n.factoidAbbreviation+" to "+n.ecAbbreviation})),0===l&&r.a.createElement(ga,{classes:t},r.a.createElement(ba,null)),1===l&&r.a.createElement(ga,{classes:t},r.a.createElement(sa,null)),2===l&&r.a.createElement(ga,{classes:t},r.a.createElement(Ea,null))),"ec"===a&&r.a.createElement("div",null,r.a.createElement(_t.a,{value:l,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Xt.a,{label:"Address Info"})),0===l&&r.a.createElement(ga,{classes:t},r.a.createElement(ba,null))))}}]),t}(r.a.Component);function ga(e){return r.a.createElement(P.a,{component:"div",className:e.classes.tabContainer},e.children)}var ya=p()(ne.b,Object(g.withStyles)({root:{textAlign:"center"},tabContainer:{paddingLeft:55,paddingRight:55,paddingTop:18,paddingBottom:10}}))(va),xa=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.walletController,t=e.getActiveAddress,a=e.activeAddressIndex_o;return r.a.createElement(Gt.a,{container:!0},!h()(t())&&r.a.createElement(Gt.a,{container:!0,spacing:24,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement(Zt,null)),r.a.createElement(Gt.a,{item:!0,xs:8},r.a.createElement($e.a,null,r.a.createElement(ya,{key:t().address,type:a.type})))))}}]),t}(n.Component),ka=p()(S.b,Object(g.withStyles)(function(e){return{}}))(xa),Ca=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).navigateToWallet=function(){a.props.history.push("/wallet/manage/")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(Gt.a,{container:!0,item:!0,xs:12,justify:"center"},r.a.createElement(Rt,{handleClose:this.navigateToWallet,handleCloseText:"Manage Wallets"}))}}]),t}(n.Component),wa=p()(S.b,Object(g.withStyles)(function(e){return{}}))(Ca),Sa=a(191),Aa=a.n(Sa),Oa=a(390),Na=a.n(Oa),Fa=0,ja=function(e,t,a,n,r,l){return{id:Fa+=1,voteID:e,adminID:t,title:a,status:n,commitPhase:r,revealPhase:l}},Ta=[ja("e62aeaad853809e0a6901faa7698d305b5927fe9aeffff9fa233f3367629f098","9F86D081884C7D659A2FEAA0C55AD015A3BF4F1B2B0B822CD15D6C15B0F00A08","Discussion Phase Example","Discussion Phase",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018")),ja("c12941cbe6be9ae67caa3a34e2298bdf1b2feebe67a7144a40064aef908686b4","60303AE22B998861BCE3B28F33EEC1BE758A213C86C93C076DBE9F558C11C752","Commit Phase Example","Commit Phase",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018")),ja("872963d936f10cfefffae3d478d98730e1c2c731c703af2ea58710dfc5c9f45c","60303AE22B998861BCE3B28F33EEC1BE758A213C86C93C076DBE9F558C11C752","Reveal Phase Example","Reveal Phase",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018")),ja("71a7fc2f9e956515b2f2d43d6df67d2213fd5fe4cd37e477f8b9d6344120508f","2F110B81263414DFA03211351D7D2D3FFBCB7E1C4D699B3626ED520C6CD9738B","Completed Example","Completed",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018")),ja("dc1da9c406f1fa6a382840c1e268e25f083e66897dc8645aa337e2fc2e6f5424","DB90FFB7EAFF3C3DF027777F4B2C0D426000FDCBAA7097712408E1DBD955067A","Invalidated Example","Invalidated",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018"))],Ba=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.expanded;return r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{item:!0,xs:12,className:e.tableWrapper},r.a.createElement(tt.a,null,r.a.createElement(ct.a,null,r.a.createElement(st.a,null,r.a.createElement("th",{className:e.expandColumn},t?r.a.createElement(Na.a,{style:{cursor:"pointer"},titleAccess:"Collapse",onClick:this.props.toggleExpand,title:"Collapse Row",className:e.expandIcon}):r.a.createElement(q.a,{style:{cursor:"pointer"},titleAccess:"Expand",onClick:this.props.toggleExpand,title:"Expand Row",className:e.expandIcon})),r.a.createElement(lt.a,{className:"".concat(e.titleColumn," ").concat(e.columnHeader)},"Title",t&&r.a.createElement("span",null,r.a.createElement("br",null),r.a.createElement("input",{type:"text"}))),r.a.createElement(lt.a,{className:"".concat(e.statusColumn," ").concat(e.columnHeader)},"Status",t&&r.a.createElement("span",null,r.a.createElement("br",null),r.a.createElement("select",null,r.a.createElement("option",{defaultValue:!0,value:""}),r.a.createElement("option",null,"Discussion Phase"),r.a.createElement("option",null,"Commit Phase"),r.a.createElement("option",null,"Reveal Phase"),r.a.createElement("option",null,"Complete"),r.a.createElement("option",null,"Invalidated")))),r.a.createElement(lt.a,{className:"".concat(e.dateColumn," ").concat(e.columnHeader)},"Commit Phase"),r.a.createElement(lt.a,{className:"".concat(e.dateColumn," ").concat(e.columnHeader)},"Reveal Phase"),t?r.a.createElement(lt.a,{className:"".concat(e.pollChainIDColumn," ").concat(e.columnHeader)},"Poll Chain ID",r.a.createElement("br",null),r.a.createElement("input",{type:"text"})):r.a.createElement(lt.a,{className:"".concat(e.shortPollChainIDColumn," ").concat(e.columnHeader)},"Poll Chain ID"),t?r.a.createElement(lt.a,{className:"".concat(e.adminIDColumn," ").concat(e.columnHeader)},"Poll Admin ID",r.a.createElement("br",null),r.a.createElement("input",{type:"text"})):r.a.createElement(lt.a,{className:"".concat(e.shortAdminIDColumn," ").concat(e.columnHeader)},"Poll Admin ID"))),r.a.createElement(nt.a,null,Ta.map(function(a){return r.a.createElement(st.a,{key:a.id,hover:!0},r.a.createElement("td",{className:e.expandColumn}),r.a.createElement(lt.a,{className:e.titleColumn},r.a.createElement(f.a,{to:"/viewVote?id="+a.voteID},a.title)),r.a.createElement(lt.a,{className:e.statusColumn},a.status),r.a.createElement(lt.a,{className:e.dateColumn},r.a.createElement("div",{style:{width:"104px"}},a.commitPhase)),r.a.createElement(lt.a,{className:e.dateColumn},r.a.createElement("div",{style:{width:"104px"}},a.revealPhase)),t?r.a.createElement(lt.a,{className:e.pollChainIDColumn},a.voteID):r.a.createElement(lt.a,{className:e.shortPollChainIDColumn},a.voteID),t?r.a.createElement(lt.a,{className:e.adminIDColumn},a.adminID):r.a.createElement(lt.a,{className:e.shortAdminIDColumn},a.adminID))})))),r.a.createElement(Gt.a,{item:!0,xs:2},r.a.createElement(Aa.a,{component:Gt.a,onChangePage:function(){},count:Ta.length,rowsPerPage:25,page:0})))}}]),t}(r.a.Component),Pa=Object(g.withStyles)(function(e){return{tableWrapper:{overflowX:"auto"},table:{},titleColumn:{minWidth:"252",paddingRight:"1px"},adminIDColumn:{paddingRight:"0px"},shortAdminIDColumn:{maxWidth:"207px",overflow:"hidden",textOverflow:"ellipsis",paddingRight:"0px"},shortPollChainIDColumn:{maxWidth:"207px",overflow:"hidden",textOverflow:"ellipsis",paddingRight:"0px"},pollChainIDColumn:{paddingRight:"0px"},statusColumn:{maxWidth:"165px",overflow:"hidden",textOverflow:"ellipsis"},dateColumn:{maxWidth:"129px",paddingRight:"1px"},expandIcon:{margin:"-5px"},expandColumn:{maxWidth:"3px"},footerPagination:{maxWidth:"345px"},columnHeader:{fontSize:"13px"}}})(Ba),Ia=a(192),La=a.n(Ia),Va=a(391),Da=a.n(Va),Ra=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:!1},a.toggleExpand=function(){a.setState(function(e){return{expanded:!e.expanded}})},a.handleExpand=function(){a.setState({expanded:!0})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.body},r.a.createElement($e.a,{className:e.paper},r.a.createElement(Gt.a,{container:!0,direction:"row"},r.a.createElement(Gt.a,{item:!0,xs:3,className:e.topFilters},r.a.createElement(y.a,{style:{textAlign:"left"}},"Voter ID: ",r.a.createElement("input",{type:"text"})),r.a.createElement(y.a,{style:{textAlign:"left"}},"Protocol Polls Only:",r.a.createElement(La.a,{defaultChecked:!0,value:"checkedF",color:"primary"}))),r.a.createElement(Gt.a,{item:!0,xs:6},r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Welcome to Factom's On-Chain Voting")),r.a.createElement(Gt.a,{item:!0,xs:2}),r.a.createElement(Gt.a,{item:!0,xs:1},r.a.createElement(Gt.a,{style:{paddingTop:"20px"},item:!0,xs:2},r.a.createElement(v.a,{onClick:this.handleExpand,variant:"outlined",color:"primary",size:"small"},r.a.createElement(Da.a,null)," Filter")))),r.a.createElement(Pa,{expanded:this.state.expanded,toggleExpand:this.toggleExpand})),r.a.createElement("br",null))}}]),t}(n.Component),Wa=(Object(g.withStyles)(function(e){return{body:{textAlign:"center",margin:"0 auto",marginTop:"20px"},form:{textAlign:"left"},paper:{padding:"15px"},topFilters:{top:"14px",position:"relative",left:"8px"}}})(Ra),a(273)),Ka=a.n(Wa),Ma=a(274),Ja=a.n(Ma),qa=a(392),Ha=a.n(qa),za=a(397),Ga=a.n(za),Ua=a(396),Za=a.n(Ua),Qa=a(67),_a=a.n(Qa),Ya=a(393),Xa=a.n(Ya),$a=a(195),en=a.n($a),tn=a(99),an=a.n(tn),nn="pollJSON.proposal.externalRef.href",rn="pollJSON.vote.config.options",ln="pollJSON.vote.config.acceptanceCriteria.weightedMinTurnout",on="pollJSON.vote.config.acceptanceCriteria.unweightedMinTurnout",cn="pollJSON.vote.config.acceptanceCriteria.weightedMinSupport",sn="pollJSON.vote.config.acceptanceCriteria.unweightedMinSupport",mn=["Single Option Voting","Approval Voting","Instant Run-Off Voting"],dn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.poll,a=be()(t,ln)||be()(t,on),n=be()(t,cn)||be()(t,sn);return r.a.createElement(Gt.a,{item:!0,xs:12,container:!0},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(Y,{text:"Configuration"})),r.a.createElement(Gt.a,{item:!0,container:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Title:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"pollJSON.proposal.title"))),r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Commit Start Block:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"pollJSON.vote.phasesBlockHeights.commitStart"))),r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Commit End Block:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"pollJSON.vote.phasesBlockHeights.commitEnd"))),r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Reveal Start Block:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"pollJSON.vote.phasesBlockHeights.revealStart"))),r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Reveal End Block:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"pollJSON.vote.phasesBlockHeights.revealEnd")))),be()(t,"formFields.pollChainID")&&r.a.createElement(Gt.a,{item:!0,xs:12,container:!0},r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Poll Chain ID:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"formFields.pollChainID"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267"},r.a.createElement(an.a,{color:"primary",style:{fontSize:15}}))))),be()(t,"formFields.pollAdminID")&&r.a.createElement(Gt.a,{item:!0,xs:12,container:!0},r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Poll Admin ID:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"formFields.pollAdminID"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267"},r.a.createElement(an.a,{color:"primary",style:{fontSize:15}}))))),be()(t,"formFields.protocolVersion")&&r.a.createElement(Gt.a,{item:!0,xs:12,container:!0},r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Protocol Version:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"formFields.protocolVersion")))),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(Y,{text:"Question"})),be()(t,nn)&&r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"URL Link:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement("a",{href:be()(t,nn)},r.a.createElement(P.a,null,be()(t,nn)))),r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Proposal Hash:\xa0",r.a.createElement(pt.a,{title:"Hash Type: "+be()(t,"pollJSON.proposal.externalRef.hash.algo")},r.a.createElement(Xa.a,{style:{fontSize:"15px"}})))),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"pollJSON.proposal.externalRef.hash.value")))),be()(t,"pollJSON.proposal.text")&&r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Question:")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(P.a,null,be()(t,"pollJSON.proposal.text")))),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(Y,{text:"Answers"})),r.a.createElement(Gt.a,{item:!0,xs:2,className:e.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"Type:")),r.a.createElement(Gt.a,{item:!0,xs:10},r.a.createElement(P.a,null,mn[be()(t,"pollJSON.vote.type")])),r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:2},r.a.createElement(P.a,{gutterBottom:!0},"Allow Abstain:")),r.a.createElement(Gt.a,{item:!0,xs:10},r.a.createElement("input",{defaultChecked:!0,type:"checkbox"}))),("Approval Voting"===be()(t,"pollJSON.vote.type")||"Instant Runoff Voting"===be()(t,"pollJSON.vote.type"))&&r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(P.a,{gutterBottom:!0},"Minimum Options Allowed:\xa0\xa0",be()(t,"pollJSON.vote.config.minOptions"))),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(P.a,{gutterBottom:!0},"Maximum Options Allowed:\xa0",be()(t,"pollJSON.vote.config.maxOptions")))),be()(t,"pollJSON.vote.type")&&r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement($e.a,{elevation:1,className:e.pad},r.a.createElement(P.a,{variant:"subtitle1"},"Options"),r.a.createElement(ce.a,{dense:!0},be()(t,rn)&&be()(t,rn).map(function(e,a){return r.a.createElement(se.a,{key:a,divider:a<be()(t,rn).length-1},r.a.createElement(en.a,{style:{fontSize:15}}),r.a.createElement(_a.a,{primary:e}))})))),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(Y,{text:"Acceptance Criteria"}),a||n?r.a.createElement(ce.a,{dense:!0},a&&r.a.createElement(se.a,{divider:!0},r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement(Ce.a,{control:r.a.createElement(vt.a,{disableRipple:!0,color:"default",checked:a}),label:"Minimum Turnout"})),r.a.createElement(Gt.a,{item:!0,xs:8},r.a.createElement(Gt.a,{container:!0},be()(t,ln)&&r.a.createElement(Gt.a,{item:!0,xs:12},!be()(t,on)&&r.a.createElement("br",null),r.a.createElement(P.a,{style:{display:"inline"}},"Weighted Ratio:\xa0",be()(t,ln))),be()(t,on)&&r.a.createElement(Gt.a,{item:!0,xs:12},!be()(t,ln)&&r.a.createElement("br",null),r.a.createElement(P.a,{style:{display:"inline"}},"Unweighted Ratio:\xa0",be()(t,on))))))),n&&r.a.createElement(se.a,null,r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement(Ce.a,{control:r.a.createElement(vt.a,{disableRipple:!0,color:"default",checked:n}),label:"Minimum Support"})),r.a.createElement(Gt.a,{item:!0,xs:8},r.a.createElement(Gt.a,{container:!0},be()(t,cn)&&r.a.createElement(Gt.a,{item:!0,xs:12},!be()(t,sn)&&r.a.createElement("br",null),r.a.createElement(P.a,{style:{display:"inline"}},"Weighted Ratio:\xa0",be()(t,cn))),be()(t,sn)&&r.a.createElement(Gt.a,{item:!0,xs:12},!be()(t,cn)&&r.a.createElement("br",null),r.a.createElement(P.a,{style:{display:"inline"}},"Unweighted Ratio:\xa0",be()(t,sn)))))))):r.a.createElement("div",null,r.a.createElement(P.a,null,"None"),r.a.createElement("br",null))))}}]),t}(r.a.Component),un=Object(g.withStyles)(function(e){return{pad:{padding:15},smallGridColumn:{flexBasis:"19%"},optionList:{width:"350px",overflow:"auto"}}})(dn),pn=a(16),En=a.n(pn),hn=a(144),fn=a.n(hn),bn=a(394),vn=a.n(bn),gn=a(395),yn=a.n(gn),xn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).timer=null,a.state={loading:!1,success:!1},a.handleButtonClick=function(){a.state.loading||a.setState({success:!1,loading:!0},function(){a.timer=setTimeout(function(){a.setState({loading:!1,success:!0})},2e3)})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.success,n=this.props.classes,l=En()(Object(G.a)({},n.buttonSuccess,a));return r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.wrapper},r.a.createElement(v.a,{variant:"fab",color:"secondary",className:l,onClick:this.handleButtonClick},a?r.a.createElement(vn.a,null):r.a.createElement(yn.a,null)),t&&r.a.createElement(Ct.a,{size:68,className:n.fabProgress})),r.a.createElement("div",{className:n.wrapper},r.a.createElement(v.a,{variant:"contained",color:"secondary",className:l,disabled:t,onClick:this.handleButtonClick},a?"Verified":"Verify Signature"),t&&r.a.createElement(Ct.a,{size:24,className:n.buttonProgress})))}}]),t}(r.a.Component),kn=Object(g.withStyles)(function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing.unit,position:"relative"},buttonSuccess:{backgroundColor:fn.a[500],"&:hover":{backgroundColor:fn.a[700]}},fabProgress:{color:fn.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:fn.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(xn),Cn=0,wn=function(e,t,a,n,r){return{id:Cn+=1,voterID:e,commit:t,reveal:a,role:n,vote:r}},Sn=[wn("Factom Inc",!0,null,r.a.createElement("div",null,"Guide",r.a.createElement("br",null),"ANO"),null),wn("LUCIAP",!0,null,"ANO",null),wn("60303AE22B998861BCE3B28F33EEC1BE758A213C86C93C076DBE9F558C11C752",!0,null,"",null),wn("The 42nd Factoid","",null,"Guide",!1),wn("872963d936f10cfefffae3d478d98730e1c2c731c703af2ea58710dfc5c9f45c",!0,null,"",null)],An=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tabValue:0,poll:{pollJSON:{proposal:{title:"This Is The Title",text:"",externalRef:{href:"https://raw.githubusercontent.com/JacobEberhardt/ZoKrates/aa7e11/README.md",hash:{value:"F30A765AD6C5777E82EB2B64CFA53CDBB08D435546DD351880C13691867290B4",algo:"SHA-256"}}},vote:{phasesBlockHeights:{commitStart:"158883",commitEnd:"158884",revealStart:"158885",revealEnd:"158886"},eligibleVotersChainId:"",type:"0",config:{options:["Yes","No","Abstain"],allowAbstention:"",computeResultsAgainst:"",minOptions:"",maxOptions:"",acceptanceCriteria:{minSupport:{},minTurnout:{}}}}},formFields:{protocolVersion:"v0.1",pollAdminID:"888888655866a003faabd999c7b0a7c908af17d63fd2ac2951dc99e1ad2a14f4",pollChainID:Ha.a.parse(a.props.location.search)["?id"]}},expand:!1},a.toggleExpand=function(){a.setState(function(e){return{expand:!e.expand}})},a.handleTabChange=function(e,t){a.setState({tabValue:t})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(Gt.a,{container:!0,spacing:24},r.a.createElement(Gt.a,{item:!0,xs:2}),r.a.createElement(Gt.a,{item:!0,xs:8},r.a.createElement($e.a,{className:t.pad},r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(P.a,{align:"center",gutterBottom:!0,variant:"h6"},"Poll: ",this.state.poll.pollJSON.proposal.title)),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement($e.a,{className:t.pad},r.a.createElement(P.a,{style:{display:"inline",fontWeight:500},gutterBottom:!0},"Status:\xa0"),r.a.createElement(P.a,{style:{display:"inline"}},"Commit Phase")),r.a.createElement("br",null)),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement($e.a,{className:t.pad},r.a.createElement(_t.a,{value:this.state.tabValue,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Xt.a,{label:"View Details"}),r.a.createElement(Xt.a,{label:"View Voters"}),r.a.createElement(Xt.a,{label:"Cast Vote"})),0===this.state.tabValue&&r.a.createElement(Gt.a,{container:!0,className:t.pad},r.a.createElement(un,{className:t.pad,poll:this.state.poll})),1===this.state.tabValue&&r.a.createElement("div",null,r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(tt.a,null,r.a.createElement(ct.a,null,r.a.createElement(st.a,null,r.a.createElement("th",{className:t.expandColumn},this.state.expand?r.a.createElement(Za.a,{style:{cursor:"pointer"},onClick:this.toggleExpand,titleAccess:"Collapse"}):r.a.createElement(Ga.a,{style:{cursor:"pointer"},onClick:this.toggleExpand,titleAccess:"Expand"})),this.state.expand?r.a.createElement(lt.a,null,"Voter ID"):r.a.createElement(lt.a,{className:t.chainIDColumn},"Voter ID"),r.a.createElement(lt.a,null,"Commit"),r.a.createElement(lt.a,null,"Reveal"),r.a.createElement(lt.a,null,"Vote"),r.a.createElement(lt.a,null,"Role"))),r.a.createElement(nt.a,null,Sn.map(function(a){return r.a.createElement(st.a,{key:a.voterID},r.a.createElement("td",{className:t.expandColumn}),e.state.expand?r.a.createElement(lt.a,null,a.voterID):r.a.createElement(lt.a,{className:t.chainIDColumn},a.voterID),r.a.createElement(lt.a,null,Boolean(a.commit)&&0x1c646f90be1c1c0!==a.voterID?r.a.createElement(Ka.a,{color:"primary"}):""),r.a.createElement(lt.a,null,Boolean(a.reveal)&&0x1c646f90be1c1c0!==a.voterID&&r.a.createElement(Ka.a,{color:"primary"}),0x1c646f90be1c1c0===a.voterID&&r.a.createElement(Ja.a,{color:"secondary"})),r.a.createElement(lt.a,null,(Boolean(a.vote)&&a.voterID,r.a.createElement(P.a,null,a.vote)),0x1c646f90be1c1c0===a.voterID&&r.a.createElement(Ja.a,{color:"secondary"})),r.a.createElement(lt.a,null,a.role))}))))),2===this.state.tabValue&&r.a.createElement(Gt.a,{container:!0,className:t.pad},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(Y,{text:"Question"})),r.a.createElement(Gt.a,{item:!0,xs:2,className:t.smallGridColumn},r.a.createElement(P.a,{gutterBottom:!0},"URL Link:")),r.a.createElement(Gt.a,{item:!0,xs:10},r.a.createElement("a",{href:"https://raw.githubusercontent.com/JacobEberhardt/ZoKrates/aa7e11/README.md"},r.a.createElement(P.a,null,"https://raw.githubusercontent.com/JacobEberhardt/ZoKrates/aa7e11/README.md"))),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(Y,{text:"Answer"})),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("select",null,r.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Choose an Answer"),r.a.createElement("option",null,"Yes"),r.a.createElement("option",null,"No"),r.a.createElement("option",null,"Abstain"))),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(Y,{text:"Sign Transaction"})),r.a.createElement(Gt.a,{xs:2,item:!0},r.a.createElement(P.a,{gutterBottom:!0},"Voter ID:")),r.a.createElement(Gt.a,{xs:10,item:!0},r.a.createElement("input",{type:"text"})),r.a.createElement(Gt.a,{xs:2,item:!0},r.a.createElement(P.a,{gutterBottom:!0},"Signature:")),r.a.createElement(Gt.a,{xs:10,item:!0},r.a.createElement("input",{type:"password"})),r.a.createElement(Gt.a,{xs:2,item:!0},r.a.createElement(P.a,{gutterBottom:!0},"EC Private Key:")),r.a.createElement(Gt.a,{xs:10,item:!0},r.a.createElement("input",{type:"password"})),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(kn,null)),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.handleNext},"Submit Vote")))))))),r.a.createElement(Gt.a,{item:!0,xs:2}))}}]),t}(r.a.Component),On=(Object(g.withStyles)(function(e){return{pad:{padding:15},tableWrapper:{overflowX:"auto"},smallGridColumn:{flexBasis:"19%"},expandColumn:{maxWidth:"3px"},chainIDColumn:{maxWidth:"265px",overflow:"hidden",textOverflow:"ellipsis"}}})(An),a(196)),Nn=a.n(On),Fn=a(398),jn=a.n(Fn),Tn="formFields.selectedList",Bn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.eligibleVotersForm,n=t.classes,l=t.updateParticipants;return r.a.createElement(U.f,{initialValues:a,onSubmit:function(t,a){l(t),e.props.handleNext()},render:function(t){var a=t.values,l=t.handleChange,o=t.setFieldValue,c=t.isSubmitting;return r.a.createElement(Gt.a,{container:!0,className:n.pad},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(Y,{text:"Select Voters"})),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(U.e,{onKeyPress:e.handleKeyPress},r.a.createElement(U.d,{name:"participantsJSON",render:function(t){return r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{item:!0,xs:12,container:!0},r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement(Se.a,{component:"fieldset"},r.a.createElement(xe.a,{name:Tn,value:be()(a,Tn),onChange:l},r.a.createElement(Ce.a,{value:"standing",control:r.a.createElement(ge.a,null),label:"Standing Parties"}),r.a.createElement(Ce.a,{value:"anos",control:r.a.createElement(ge.a,null),label:"Authority Node Operators"}),r.a.createElement(Ce.a,{value:"guides",control:r.a.createElement(ge.a,null),label:"Guides"}),r.a.createElement(Ce.a,{value:"custom",control:r.a.createElement(ge.a,null),label:"Custom List"})))),"custom"===be()(a,Tn)?r.a.createElement(Gt.a,{item:!0,xs:4,className:n.borders},r.a.createElement(P.a,{style:{fontWeight:500},gutterBottom:!0},"Add Voter"),r.a.createElement(P.a,{gutterBottom:!0},"Voter ID:\xa0",r.a.createElement(U.c,{type:"number",name:"formFields.workingVoterID"})),r.a.createElement(P.a,{gutterBottom:!0},"Weight:\xa0\xa0\xa0",r.a.createElement(U.c,{type:"number",name:"formFields.workingWeight"})),r.a.createElement("input",{type:"button",onClick:function(){t.push({voterID:be()(a,"formFields.workingVoterID"),weight:be()(a,"formFields.workingWeight")}),o("formFields.workingVoterID",""),o("formFields.workingWeight","")},value:"Add",disabled:!be()(a,"formFields.workingVoterID")||!be()(a,"formFields.workingWeight")})):r.a.createElement(Gt.a,{item:!0,xs:4}),"custom"===be()(a,Tn)?r.a.createElement(Gt.a,{item:!0,xs:4,className:n.padLoadVoters},r.a.createElement("div",null,r.a.createElement(P.a,{style:{fontWeight:500},gutterBottom:!0},"Load Voters"),r.a.createElement(P.a,{gutterBottom:!0},"File: ",r.a.createElement("input",{disabled:!0,type:"file"})),r.a.createElement(P.a,null,"Voter Chain ID: ",r.a.createElement("input",{disabled:!0,type:"text"})),r.a.createElement(P.a,{gutterBottom:!0},"Authority Nodes:",r.a.createElement("input",{disabled:!0,type:"checkbox"}),r.a.createElement("br",null),"Guides: ",r.a.createElement("input",{disabled:!0,type:"checkbox"})),r.a.createElement("button",{disabled:!0},"Load"))):r.a.createElement(Gt.a,{item:!0,xs:5})),"custom"===be()(a,Tn)&&r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement($e.a,{elevation:10,className:n.listContainer},r.a.createElement(P.a,{variant:"subtitle1"},"Eligible Voter List"),r.a.createElement(ce.a,{className:n.list,dense:!0},be()(a,"participantsJSON").length>0?be()(a,"participantsJSON").map(function(e,a){return r.a.createElement(se.a,{key:a,disableGutters:!0,divider:!0},r.a.createElement(jn.a,null),r.a.createElement(_a.a,{primary:"Voter ID: "+e.voterID,secondary:"Weight: "+e.weight}),r.a.createElement(L.a,{onClick:function(){t.remove(a)},"aria-label":"Clear"},r.a.createElement(Nn.a,null)))}):r.a.createElement(se.a,{disableGutters:!0,divider:!0},r.a.createElement(_a.a,{primary:"No Voters have been added"}))))),"standing"===be()(a,Tn)&&r.a.createElement(Gt.a,{item:!0,xs:12}),r.a.createElement(Gt.a,{item:!0,xs:12,className:n.stepperButtons},r.a.createElement("br",null),r.a.createElement(v.a,{disabled:!0,onClick:e.props.handleBack},"Back"),r.a.createElement(v.a,{variant:"contained",color:"primary",type:"submit",disabled:c},"Next")))}}))))}})}}]),t}(r.a.Component),Pn=Object(g.withStyles)(function(e){return{pad:{padding:"15px"},list:{overflow:"auto",height:350},borders:{borderRightStyle:"solid",borderRightColor:"lightgray",borderRightWidth:"1px",borderLeftStyle:"solid",borderLeftColor:"lightgray",borderLeftWidth:"1px",padding:"10px"},padLoadVoters:{padding:"10px"},listContainer:{marginTop:"10px",padding:"15px"},stepperButtons:{marginLeft:"-15px"}}})(Bn);var In=Object(g.withStyles)(function(e){return{pad:{padding:15},smallGridColumn:{flexBasis:"19%"},optionList:{width:"350px",overflow:"auto"},stepperButtons:{marginLeft:"-15px"}}})(function(e){var t=e.classes;return r.a.createElement(Gt.a,{container:!0,className:t.pad},r.a.createElement(un,{poll:e.poll}),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(Y,{text:"Sign Transaction"})),r.a.createElement(Gt.a,{xs:2,item:!0},r.a.createElement(P.a,{gutterBottom:!0},"Poll Admin ID:")),r.a.createElement(Gt.a,{xs:10,item:!0},r.a.createElement("input",{type:"text"})),r.a.createElement(Gt.a,{xs:2,item:!0},r.a.createElement(P.a,{gutterBottom:!0},"Signature:")),r.a.createElement(Gt.a,{xs:10,item:!0},r.a.createElement("input",{type:"password"})),r.a.createElement(Gt.a,{xs:2,item:!0},r.a.createElement(P.a,{gutterBottom:!0},"EC Private Key:")),r.a.createElement(Gt.a,{xs:10,item:!0},r.a.createElement("input",{type:"password"})),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(kn,null)),r.a.createElement(Gt.a,{item:!0,xs:12,className:t.stepperButtons},r.a.createElement("br",null),r.a.createElement(v.a,{onClick:e.handleBack},"Back"),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:e.handleNext},"Submit Poll")))});var Ln=Object(g.withStyles)(function(e){return{pad:{padding:"15px"}}})(function(e){var t=e.classes;return r.a.createElement(Gt.a,{className:t.pad,container:!0},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(Y,{text:"Setup Complete!"}),r.a.createElement(P.a,{gutterBottom:!0},"You're poll is pending confirmation on the Factom blockchain.\xa0",r.a.createElement(f.a,{target:"_blank",rel:"noopener noreferrer",to:"/viewVote?id=e62aeaad853809e0a6901faa7698d305b5927fe9aeffff9fa233f3367629f098"},r.a.createElement(v.a,{variant:"outlined"},"View Poll",r.a.createElement(an.a,null))))),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(P.a,{style:{display:"inline",fontWeight:500},gutterBottom:!0},"Voter Chain ID:\xa0",r.a.createElement(P.a,{style:{display:"inline"}},"df3ade9eec4b08d5379cc64270c30ea7315d8a8a1a69efe2b98a60ecdd69e604\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267"},r.a.createElement(an.a,{color:"primary",style:{fontSize:15}})))),r.a.createElement("br",null),r.a.createElement(P.a,{style:{display:"inline",fontWeight:500},gutterBottom:!0},"Poll Chain ID:\xa0"),r.a.createElement(P.a,{style:{display:"inline"}},"e5783ef44313a678d489b6917ef96d971156615ae71a671fdf638af403146ab7\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267"},r.a.createElement(an.a,{color:"primary",style:{fontSize:15}})))))}),Vn=a(69),Dn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={pollForm:{pollJSON:{proposal:{title:"",text:"",externalRef:{href:"",hash:{value:"",algo:""}}},vote:{phasesBlockHeights:{commitStart:"",commitEnd:"",revealStart:"",revealEnd:""},eligibleVotersChainId:"",type:"",config:{options:[],allowAbstention:"",computeResultsAgainst:"",minOptions:"",maxOptions:"",acceptanceCriteria:{}}}},formFields:{voteTypeText:"",questionSource:"",workingHref:"",workingOption:"",checkedTurnout:!1,checkedSupport:!1,workingWeightMinTurnout:"",workingUnweightMinTurnout:"",workingWeightMinSupport:"",workingUnweightMinSupport:"",workingMinSupportOption:"",applyMinSupportToAllOptions:!0}},eligibleVotersForm:{participantsJSON:[],formFields:{selectedList:"standing",workingVoterID:"",workingWeight:""}}},a.updatePoll=function(e){a.setState({pollForm:e})},a.updateParticipants=function(e){a.setState({eligibleVotersForm:e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.children(Object(Vn.a)({},this.state,{updatePoll:this.updatePoll,updateParticipants:this.updateParticipants}))}}]),t}(r.a.Component),Rn=a(198),Wn=a.n(Rn),Kn="pollJSON.vote.config.allowAbstention",Mn="pollJSON.vote.config.acceptanceCriteria",Jn="formFields.voteTypeText",qn="formFields.workingHref",Hn="formFields.checkedTurnout",zn="formFields.checkedSupport",Gn="formFields.workingMinSupportOption",Un="formFields.applyMinSupportToAllOptions",Zn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).displayError=function(e,t,a){return!(!be()(e,a)||!be()(t,a))},a.errorStar=function(e,t,n){if(a.displayError(e,t,n))return r.a.createElement("span",{style:{color:"red"}},"\xa0*")},a.errorText=function(e,t,n,l){if(a.displayError(e,t,n))return r.a.createElement("div",{className:l.invalidFeedback},be()(e,n))},a.errorClass=function(e,t,n,r){if(a.displayError(e,t,n))return"".concat(r.isInvalid)},a.criteriaStyle=function(e,t){return be()(e,t)?"":"gray"},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.pollForm,n=t.updatePoll,l=t.classes;return r.a.createElement(U.f,{initialValues:a,validationSchema:Z.object().shape({pollJSON:Z.object().shape({proposal:Z.object().shape({}),vote:Z.object().shape({phasesBlockHeights:Z.object().shape({})})})}),onSubmit:function(t,a){if(be()(t,"pollJSON.proposal.text")?t=Wn()(t,"pollJSON.proposal.externalRef"):(t=Wn()(t,"pollJSON.proposal.text"),be()(t,"pollJSON.proposal").externalRef={href:be()(t,qn),hash:{value:"",algo:""}}),be()(t,Hn)||be()(t,zn)?be()(t,"pollJSON.vote.config").acceptanceCriteria={}:t=Wn()(t,Mn),be()(t,Hn)&&(be()(t,Mn).minTurnout={weighted:be()(t,"formFields.workingWeightMinTurnout"),unweighted:be()(t,"formFields.workingUnweightMinTurnout")}),be()(t,zn))if(be()(t,Mn).minSupport={},be()(t,Un)){var r=!0,l=!1,o=void 0;try{for(var c,i=be()(t,"pollJSON.vote.config.options")[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var s=c.value;be()(t,Mn).minSupport[s]={weighted:be()(t,"formFields.workingWeightMinSupport"),unweighted:be()(t,"formFields.workingUnweightMinSupport")}}}catch(m){l=!0,o=m}finally{try{r||null==i.return||i.return()}finally{if(l)throw o}}}else be()(t,Mn).minSupport=Object(G.a)({},be()(t,Gn),{weighted:be()(t,"formFields.workingWeightMinSupport"),unweighted:be()(t,"formFields.workingUnweightMinSupport")});n(t),e.props.handleNext()},render:function(t){var a=t.errors,n=t.touched,o=t.isSubmitting,c=t.values,i=t.setFieldValue,s=t.handleChange,m=t.handleBlur;return r.a.createElement(Gt.a,{container:!0,className:l.pad},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(Y,{text:"Configure Poll"})),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(U.e,{onKeyPress:e.handleKeyPress},r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Title:",e.errorStar(a,n,"pollJSON.proposal.title"))),r.a.createElement(Gt.a,{item:!0,xs:6,className:l.moveLeft},r.a.createElement(U.b,{type:"text",name:"pollJSON.proposal.title",size:"35",className:e.errorClass(a,n,"pollJSON.proposal.title",l)}),e.errorText(a,n,"pollJSON.proposal.title",l)),r.a.createElement(Gt.a,{item:!0,xs:3}),r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Commit Start Block:",e.errorStar(a,n,"pollJSON.vote.phasesBlockHeights.commitStart"))),r.a.createElement(Gt.a,{item:!0,xs:9,className:l.moveLeft},r.a.createElement(U.c,{type:"number",name:"pollJSON.vote.phasesBlockHeights.commitStart",className:e.errorClass(a,n,"pollJSON.vote.phasesBlockHeights.commitStart",l)}),e.errorText(a,n,"pollJSON.vote.phasesBlockHeights.commitStart",l)),r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Commit End Block:",e.errorStar(a,n,"pollJSON.vote.phasesBlockHeights.commitEnd"))),r.a.createElement(Gt.a,{item:!0,xs:9,className:l.moveLeft},r.a.createElement(U.c,{type:"number",name:"pollJSON.vote.phasesBlockHeights.commitEnd",className:e.errorClass(a,n,"pollJSON.vote.phasesBlockHeights.commitEnd",l)}),e.errorText(a,n,"pollJSON.vote.phasesBlockHeights.commitEnd",l)),r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Reveal Start Block:",e.errorStar(a,n,"pollJSON.vote.phasesBlockHeights.revealStart"))),r.a.createElement(Gt.a,{item:!0,xs:9,className:l.moveLeft},r.a.createElement(U.c,{type:"number",name:"pollJSON.vote.phasesBlockHeights.revealStart",className:e.errorClass(a,n,"pollJSON.vote.phasesBlockHeights.revealStart",l)}),e.errorText(a,n,"pollJSON.vote.phasesBlockHeights.revealStart",l)),r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Reveal End Block:",e.errorStar(a,n,"pollJSON.vote.phasesBlockHeights.revealEnd"))),r.a.createElement(Gt.a,{item:!0,xs:9,className:l.moveLeft},r.a.createElement(U.c,{type:"number",name:"pollJSON.vote.phasesBlockHeights.revealEnd",className:e.errorClass(a,n,"pollJSON.vote.phasesBlockHeights.revealEnd",l)}),e.errorText(a,n,"pollJSON.vote.phasesBlockHeights.revealEnd",l))),r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(Y,{text:"Question"})),r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(Se.a,{component:"fieldset"},r.a.createElement(xe.a,{name:"formFields.questionSource",value:be()(c,"formFields.questionSource"),onChange:function(e){s(e),"text"===e.target.value?i(qn,""):i("pollJSON.proposal.text","")},onBlur:m},r.a.createElement(Ce.a,{value:"text",control:r.a.createElement(ge.a,null),label:"Plain Text"}),r.a.createElement(Ce.a,{className:l.raiseRadio,value:"href",control:r.a.createElement(ge.a,null),label:"External Proposal"})))),"text"===be()(c,"formFields.questionSource")&&r.a.createElement(Gt.a,{item:!0,container:!0,xs:9},r.a.createElement(Gt.a,{item:!0,xs:2},r.a.createElement("br",null),r.a.createElement(P.a,{gutterBottom:!0},"Question:\xa0")),r.a.createElement(Gt.a,{item:!0,xs:10},r.a.createElement("br",null),r.a.createElement(U.c,{name:"pollJSON.proposal.text"},function(e){var t=e.field;return r.a.createElement("textarea",Object.assign({className:l.questionTextbox},t,{rows:"4",cols:"50"}))}))),"href"===be()(c,"formFields.questionSource")&&r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement("br",null),r.a.createElement(P.a,{gutterBottom:!0},"URL Link:",e.errorStar(a,n,qn),"\xa0",r.a.createElement(U.c,{type:"text",name:qn,className:e.errorClass(a,n,qn,l)})),e.errorText(a,n,qn,l))),r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement(Y,{text:"Answers"})),r.a.createElement(Gt.a,{item:!0,xs:1},r.a.createElement(P.a,{gutterBottom:!0},"Type:\xa0")),r.a.createElement(Gt.a,{item:!0,xs:11},r.a.createElement(U.c,{name:Jn,render:function(e){var t=e.field,a=e.form;return r.a.createElement("select",Object.assign({},t,{onChange:function(e){s(e);var t=e.target.value;a.setFieldValue("pollJSON.vote.config.options",[]),a.setFieldValue(Un,!0),a.setFieldValue(Gn,""),"Single Option Voting"===t?(a.setFieldValue("pollJSON.vote.type",0),a.setFieldValue("pollJSON.vote.config.minOptions",1),a.setFieldValue("pollJSON.vote.config.maxOptions",1)):"Approval Voting"===t?(a.setFieldValue("pollJSON.vote.type",0),a.setFieldValue("pollJSON.vote.config.minOptions",""),a.setFieldValue("pollJSON.vote.config.maxOptions","")):"Instant Runoff Voting"===t?(a.setFieldValue("pollJSON.vote.type",1),a.setFieldValue("pollJSON.vote.config.minOptions",""),a.setFieldValue("pollJSON.vote.config.maxOptions","")):(a.setFieldValue("pollJSON.vote.type",""),a.setFieldValue("pollJSON.vote.config.minOptions",""),a.setFieldValue("pollJSON.vote.config.maxOptions",""))}}),r.a.createElement("option",{value:"",defaultValue:!0}),r.a.createElement("option",{value:"Single Option Voting"},"Single Option Voting"),r.a.createElement("option",{value:"Approval Voting"},"Approval Voting"),r.a.createElement("option",{value:"Instant Runoff Voting"},"Instant Runoff Voting"))}})),be()(c,Jn)&&r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Compute Results Against:\xa0")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(U.c,{component:"select",name:"pollJSON.vote.config.computeResultsAgainst",onChange:function(e){s(e),"ALL_ELIGIBLE_VOTERS"===e.target.value?i(Kn,!1):i(Kn,"")}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"ALL_ELIGIBLE_VOTERS"},"All Eligible Voters"),r.a.createElement("option",{value:"PARTICIPANTS_ONLY"},"Participants Only"))),r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Allow Abstention:\xa0")),r.a.createElement(Gt.a,{item:!0,xs:9},"PARTICIPANTS_ONLY"===be()(c,"pollJSON.vote.config.computeResultsAgainst")||""===be()(c,"pollJSON.vote.config.computeResultsAgainst")?r.a.createElement(U.c,{component:"select",name:Kn},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:!0},"True"),r.a.createElement("option",{value:!1},"False")):"False")),("Approval Voting"===be()(c,Jn)||"Instant Runoff Voting"===be()(c,Jn))&&r.a.createElement(Gt.a,{container:!0,item:!0,xs:12},r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Minimum Options Allowed:\xa0\xa0")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(U.c,{type:"number",className:l.numberInput,name:"pollJSON.vote.config.minOptions"})),r.a.createElement(Gt.a,{item:!0,xs:3},r.a.createElement(P.a,{gutterBottom:!0},"Maximum Options Allowed:\xa0")),r.a.createElement(Gt.a,{item:!0,xs:9},r.a.createElement(U.c,{type:"number",className:l.numberInput,name:"pollJSON.vote.config.maxOptions"}))),be()(c,Jn)&&r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement($e.a,{elevation:10,className:l.pad},r.a.createElement(ce.a,{className:l.optionList,dense:!0},r.a.createElement(U.d,{name:"pollJSON.vote.config.options",render:function(e){return r.a.createElement("div",null,r.a.createElement(P.a,{variant:"subtitle1"},"Options\xa0\xa0",r.a.createElement(U.c,{name:"formFields.workingOption",type:"text"}),r.a.createElement("input",{type:"button",onClick:function(){e.push(be()(c,"formFields.workingOption")),i("formFields.workingOption","")},value:"Add",disabled:!be()(c,"formFields.workingOption")})),be()(c,"pollJSON.vote.config.options").length>0?be()(c,"pollJSON.vote.config.options").map(function(t,a){return r.a.createElement(se.a,{key:a,disableGutters:!0,divider:!0,className:l.optionListItem},r.a.createElement(en.a,{style:{fontSize:15}}),r.a.createElement(_a.a,{primary:t}),r.a.createElement(L.a,{onClick:function(){e.remove(a),be()(c,Gn)===t&&(i(Gn,""),i(Un,!0))},"aria-label":"Clear"},r.a.createElement(Nn.a,null)))}):r.a.createElement(se.a,{divider:!0},r.a.createElement(_a.a,{primary:"No Options have been added"})))}}))))),r.a.createElement(Gt.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y,{text:"Acceptance Criteria"}),r.a.createElement(ce.a,{dense:!0},r.a.createElement(se.a,{disableGutters:!0,divider:!0},r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement(U.c,{name:Hn,render:function(e){var t=e.field,a=e.form;return r.a.createElement(Ce.a,{control:r.a.createElement(vt.a,{name:Hn,checked:t.value,onChange:function(e){s(e),t.value&&(a.setFieldValue("formFields.workingWeightMinTurnout",""),a.setFieldValue("formFields.workingUnweightMinTurnout",""))},color:"default"}),label:"Minimum Turnout"})}})),r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement("label",{style:{color:e.criteriaStyle(c,Hn)}},"Weighted Ratio:\xa0\xa0\xa0\xa0\xa0",r.a.createElement("input",{name:"formFields.workingWeightMinTurnout",disabled:!be()(c,Hn),size:"4",onBlur:m,type:"number",className:l.numberInput,value:be()(c,"formFields.workingWeightMinTurnout"),onChange:s})),r.a.createElement("br",null),r.a.createElement("label",{style:{color:e.criteriaStyle(c,Hn)}},"Unweighted Ratio:\xa0",r.a.createElement("input",{name:"formFields.workingUnweightMinTurnout",disabled:!be()(c,Hn),size:"4",onBlur:m,type:"number",className:l.numberInput,value:be()(c,"formFields.workingUnweightMinTurnout"),onChange:s}))),r.a.createElement(Gt.a,{style:{color:e.criteriaStyle(c,Hn)},item:!0,xs:4},"Applies to all eligible voters."))),r.a.createElement(se.a,{disableGutters:!0,divider:!0},r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement(U.c,{name:zn,render:function(e){var t=e.field,a=e.form;return r.a.createElement(Ce.a,{control:r.a.createElement(vt.a,{name:zn,checked:t.value,onChange:function(e){s(e),a.setFieldValue(Un,!0),t.value&&(a.setFieldValue("formFields.workingWeightMinSupport",""),a.setFieldValue("formFields.workingUnweightMinSupport",""),a.setFieldValue(Gn,""))},color:"default"}),label:"Minimum Support"})}})),r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement("label",{style:{color:e.criteriaStyle(c,zn)}},"Weighted Ratio:\xa0\xa0\xa0\xa0\xa0",r.a.createElement("input",{name:"formFields.workingWeightMinSupport",disabled:!be()(c,zn),size:"4",onBlur:m,type:"number",className:l.numberInput,value:be()(c,"formFields.workingWeightMinSupport"),onChange:s})),r.a.createElement("br",null),r.a.createElement("label",{style:{color:e.criteriaStyle(c,zn)}},"Unweighted Ratio:\xa0",r.a.createElement("input",{name:"formFields.workingUnweightMinSupport",disabled:!be()(c,zn),size:"4",onBlur:m,type:"number",className:l.numberInput,value:be()(c,"formFields.workingUnweightMinSupport"),onChange:s}))),r.a.createElement(Gt.a,{item:!0,xs:4},r.a.createElement("div",{style:{color:e.criteriaStyle(c,zn)}},be()(c,Jn)?"Single Option Voting"===be()(c,Jn)?r.a.createElement("div",null,"Applies to option:\xa0",r.a.createElement(U.c,{name:Gn,component:"select",disabled:!be()(c,zn),onChange:function(e){s(e),e.target.value?i(Un,!1):i(Un,!0)}},r.a.createElement("option",{value:""},"All Options"),be()(c,"pollJSON.vote.config.options").map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))):"Applies to all options":"Select an Answer Type"))))))),r.a.createElement(Gt.a,{item:!0,xs:12,className:l.stepperButtons},r.a.createElement("br",null),r.a.createElement(v.a,{onClick:e.props.handleBack},"Back"),r.a.createElement(v.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Next"),o&&a&&window.scrollTo(0,0)))))}})}}]),t}(r.a.Component),Qn=Object(g.withStyles)(function(e){return{pad:{padding:15},questionTypeLabel:{paddingTop:"11px"},raiseRadio:{position:"relative",top:"-16px"},optionList:{width:"350px",overflow:"auto"},optionListItem:{padding:"0px"},numberInput:{width:"40px"},isInvalid:{borderColor:"#dc3545",borderWidth:"1.2px"},invalidFeedback:{color:"red",fontSize:"15px"},moveLeft:{marginLeft:"-50px"},stepperButtons:{marginLeft:"-15px"},questionTextbox:{marginLeft:"-27px"}}})(Zn),_n=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0},a.handleNext=function(){var e=a.state.activeStep;a.setState({activeStep:e+1})},a.handleBack=function(){var e=a.state.activeStep;a.setState({activeStep:e-1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getStepContent",value:function(e,t){switch(e){case 0:return r.a.createElement(Pn,{handleNext:this.handleNext,handleBack:this.handleBack,eligibleVotersForm:t.eligibleVotersForm,updateParticipants:t.updateParticipants});case 1:return r.a.createElement(Qn,{handleNext:this.handleNext,handleBack:this.handleBack,updatePoll:t.updatePoll,pollForm:t.pollForm});case 2:return r.a.createElement(In,{handleNext:this.handleNext,handleBack:this.handleBack,poll:t.pollForm});default:return"Content D"}}},{key:"getSteps",value:function(){return["Select Voters","Configure Poll","Preview & Sign"]}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.getSteps(),n=this.state.activeStep;return r.a.createElement(Dn,null,function(l){return r.a.createElement(Gt.a,{container:!0},r.a.createElement(Gt.a,{item:!0,xs:2}),r.a.createElement(Gt.a,{item:!0,xs:8},r.a.createElement($e.a,{className:t.pad},r.a.createElement(P.a,{variant:"h4",style:{opacity:".6"},align:"center"},"Create Poll"),r.a.createElement(de.a,{activeStep:n},a.map(function(e){return r.a.createElement(pe.a,{key:e},r.a.createElement(he.a,null,e))})),e.state.activeStep===a.length?r.a.createElement(Ln,null):r.a.createElement("div",null,r.a.createElement("div",null,e.getStepContent(n,l))))),r.a.createElement(Gt.a,{item:!0,xs:2}))})}}]),t}(r.a.Component),Yn=(Object(g.withStyles)(function(e){return{pad:{padding:"15px"}}})(_n),a(878)),Xn=a(877),$n=a(193),er=a.n($n),tr=Object(g.createMuiTheme)({palette:{}});var ar=function(e){return function(t){return r.a.createElement(g.MuiThemeProvider,{theme:tr},r.a.createElement(er.a,null),r.a.createElement(e,t))}},nr=a(402),rr=a(275),lr=a.n(rr),or=1e-8,cr=["importType","address","nickname","index"],ir=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).setDefaultIndex=function(){Qe()(a.getFactoidAddresses())?Qe()(a.getEntryCreditAddresses())||a.selectAddress(0,"ec"):a.selectAddress(0,"fct")},a.signWithSeed=function(){var e=Object(Ge.a)(He.a.mark(function e(t){var n,r,l,o,c,i,s,m,d;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mnemonic,r=t.index,l=t.toAddr,o=t.amount,c=t.type,i={},s=a.props.networkController.networkProps.bip32Account,m=new Ft.a.FactomBIP44(n),d=Object(je.keyToPrivateFctAddress)(m.generateFactoidPrivateKey(s,0,r)),"sendFCT"!==c){e.next=11;break}return e.next=8,a.props.factomCliController.factomCli.createFactoidTransaction(d,l,o);case 8:i=e.sent,e.next=15;break;case 11:if("convertFCT"!==c){e.next=15;break}return e.next=14,a.props.factomCliController.factomCli.createEntryCreditPurchaseTransaction(d,l,o);case 14:i=e.sent;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.verifyKey=function(e,t){var a=t.address;try{return Object(je.getPublicAddress)(e).valueOf()===a.valueOf()}catch(n){return!1}},a.verifySeed=function(e,t){var n=t.address,r=t.index;try{var l=new Ft.a.FactomBIP44(e),o=a.props.networkController.networkProps.bip32Account;return a.keyToFctAddress(l.generateFactoidPrivateKey(o,0,r)).valueOf()===n.valueOf()}catch(c){return!1}},a.getSeedAddresses=function(){var e=Object(Ge.a)(He.a.mark(function e(t,n,r,l){var o,c,i,s,m,d,u;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=[],c=a.props.networkController.networkProps.bip32Account,i=new Ft.a.FactomBIP44(t),s=n;s<n+r;s++)m=null,d=null,"fct"===l?(m=i.generateFactoidPrivateKey(c,0,s),d=a.keyToFctAddress(m)):"ec"===l&&(m=i.generateEntryCreditPrivateKey(c,0,s),d=a.keyToECAddress(m)),o.push({address:d,index:s});return e.next=6,Promise.all(o.map(a.updateWalletBalance));case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.addAddress=function(e,t){a.addAddresses([e],t),a.selectAddress(a.getNextIndex(t),t)},a.addAddresses=function(e,t){var n=a.props.networkController.networkProps.network;a.setState(function(a){return Object(Vn.a)({},a,{addresses:Object(Vn.a)({},a.addresses,Object(G.a)({},n,Object(Vn.a)({},a.addresses[n],Object(G.a)({},t,Object(ze.a)(a.addresses[n][t]).concat(Object(ze.a)(e))))))})},function(){a.setDefaultIndex(),a.updateBalances()})},a.getNextIndex=function(e){var t=0;return"fct"===e?t=a.getFactoidAddresses().length-1:"ec"===e&&(t=a.getEntryCreditAddresses().length-1),t},a.selectAddress=function(e,t){a.setState({activeAddressIndex_o:{index:e,type:t}})},a.getActiveAddress=function(){if(null!==a.state.activeAddressIndex_o){var e=a.props.networkController.networkProps.network;return a.state.addresses[e][a.state.activeAddressIndex_o.type][a.state.activeAddressIndex_o.index]}return null},a.getFactoidAddresses=function(){return a.getAddresses("fct")},a.getEntryCreditAddresses=function(){return a.getAddresses("ec")},a.getAddresses=function(e){var t=a.props.networkController.networkProps.network;return a.state.addresses[t][e]},a.updateWalletBalance=function(){var e=Object(Ge.a)(He.a.mark(function e(t){var n;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.factomCliController.factomCli.getBalance(t.address);case 2:return n=e.sent,e.abrupt("return",Object(Vn.a)({},t,{balance:n}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.updateBalances=Object(Ge.a)(He.a.mark(function e(){var t,n,r,l,o;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.networkController.networkProps.network,e.next=3,Promise.all([Promise.all(a.state.addresses[t].fct.map(a.updateWalletBalance)),Promise.all(a.state.addresses[t].ec.map(a.updateWalletBalance))]);case 3:n=e.sent,r=Object(nr.a)(n,2),l=r[0],o=r[1],a.setState(function(e){return Object(Vn.a)({},e,{addresses:Object(Vn.a)({},e.addresses,Object(G.a)({},t,Object(Vn.a)({},e.addresses[t],{ec:o,fct:l})))})});case 8:case"end":return e.stop()}},e,this)})),a.getEntryCreditRate=Object(Ge.a)(He.a.mark(function e(){return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.factomCliController.factomCli.getEntryCreditRate();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),a.getFactoshiFee=Object(Ge.a)(He.a.mark(function e(){var t,n,r;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getEntryCreditRate();case 2:return t=e.sent,n="FA3E6enA33y9f5K9q9nrWfcDNrVR4zAp4xpniizNjQbV4RAmPjat",r=je.Transaction.builder().input(n,Number.MAX_SAFE_INTEGER).output(n,Number.MAX_SAFE_INTEGER).build().computeRequiredFees(t,{rcdType:1}),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),a.getFactoidFee=Object(Ge.a)(He.a.mark(function e(){var t;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getFactoshiFee();case 2:return t=e.sent,e.abrupt("return",t*or);case 4:case"end":return e.stop()}},e,this)})),a.newStandardAddress=function(e,t){return{importType:"standard",address:e,nickname:t,balance:null,transactions:[],saveLocally:!1}},a.newSeedAddress=function(e,t,a){return{importType:"seed",address:e,nickname:t,balance:null,transactions:[],index:a,saveLocally:!1}},a.newLedgerAddress=function(e,t,a){return{importType:"ledger",address:e,nickname:t,balance:null,transactions:[],index:a,saveLocally:!1}},a.testnetFCTAddresses=[{importType:"seed",address:"FA26xe6wDQv3jWgddnywfcCugFgKm86uZT6r8HpK44YtVWhRipN1",nickname:"Wallet D",balance:null,transactions:[],index:0,saveLocally:!0},{importType:"standard",address:"FA2FSkSgGnZu7kF8nw5Sj1GYBt1BvSR1wpKY4JVMtCn3hPZnaXiT",nickname:"Testnet Wallet A",balance:null,transactions:[],saveLocally:!1},{importType:"standard",address:"FA3mqYWmgmFdwfqkR9avyR1a78XW6rvVVh2qGm28tUKs7fTm2o6x",nickname:"Testnet Wallet B",balance:null,transactions:[],saveLocally:!1},{importType:"standard",address:"FA211akgFTpra5n7MbEg6YMPDMh9JitQxQshBASB5A2ecKtx1Q3q",nickname:"Testnet Wallet C",balance:null,transactions:[],saveLocally:!1}],a.mainnetFCTAddresses=[{importType:"standard",address:"FA2MZs5wASMo9cCiKezdiQKCd8KA6Zbg2xKXKGmYEZBqon9J3ZKv",nickname:"My Wallet",balance:null,transactions:[],saveLocally:!0},{importType:"standard",address:"FA2MZs5wASMo9cCiKezdiQKCd8KA6Zbg2xKXKGmYEZBqon9J3ZKv",nickname:"Standard Wallet",balance:null,transactions:[],saveLocally:!1},{importType:"standard",address:"FA2MZs5wASMo9cCiKezdiQKCd8KA6Zbg2xKXKGmYEZBqon9J3ZKv",nickname:"Standard Wallet",balance:null,transactions:[],saveLocally:!1},{importType:"standard",address:"FA3pmaLxeLVypHij9WRyaqxruhdkNiPe4VML6FPBheuAhN6Mebtm",nickname:"Exchange Wallet",balance:null,transactions:[],saveLocally:!1},{importType:"standard",address:"FA2HnDrH4KUygYvD9aZ1yBBDnkYA9tdaDiZjWZqFpJgYMhvimo8p",nickname:"Work Wallet",balance:null,transactions:[],saveLocally:!1},{importType:"standard",address:"FA3foTbdFEkEyvjeUEZ6PDPddrtntsB3xoRm9qNdLHLSVtu2mpwy",nickname:"Wallet #4",balance:null,transactions:[],saveLocally:!1}],a.testnetECAddresses=[{importType:"seed",address:"EC27kDNpFcJQwvdpFXaXjPqhtDSf6VK8kRN8Fv7EkhvS9tVkuAfX",nickname:"EC Wallet A",balance:null,transactions:[],saveLocally:!0,index:0},{importType:"ledger",address:"EC2TuKK9byegSGiGtcD8DYa15s6vZRrv2UWRmUf7rKfsUGjcxA4h",nickname:"EC Wallet B",balance:null,transactions:[],saveLocally:!1,index:0},{importType:"standard",address:"EC3QVDcZ88chcKxHnatyigwq4nSZbsY56B6Q7HuyL9yUEFSoSf6Q",nickname:"EC Wallet C",balance:null,transactions:[],saveLocally:!1}],a.mainnetECAddresses=[{importType:"standard",address:"EC27kDNpFcJQwvdpFXaXjPqhtDSf6VK8kRN8Fv7EkhvS9tVkuAfX",nickname:"EC Wallet C",balance:null,transactions:[],saveLocally:!0},{importType:"standard",address:"EC3QVDcZ88chcKxHnatyigwq4nSZbsY56B6Q7HuyL9yUEFSoSf6Q",nickname:"EC3",balance:null,transactions:[],saveLocally:!1},{importType:"standard",address:"EC3QVDcZ88chcKxHnatyigwq4nSZbsY56B6Q7HuyL9yUEFSoSf6Q",nickname:"EC4",balance:null,transactions:[],saveLocally:!1},{importType:"standard",address:"EC3QVDcZ88chcKxHnatyigwq4nSZbsY56B6Q7HuyL9yUEFSoSf6Q",nickname:"EC5",balance:null,transactions:[],saveLocally:!1}],a.state={addresses:{mainnet:{fct:a.mainnetFCTAddresses,ec:a.mainnetECAddresses},testnet:{fct:a.testnetFCTAddresses,ec:a.testnetECAddresses}},signWithSeed:a.signWithSeed,getSeedAddresses:a.getSeedAddresses,getRandomMnemonic:a.getRandomMnemonic,verifySeed:a.verifySeed,verifyKey:a.verifyKey,getAddresses:a.getAddresses,getFactoidAddresses:a.getFactoidAddresses,getEntryCreditAddresses:a.getEntryCreditAddresses,addAddresses:a.addAddresses,addAddress:a.addAddress,activeAddressIndex_o:null,selectAddress:a.selectAddress,getActiveAddress:a.getActiveAddress,updateWalletBalance:a.updateWalletBalance,updateBalances:a.updateBalances,getEntryCreditRate:a.getEntryCreditRate,getFactoshiFee:a.getFactoshiFee,getFactoidFee:a.getFactoidFee,newStandardAddress:a.newStandardAddress,newSeedAddress:a.newSeedAddress,newLedgerAddress:a.newLedgerAddress},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.saveStateToLocalStorage(),this.updateBalances(),this.setDefaultIndex()}},{key:"deleteAddress",value:function(e,t){this.props.networkController.networkProps.network;this.saveStateToLocalStorage()}},{key:"saveStateToLocalStorage",value:function(){var e=function(e){return e.filter(function(e){return e.saveLocally}).map(function(e){return lr()(e,cr)})},t=this.state.addresses,a=t.mainnet,n=t.testnet;e(a.fct),e(a.ec),e(n.fct),e(n.ec)}},{key:"hydrateStateWithLocalStorage",value:function(){var e=lr()({importType:"ledger",address:"FA2nS1ueCTKuLXoZuXnGChU24D4VLs13McSSwdcWYbxwnpMkAHzw",nickname:"Ledger Wallet D",balance:null,transactions:[],index:0},cr);console.log(e)}},{key:"getRandomMnemonic",value:function(){return Ft.a.randomMnemonic()}},{key:"keyToFctAddress",value:function(e){return Object(je.getPublicAddress)(Object(je.keyToPrivateFctAddress)(e))}},{key:"keyToECAddress",value:function(e){return Object(je.getPublicAddress)(Object(je.keyToPrivateEcAddress)(e))}},{key:"render",value:function(){return r.a.createElement(S.a.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),sr=p()(ne.b,ea)(ir),mr=a(399),dr=a.n(mr),ur=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).defaultConnectionParams={host:"api.myfactomwallet.com",port:a.props.networkController.networkProps.apiPort,path:"/v2",debugPath:"/debug",protocol:"https",rejectUnauthorized:!0,retry:{retries:4,factor:2,minTimeout:500,maxTimeout:2e3}},a.newFactomCli=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new je.FactomCli(dr()(e,a.defaultConnectionParams))},a.connectToServer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.setState({factomCli:a.newFactomCli(e)})},a.state={factomCli:a.newFactomCli(),connectToServer:a.connectToServer},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement($t.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),pr=p()(ne.b)(ur),Er=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).networkProps={mainnet:{network:"mainnet",bip32Account:0,factoidAbbreviation:"FCT",factoidAbbreviationFull:"Factoid",ecAbbreviation:"EC",ecAbbreviationFull:"Entry Credit",apiPort:8188},testnet:{network:"testnet",bip32Account:2147483647,factoidAbbreviation:"TTS",factoidAbbreviationFull:"Testoid",ecAbbreviation:"TC",ecAbbreviationFull:"Test Credit",apiPort:8288}},a.state={networkProps:a.networkProps.testnet},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"changeNetwork",value:function(e){this.setState({networkProps:this.networkProps[e]})}},{key:"render",value:function(){return r.a.createElement(ne.a.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),hr=a(400),fr=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Yn.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Er,null,r.a.createElement(pr,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(sr,null,r.a.createElement(le,null),r.a.createElement(hr.a,null,r.a.createElement("div",{className:e.body},r.a.createElement(Xn.a,{exact:!0,path:"/",component:O}),r.a.createElement(Xn.a,{path:"/wallet/manage/",component:ka}),r.a.createElement(Xn.a,{path:"/wallet/add/",component:wa})))))))))}}]),t}(n.Component),br=p()(ar,Object(g.withStyles)(function(e){return{body:{width:"1200px",margin:"0 auto"}}}))(fr);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(br,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[448,2,1]]]);
//# sourceMappingURL=main.eb12836d.chunk.js.map